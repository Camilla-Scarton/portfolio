function iN(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function i0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function rN(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var gR={exports:{}},r0={},vR={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd=Symbol.for("react.element"),sN=Symbol.for("react.portal"),oN=Symbol.for("react.fragment"),aN=Symbol.for("react.strict_mode"),lN=Symbol.for("react.profiler"),cN=Symbol.for("react.provider"),uN=Symbol.for("react.context"),fN=Symbol.for("react.forward_ref"),dN=Symbol.for("react.suspense"),hN=Symbol.for("react.memo"),pN=Symbol.for("react.lazy"),xw=Symbol.iterator;function mN(n){return n===null||typeof n!="object"?null:(n=xw&&n[xw]||n["@@iterator"],typeof n=="function"?n:null)}var yR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xR=Object.assign,_R={};function Tu(n,e,t){this.props=n,this.context=e,this.refs=_R,this.updater=t||yR}Tu.prototype.isReactComponent={};Tu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Tu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function AR(){}AR.prototype=Tu.prototype;function lA(n,e,t){this.props=n,this.context=e,this.refs=_R,this.updater=t||yR}var cA=lA.prototype=new AR;cA.constructor=lA;xR(cA,Tu.prototype);cA.isPureReactComponent=!0;var _w=Array.isArray,SR=Object.prototype.hasOwnProperty,uA={current:null},MR={key:!0,ref:!0,__self:!0,__source:!0};function ER(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SR.call(e,i)&&!MR.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Xd,type:n,key:s,ref:o,props:r,_owner:uA.current}}function gN(n,e){return{$$typeof:Xd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function fA(n){return typeof n=="object"&&n!==null&&n.$$typeof===Xd}function vN(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Aw=/\/+/g;function ay(n,e){return typeof n=="object"&&n!==null&&n.key!=null?vN(""+n.key):e.toString(36)}function jm(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Xd:case sN:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+ay(o,0):i,_w(r)?(t="",n!=null&&(t=n.replace(Aw,"$&/")+"/"),jm(r,e,t,"",function(u){return u})):r!=null&&(fA(r)&&(r=gN(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Aw,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",_w(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+ay(s,a);o+=jm(s,e,t,l,r)}else if(l=mN(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+ay(s,a++),o+=jm(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mp(n,e,t){if(n==null)return n;var i=[],r=0;return jm(n,i,"","",function(s){return e.call(t,s,r++)}),i}function yN(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Mi={current:null},Xm={transition:null},xN={ReactCurrentDispatcher:Mi,ReactCurrentBatchConfig:Xm,ReactCurrentOwner:uA};bt.Children={map:Mp,forEach:function(n,e,t){Mp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Mp(n,function(){e++}),e},toArray:function(n){return Mp(n,function(e){return e})||[]},only:function(n){if(!fA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};bt.Component=Tu;bt.Fragment=oN;bt.Profiler=lN;bt.PureComponent=lA;bt.StrictMode=aN;bt.Suspense=dN;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xN;bt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=xR({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=uA.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)SR.call(e,l)&&!MR.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Xd,type:n.type,key:r,ref:s,props:i,_owner:o}};bt.createContext=function(n){return n={$$typeof:uN,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:cN,_context:n},n.Consumer=n};bt.createElement=ER;bt.createFactory=function(n){var e=ER.bind(null,n);return e.type=n,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(n){return{$$typeof:fN,render:n}};bt.isValidElement=fA;bt.lazy=function(n){return{$$typeof:pN,_payload:{_status:-1,_result:n},_init:yN}};bt.memo=function(n,e){return{$$typeof:hN,type:n,compare:e===void 0?null:e}};bt.startTransition=function(n){var e=Xm.transition;Xm.transition={};try{n()}finally{Xm.transition=e}};bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};bt.useCallback=function(n,e){return Mi.current.useCallback(n,e)};bt.useContext=function(n){return Mi.current.useContext(n)};bt.useDebugValue=function(){};bt.useDeferredValue=function(n){return Mi.current.useDeferredValue(n)};bt.useEffect=function(n,e){return Mi.current.useEffect(n,e)};bt.useId=function(){return Mi.current.useId()};bt.useImperativeHandle=function(n,e,t){return Mi.current.useImperativeHandle(n,e,t)};bt.useInsertionEffect=function(n,e){return Mi.current.useInsertionEffect(n,e)};bt.useLayoutEffect=function(n,e){return Mi.current.useLayoutEffect(n,e)};bt.useMemo=function(n,e){return Mi.current.useMemo(n,e)};bt.useReducer=function(n,e,t){return Mi.current.useReducer(n,e,t)};bt.useRef=function(n){return Mi.current.useRef(n)};bt.useState=function(n){return Mi.current.useState(n)};bt.useSyncExternalStore=function(n,e,t){return Mi.current.useSyncExternalStore(n,e,t)};bt.useTransition=function(){return Mi.current.useTransition()};bt.version="18.2.0";vR.exports=bt;var q=vR.exports;const Cl=i0(q),Vx=iN({__proto__:null,default:Cl},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N=q,AN=Symbol.for("react.element"),SN=Symbol.for("react.fragment"),MN=Object.prototype.hasOwnProperty,EN=_N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wN={key:!0,ref:!0,__self:!0,__source:!0};function wR(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)MN.call(e,i)&&!wN.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:AN,type:n,key:s,ref:o,props:r,_owner:EN.current}}r0.Fragment=SN;r0.jsx=wR;r0.jsxs=wR;gR.exports=r0;var ce=gR.exports,Wx={},TR={exports:{}},rr={},CR={exports:{}},bR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,H){var z=I.length;I.push(H);e:for(;0<z;){var $=z-1>>>1,Q=I[$];if(0<r(Q,H))I[$]=H,I[z]=Q,z=$;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var H=I[0],z=I.pop();if(z!==H){I[0]=z;e:for(var $=0,Q=I.length,ee=Q>>>1;$<ee;){var ie=2*($+1)-1,we=I[ie],xe=ie+1,V=I[xe];if(0>r(we,z))xe<Q&&0>r(V,we)?(I[$]=V,I[xe]=z,$=xe):(I[$]=we,I[ie]=z,$=ie);else if(xe<Q&&0>r(V,z))I[$]=V,I[xe]=z,$=xe;else break e}}return H}function r(I,H){var z=I.sortIndex-H.sortIndex;return z!==0?z:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var H=t(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=I)i(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function E(I){if(M=!1,S(I),!y)if(t(l)!==null)y=!0,se(T);else{var H=t(u);H!==null&&te(E,H.startTime-I)}}function T(I,H){y=!1,M&&(M=!1,g(B),B=-1),m=!0;var z=p;try{for(S(H),h=t(l);h!==null&&(!(h.expirationTime>H)||I&&!U());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var Q=$(h.expirationTime<=H);H=n.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(l)&&i(l),S(H)}else i(l);h=t(l)}if(h!==null)var ee=!0;else{var ie=t(u);ie!==null&&te(E,ie.startTime-H),ee=!1}return ee}finally{h=null,p=z,m=!1}}var R=!1,P=null,B=-1,b=5,L=-1;function U(){return!(n.unstable_now()-L<b)}function J(){if(P!==null){var I=n.unstable_now();L=I;var H=!0;try{H=P(!0,I)}finally{H?G():(R=!1,P=null)}}else R=!1}var G;if(typeof x=="function")G=function(){x(J)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,j=K.port2;K.port1.onmessage=J,G=function(){j.postMessage(null)}}else G=function(){A(J,0)};function se(I){P=I,R||(R=!0,G())}function te(I,H){B=A(function(){I(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,se(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var z=p;p=H;try{return I()}finally{p=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=p;p=I;try{return H()}finally{p=z}},n.unstable_scheduleCallback=function(I,H,z){var $=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?$+z:$):z=$,I){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,I={id:d++,callback:H,priorityLevel:I,startTime:z,expirationTime:Q,sortIndex:-1},z>$?(I.sortIndex=z,e(u,I),t(l)===null&&I===t(u)&&(M?(g(B),B=-1):M=!0,te(E,z-$))):(I.sortIndex=Q,e(l,I),y||m||(y=!0,se(T))),I},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(I){var H=p;return function(){var z=p;p=H;try{return I.apply(this,arguments)}finally{p=z}}}})(bR);CR.exports=bR;var TN=CR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR=q,tr=TN;function be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PR=new Set,ad={};function bl(n,e){ru(n,e),ru(n+"Capture",e)}function ru(n,e){for(ad[n]=e,n=0;n<e.length;n++)PR.add(e[n])}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jx=Object.prototype.hasOwnProperty,CN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sw={},Mw={};function bN(n){return jx.call(Mw,n)?!0:jx.call(Sw,n)?!1:CN.test(n)?Mw[n]=!0:(Sw[n]=!0,!1)}function RN(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function PN(n,e,t,i){if(e===null||typeof e>"u"||RN(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ei(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ei[n]=new Ei(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ei[e]=new Ei(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ei[n]=new Ei(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ei[n]=new Ei(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ei[n]=new Ei(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ei[n]=new Ei(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ei[n]=new Ei(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ei[n]=new Ei(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ei[n]=new Ei(n,5,!1,n.toLowerCase(),null,!1,!1)});var dA=/[\-:]([a-z])/g;function hA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(dA,hA);ei[e]=new Ei(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(dA,hA);ei[e]=new Ei(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(dA,hA);ei[e]=new Ei(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ei[n]=new Ei(n,1,!1,n.toLowerCase(),null,!1,!1)});ei.xlinkHref=new Ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ei[n]=new Ei(n,1,!1,n.toLowerCase(),null,!0,!0)});function pA(n,e,t,i){var r=ei.hasOwnProperty(e)?ei[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PN(e,t,r,i)&&(t=null),i||r===null?bN(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var uo=RR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ep=Symbol.for("react.element"),Mc=Symbol.for("react.portal"),Ec=Symbol.for("react.fragment"),mA=Symbol.for("react.strict_mode"),Xx=Symbol.for("react.profiler"),BR=Symbol.for("react.provider"),LR=Symbol.for("react.context"),gA=Symbol.for("react.forward_ref"),Jx=Symbol.for("react.suspense"),Kx=Symbol.for("react.suspense_list"),vA=Symbol.for("react.memo"),Fo=Symbol.for("react.lazy"),IR=Symbol.for("react.offscreen"),Ew=Symbol.iterator;function rf(n){return n===null||typeof n!="object"?null:(n=Ew&&n[Ew]||n["@@iterator"],typeof n=="function"?n:null)}var hn=Object.assign,ly;function Bf(n){if(ly===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);ly=e&&e[1]||""}return`
`+ly+n}var cy=!1;function uy(n,e){if(!n||cy)return"";cy=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{cy=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Bf(n):""}function BN(n){switch(n.tag){case 5:return Bf(n.type);case 16:return Bf("Lazy");case 13:return Bf("Suspense");case 19:return Bf("SuspenseList");case 0:case 2:case 15:return n=uy(n.type,!1),n;case 11:return n=uy(n.type.render,!1),n;case 1:return n=uy(n.type,!0),n;default:return""}}function Yx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ec:return"Fragment";case Mc:return"Portal";case Xx:return"Profiler";case mA:return"StrictMode";case Jx:return"Suspense";case Kx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case LR:return(n.displayName||"Context")+".Consumer";case BR:return(n._context.displayName||"Context")+".Provider";case gA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case vA:return e=n.displayName||null,e!==null?e:Yx(n.type)||"Memo";case Fo:e=n._payload,n=n._init;try{return Yx(n(e))}catch{}}return null}function LN(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yx(e);case 8:return e===mA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function DR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IN(n){var e=DR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function wp(n){n._valueTracker||(n._valueTracker=IN(n))}function FR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=DR(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function pg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Qx(n,e){var t=e.checked;return hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ww(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=sa(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NR(n,e){e=e.checked,e!=null&&pA(n,"checked",e,!1)}function Zx(n,e){NR(n,e);var t=sa(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?qx(n,e.type,t):e.hasOwnProperty("defaultValue")&&qx(n,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Tw(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function qx(n,e,t){(e!=="number"||pg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Lf=Array.isArray;function Xc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+sa(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function $x(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return hn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Cw(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(be(92));if(Lf(t)){if(1<t.length)throw Error(be(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:sa(t)}}function OR(n,e){var t=sa(e.value),i=sa(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function bw(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function kR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?kR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Tp,UR=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Tp=Tp||document.createElement("div"),Tp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ld(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Uf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DN=["Webkit","ms","Moz","O"];Object.keys(Uf).forEach(function(n){DN.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Uf[e]=Uf[n]})});function zR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Uf.hasOwnProperty(n)&&Uf[n]?(""+e).trim():e+"px"}function HR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=zR(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var FN=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t_(n,e){if(e){if(FN[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function n_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i_=null;function yA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var r_=null,Jc=null,Kc=null;function Rw(n){if(n=Yd(n)){if(typeof r_!="function")throw Error(be(280));var e=n.stateNode;e&&(e=c0(e),r_(n.stateNode,n.type,e))}}function GR(n){Jc?Kc?Kc.push(n):Kc=[n]:Jc=n}function VR(){if(Jc){var n=Jc,e=Kc;if(Kc=Jc=null,Rw(n),e)for(n=0;n<e.length;n++)Rw(e[n])}}function WR(n,e){return n(e)}function jR(){}var fy=!1;function XR(n,e,t){if(fy)return n(e,t);fy=!0;try{return WR(n,e,t)}finally{fy=!1,(Jc!==null||Kc!==null)&&(jR(),VR())}}function cd(n,e){var t=n.stateNode;if(t===null)return null;var i=c0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(be(231,e,typeof t));return t}var s_=!1;if(eo)try{var sf={};Object.defineProperty(sf,"passive",{get:function(){s_=!0}}),window.addEventListener("test",sf,sf),window.removeEventListener("test",sf,sf)}catch{s_=!1}function NN(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var zf=!1,mg=null,gg=!1,o_=null,ON={onError:function(n){zf=!0,mg=n}};function kN(n,e,t,i,r,s,o,a,l){zf=!1,mg=null,NN.apply(ON,arguments)}function UN(n,e,t,i,r,s,o,a,l){if(kN.apply(this,arguments),zf){if(zf){var u=mg;zf=!1,mg=null}else throw Error(be(198));gg||(gg=!0,o_=u)}}function Rl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function JR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Pw(n){if(Rl(n)!==n)throw Error(be(188))}function zN(n){var e=n.alternate;if(!e){if(e=Rl(n),e===null)throw Error(be(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return Pw(r),n;if(s===i)return Pw(r),e;s=s.sibling}throw Error(be(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(be(189))}}if(t.alternate!==i)throw Error(be(190))}if(t.tag!==3)throw Error(be(188));return t.stateNode.current===t?n:e}function KR(n){return n=zN(n),n!==null?YR(n):null}function YR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=YR(n);if(e!==null)return e;n=n.sibling}return null}var QR=tr.unstable_scheduleCallback,Bw=tr.unstable_cancelCallback,HN=tr.unstable_shouldYield,GN=tr.unstable_requestPaint,Sn=tr.unstable_now,VN=tr.unstable_getCurrentPriorityLevel,xA=tr.unstable_ImmediatePriority,ZR=tr.unstable_UserBlockingPriority,vg=tr.unstable_NormalPriority,WN=tr.unstable_LowPriority,qR=tr.unstable_IdlePriority,s0=null,xs=null;function jN(n){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(s0,n,void 0,(n.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:KN,XN=Math.log,JN=Math.LN2;function KN(n){return n>>>=0,n===0?32:31-(XN(n)/JN|0)|0}var Cp=64,bp=4194304;function If(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function yg(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=If(a):(s&=o,s!==0&&(i=If(s)))}else o=t&~r,o!==0?i=If(o):s!==0&&(i=If(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Kr(e),r=1<<t,i|=n[t],e&=~r;return i}function YN(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QN(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Kr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=YN(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function a_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function $R(){var n=Cp;return Cp<<=1,!(Cp&4194240)&&(Cp=64),n}function dy(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Jd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Kr(e),n[e]=t}function ZN(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Kr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function _A(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Kr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Gt=0;function eP(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var tP,AA,nP,iP,rP,l_=!1,Rp=[],Xo=null,Jo=null,Ko=null,ud=new Map,fd=new Map,zo=[],qN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lw(n,e){switch(n){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":Ko=null;break;case"pointerover":case"pointerout":ud.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(e.pointerId)}}function of(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Yd(e),e!==null&&AA(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function $N(n,e,t,i,r){switch(e){case"focusin":return Xo=of(Xo,n,e,t,i,r),!0;case"dragenter":return Jo=of(Jo,n,e,t,i,r),!0;case"mouseover":return Ko=of(Ko,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return ud.set(s,of(ud.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,fd.set(s,of(fd.get(s)||null,n,e,t,i,r)),!0}return!1}function sP(n){var e=Za(n.target);if(e!==null){var t=Rl(e);if(t!==null){if(e=t.tag,e===13){if(e=JR(t),e!==null){n.blockedOn=e,rP(n.priority,function(){nP(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=c_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);i_=i,t.target.dispatchEvent(i),i_=null}else return e=Yd(t),e!==null&&AA(e),n.blockedOn=t,!1;e.shift()}return!0}function Iw(n,e,t){Jm(n)&&t.delete(e)}function eO(){l_=!1,Xo!==null&&Jm(Xo)&&(Xo=null),Jo!==null&&Jm(Jo)&&(Jo=null),Ko!==null&&Jm(Ko)&&(Ko=null),ud.forEach(Iw),fd.forEach(Iw)}function af(n,e){n.blockedOn===e&&(n.blockedOn=null,l_||(l_=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,eO)))}function dd(n){function e(r){return af(r,n)}if(0<Rp.length){af(Rp[0],n);for(var t=1;t<Rp.length;t++){var i=Rp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Xo!==null&&af(Xo,n),Jo!==null&&af(Jo,n),Ko!==null&&af(Ko,n),ud.forEach(e),fd.forEach(e),t=0;t<zo.length;t++)i=zo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<zo.length&&(t=zo[0],t.blockedOn===null);)sP(t),t.blockedOn===null&&zo.shift()}var Yc=uo.ReactCurrentBatchConfig,xg=!0;function tO(n,e,t,i){var r=Gt,s=Yc.transition;Yc.transition=null;try{Gt=1,SA(n,e,t,i)}finally{Gt=r,Yc.transition=s}}function nO(n,e,t,i){var r=Gt,s=Yc.transition;Yc.transition=null;try{Gt=4,SA(n,e,t,i)}finally{Gt=r,Yc.transition=s}}function SA(n,e,t,i){if(xg){var r=c_(n,e,t,i);if(r===null)Sy(n,e,i,_g,t),Lw(n,i);else if($N(r,n,e,t,i))i.stopPropagation();else if(Lw(n,i),e&4&&-1<qN.indexOf(n)){for(;r!==null;){var s=Yd(r);if(s!==null&&tP(s),s=c_(n,e,t,i),s===null&&Sy(n,e,i,_g,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Sy(n,e,i,null,t)}}var _g=null;function c_(n,e,t,i){if(_g=null,n=yA(i),n=Za(n),n!==null)if(e=Rl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=JR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return _g=n,null}function oP(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VN()){case xA:return 1;case ZR:return 4;case vg:case WN:return 16;case qR:return 536870912;default:return 16}default:return 16}}var Go=null,MA=null,Km=null;function aP(){if(Km)return Km;var n,e=MA,t=e.length,i,r="value"in Go?Go.value:Go.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Km=r.slice(n,1<i?1-i:void 0)}function Ym(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Pp(){return!0}function Dw(){return!1}function sr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pp:Dw,this.isPropagationStopped=Dw,this}return hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Pp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Pp)},persist:function(){},isPersistent:Pp}),e}var Cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EA=sr(Cu),Kd=hn({},Cu,{view:0,detail:0}),iO=sr(Kd),hy,py,lf,o0=hn({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lf&&(lf&&n.type==="mousemove"?(hy=n.screenX-lf.screenX,py=n.screenY-lf.screenY):py=hy=0,lf=n),hy)},movementY:function(n){return"movementY"in n?n.movementY:py}}),Fw=sr(o0),rO=hn({},o0,{dataTransfer:0}),sO=sr(rO),oO=hn({},Kd,{relatedTarget:0}),my=sr(oO),aO=hn({},Cu,{animationName:0,elapsedTime:0,pseudoElement:0}),lO=sr(aO),cO=hn({},Cu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),uO=sr(cO),fO=hn({},Cu,{data:0}),Nw=sr(fO),dO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mO(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=pO[n])?!!e[n]:!1}function wA(){return mO}var gO=hn({},Kd,{key:function(n){if(n.key){var e=dO[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ym(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?hO[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wA,charCode:function(n){return n.type==="keypress"?Ym(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ym(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vO=sr(gO),yO=hn({},o0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ow=sr(yO),xO=hn({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wA}),_O=sr(xO),AO=hn({},Cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),SO=sr(AO),MO=hn({},o0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),EO=sr(MO),wO=[9,13,27,32],TA=eo&&"CompositionEvent"in window,Hf=null;eo&&"documentMode"in document&&(Hf=document.documentMode);var TO=eo&&"TextEvent"in window&&!Hf,lP=eo&&(!TA||Hf&&8<Hf&&11>=Hf),kw=String.fromCharCode(32),Uw=!1;function cP(n,e){switch(n){case"keyup":return wO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uP(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wc=!1;function CO(n,e){switch(n){case"compositionend":return uP(e);case"keypress":return e.which!==32?null:(Uw=!0,kw);case"textInput":return n=e.data,n===kw&&Uw?null:n;default:return null}}function bO(n,e){if(wc)return n==="compositionend"||!TA&&cP(n,e)?(n=aP(),Km=MA=Go=null,wc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lP&&e.locale!=="ko"?null:e.data;default:return null}}var RO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!RO[n.type]:e==="textarea"}function fP(n,e,t,i){GR(i),e=Ag(e,"onChange"),0<e.length&&(t=new EA("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Gf=null,hd=null;function PO(n){SP(n,0)}function a0(n){var e=bc(n);if(FR(e))return n}function BO(n,e){if(n==="change")return e}var dP=!1;if(eo){var gy;if(eo){var vy="oninput"in document;if(!vy){var Hw=document.createElement("div");Hw.setAttribute("oninput","return;"),vy=typeof Hw.oninput=="function"}gy=vy}else gy=!1;dP=gy&&(!document.documentMode||9<document.documentMode)}function Gw(){Gf&&(Gf.detachEvent("onpropertychange",hP),hd=Gf=null)}function hP(n){if(n.propertyName==="value"&&a0(hd)){var e=[];fP(e,hd,n,yA(n)),XR(PO,e)}}function LO(n,e,t){n==="focusin"?(Gw(),Gf=e,hd=t,Gf.attachEvent("onpropertychange",hP)):n==="focusout"&&Gw()}function IO(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return a0(hd)}function DO(n,e){if(n==="click")return a0(e)}function FO(n,e){if(n==="input"||n==="change")return a0(e)}function NO(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qr=typeof Object.is=="function"?Object.is:NO;function pd(n,e){if(qr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!jx.call(e,r)||!qr(n[r],e[r]))return!1}return!0}function Vw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ww(n,e){var t=Vw(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Vw(t)}}function pP(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?pP(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function mP(){for(var n=window,e=pg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=pg(n.document)}return e}function CA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function OO(n){var e=mP(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&pP(t.ownerDocument.documentElement,t)){if(i!==null&&CA(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Ww(t,s);var o=Ww(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var kO=eo&&"documentMode"in document&&11>=document.documentMode,Tc=null,u_=null,Vf=null,f_=!1;function jw(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;f_||Tc==null||Tc!==pg(i)||(i=Tc,"selectionStart"in i&&CA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vf&&pd(Vf,i)||(Vf=i,i=Ag(u_,"onSelect"),0<i.length&&(e=new EA("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Tc)))}function Bp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Cc={animationend:Bp("Animation","AnimationEnd"),animationiteration:Bp("Animation","AnimationIteration"),animationstart:Bp("Animation","AnimationStart"),transitionend:Bp("Transition","TransitionEnd")},yy={},gP={};eo&&(gP=document.createElement("div").style,"AnimationEvent"in window||(delete Cc.animationend.animation,delete Cc.animationiteration.animation,delete Cc.animationstart.animation),"TransitionEvent"in window||delete Cc.transitionend.transition);function l0(n){if(yy[n])return yy[n];if(!Cc[n])return n;var e=Cc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in gP)return yy[n]=e[t];return n}var vP=l0("animationend"),yP=l0("animationiteration"),xP=l0("animationstart"),_P=l0("transitionend"),AP=new Map,Xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(n,e){AP.set(n,e),bl(e,[n])}for(var xy=0;xy<Xw.length;xy++){var _y=Xw[xy],UO=_y.toLowerCase(),zO=_y[0].toUpperCase()+_y.slice(1);ga(UO,"on"+zO)}ga(vP,"onAnimationEnd");ga(yP,"onAnimationIteration");ga(xP,"onAnimationStart");ga("dblclick","onDoubleClick");ga("focusin","onFocus");ga("focusout","onBlur");ga(_P,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Df));function Jw(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,UN(i,e,void 0,n),n.currentTarget=null}function SP(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Jw(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Jw(r,a,u),s=l}}}if(gg)throw n=o_,gg=!1,o_=null,n}function Yt(n,e){var t=e[g_];t===void 0&&(t=e[g_]=new Set);var i=n+"__bubble";t.has(i)||(MP(e,n,2,!1),t.add(i))}function Ay(n,e,t){var i=0;e&&(i|=4),MP(t,n,i,e)}var Lp="_reactListening"+Math.random().toString(36).slice(2);function md(n){if(!n[Lp]){n[Lp]=!0,PR.forEach(function(t){t!=="selectionchange"&&(HO.has(t)||Ay(t,!1,n),Ay(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Lp]||(e[Lp]=!0,Ay("selectionchange",!1,e))}}function MP(n,e,t,i){switch(oP(e)){case 1:var r=tO;break;case 4:r=nO;break;default:r=SA}t=r.bind(null,e,t,n),r=void 0,!s_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Sy(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Za(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}XR(function(){var u=s,d=yA(t),h=[];e:{var p=AP.get(n);if(p!==void 0){var m=EA,y=n;switch(n){case"keypress":if(Ym(t)===0)break e;case"keydown":case"keyup":m=vO;break;case"focusin":y="focus",m=my;break;case"focusout":y="blur",m=my;break;case"beforeblur":case"afterblur":m=my;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_O;break;case vP:case yP:case xP:m=lO;break;case _P:m=SO;break;case"scroll":m=iO;break;case"wheel":m=EO;break;case"copy":case"cut":case"paste":m=uO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ow}var M=(e&4)!==0,A=!M&&n==="scroll",g=M?p!==null?p+"Capture":null:p;M=[];for(var x=u,S;x!==null;){S=x;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,g!==null&&(E=cd(x,g),E!=null&&M.push(gd(x,E,S)))),A)break;x=x.return}0<M.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:M}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==i_&&(y=t.relatedTarget||t.fromElement)&&(Za(y)||y[to]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=u,y=y?Za(y):null,y!==null&&(A=Rl(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(M=Fw,E="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(M=Ow,E="onPointerLeave",g="onPointerEnter",x="pointer"),A=m==null?p:bc(m),S=y==null?p:bc(y),p=new M(E,x+"leave",m,t,d),p.target=A,p.relatedTarget=S,E=null,Za(d)===u&&(M=new M(g,x+"enter",y,t,d),M.target=S,M.relatedTarget=A,E=M),A=E,m&&y)t:{for(M=m,g=y,x=0,S=M;S;S=Yl(S))x++;for(S=0,E=g;E;E=Yl(E))S++;for(;0<x-S;)M=Yl(M),x--;for(;0<S-x;)g=Yl(g),S--;for(;x--;){if(M===g||g!==null&&M===g.alternate)break t;M=Yl(M),g=Yl(g)}M=null}else M=null;m!==null&&Kw(h,p,m,M,!1),y!==null&&A!==null&&Kw(h,A,y,M,!0)}}e:{if(p=u?bc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=BO;else if(zw(p))if(dP)T=FO;else{T=IO;var R=LO}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=DO);if(T&&(T=T(n,u))){fP(h,T,t,d);break e}R&&R(n,p,u),n==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&qx(p,"number",p.value)}switch(R=u?bc(u):window,n){case"focusin":(zw(R)||R.contentEditable==="true")&&(Tc=R,u_=u,Vf=null);break;case"focusout":Vf=u_=Tc=null;break;case"mousedown":f_=!0;break;case"contextmenu":case"mouseup":case"dragend":f_=!1,jw(h,t,d);break;case"selectionchange":if(kO)break;case"keydown":case"keyup":jw(h,t,d)}var P;if(TA)e:{switch(n){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else wc?cP(n,t)&&(B="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(B="onCompositionStart");B&&(lP&&t.locale!=="ko"&&(wc||B!=="onCompositionStart"?B==="onCompositionEnd"&&wc&&(P=aP()):(Go=d,MA="value"in Go?Go.value:Go.textContent,wc=!0)),R=Ag(u,B),0<R.length&&(B=new Nw(B,n,null,t,d),h.push({event:B,listeners:R}),P?B.data=P:(P=uP(t),P!==null&&(B.data=P)))),(P=TO?CO(n,t):bO(n,t))&&(u=Ag(u,"onBeforeInput"),0<u.length&&(d=new Nw("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}SP(h,e)})}function gd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ag(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=cd(n,t),s!=null&&i.unshift(gd(n,s,r)),s=cd(n,e),s!=null&&i.push(gd(n,s,r))),n=n.return}return i}function Yl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Kw(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=cd(t,s),l!=null&&o.unshift(gd(t,l,a))):r||(l=cd(t,s),l!=null&&o.push(gd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var GO=/\r\n?/g,VO=/\u0000|\uFFFD/g;function Yw(n){return(typeof n=="string"?n:""+n).replace(GO,`
`).replace(VO,"")}function Ip(n,e,t){if(e=Yw(e),Yw(n)!==e&&t)throw Error(be(425))}function Sg(){}var d_=null,h_=null;function p_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m_=typeof setTimeout=="function"?setTimeout:void 0,WO=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,jO=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function(n){return Qw.resolve(null).then(n).catch(XO)}:m_;function XO(n){setTimeout(function(){throw n})}function My(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),dd(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);dd(e)}function Yo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Zw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var bu=Math.random().toString(36).slice(2),vs="__reactFiber$"+bu,vd="__reactProps$"+bu,to="__reactContainer$"+bu,g_="__reactEvents$"+bu,JO="__reactListeners$"+bu,KO="__reactHandles$"+bu;function Za(n){var e=n[vs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[to]||t[vs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Zw(n);n!==null;){if(t=n[vs])return t;n=Zw(n)}return e}n=t,t=n.parentNode}return null}function Yd(n){return n=n[vs]||n[to],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function bc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(be(33))}function c0(n){return n[vd]||null}var v_=[],Rc=-1;function va(n){return{current:n}}function qt(n){0>Rc||(n.current=v_[Rc],v_[Rc]=null,Rc--)}function Kt(n,e){Rc++,v_[Rc]=n.current,n.current=e}var oa={},di=va(oa),Fi=va(!1),ml=oa;function su(n,e){var t=n.type.contextTypes;if(!t)return oa;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ni(n){return n=n.childContextTypes,n!=null}function Mg(){qt(Fi),qt(di)}function qw(n,e,t){if(di.current!==oa)throw Error(be(168));Kt(di,e),Kt(Fi,t)}function EP(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(be(108,LN(n)||"Unknown",r));return hn({},t,i)}function Eg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||oa,ml=di.current,Kt(di,n),Kt(Fi,Fi.current),!0}function $w(n,e,t){var i=n.stateNode;if(!i)throw Error(be(169));t?(n=EP(n,e,ml),i.__reactInternalMemoizedMergedChildContext=n,qt(Fi),qt(di),Kt(di,n)):qt(Fi),Kt(Fi,t)}var Gs=null,u0=!1,Ey=!1;function wP(n){Gs===null?Gs=[n]:Gs.push(n)}function YO(n){u0=!0,wP(n)}function ya(){if(!Ey&&Gs!==null){Ey=!0;var n=0,e=Gt;try{var t=Gs;for(Gt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Gs=null,u0=!1}catch(r){throw Gs!==null&&(Gs=Gs.slice(n+1)),QR(xA,ya),r}finally{Gt=e,Ey=!1}}return null}var Pc=[],Bc=0,wg=null,Tg=0,Mr=[],Er=0,gl=null,js=1,Xs="";function Ga(n,e){Pc[Bc++]=Tg,Pc[Bc++]=wg,wg=n,Tg=e}function TP(n,e,t){Mr[Er++]=js,Mr[Er++]=Xs,Mr[Er++]=gl,gl=n;var i=js;n=Xs;var r=32-Kr(i)-1;i&=~(1<<r),t+=1;var s=32-Kr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,js=1<<32-Kr(e)+r|t<<r|i,Xs=s+n}else js=1<<s|t<<r|i,Xs=n}function bA(n){n.return!==null&&(Ga(n,1),TP(n,1,0))}function RA(n){for(;n===wg;)wg=Pc[--Bc],Pc[Bc]=null,Tg=Pc[--Bc],Pc[Bc]=null;for(;n===gl;)gl=Mr[--Er],Mr[Er]=null,Xs=Mr[--Er],Mr[Er]=null,js=Mr[--Er],Mr[Er]=null}var Zi=null,Ji=null,rn=!1,jr=null;function CP(n,e){var t=Tr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function eT(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Zi=n,Ji=Yo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Zi=n,Ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=gl!==null?{id:js,overflow:Xs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Tr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Zi=n,Ji=null,!0):!1;default:return!1}}function y_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function x_(n){if(rn){var e=Ji;if(e){var t=e;if(!eT(n,e)){if(y_(n))throw Error(be(418));e=Yo(t.nextSibling);var i=Zi;e&&eT(n,e)?CP(i,t):(n.flags=n.flags&-4097|2,rn=!1,Zi=n)}}else{if(y_(n))throw Error(be(418));n.flags=n.flags&-4097|2,rn=!1,Zi=n}}}function tT(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Zi=n}function Dp(n){if(n!==Zi)return!1;if(!rn)return tT(n),rn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!p_(n.type,n.memoizedProps)),e&&(e=Ji)){if(y_(n))throw bP(),Error(be(418));for(;e;)CP(n,e),e=Yo(e.nextSibling)}if(tT(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ji=Yo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ji=null}}else Ji=Zi?Yo(n.stateNode.nextSibling):null;return!0}function bP(){for(var n=Ji;n;)n=Yo(n.nextSibling)}function ou(){Ji=Zi=null,rn=!1}function PA(n){jr===null?jr=[n]:jr.push(n)}var QO=uo.ReactCurrentBatchConfig;function Gr(n,e){if(n&&n.defaultProps){e=hn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Cg=va(null),bg=null,Lc=null,BA=null;function LA(){BA=Lc=bg=null}function IA(n){var e=Cg.current;qt(Cg),n._currentValue=e}function __(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Qc(n,e){bg=n,BA=Lc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Di=!0),n.firstContext=null)}function Rr(n){var e=n._currentValue;if(BA!==n)if(n={context:n,memoizedValue:e,next:null},Lc===null){if(bg===null)throw Error(be(308));Lc=n,bg.dependencies={lanes:0,firstContext:n}}else Lc=Lc.next=n;return e}var qa=null;function DA(n){qa===null?qa=[n]:qa.push(n)}function RP(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,DA(e)):(t.next=r.next,r.next=t),e.interleaved=t,no(n,i)}function no(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var No=!1;function FA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PP(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Qs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Qo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Lt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,no(n,t)}return r=i.interleaved,r===null?(e.next=e,DA(i)):(e.next=r.next,r.next=e),i.interleaved=e,no(n,t)}function Qm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,_A(n,t)}}function nT(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Rg(n,e,t,i){var r=n.updateQueue;No=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,M=a;switch(p=e,m=t,M.tag){case 1:if(y=M.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=M.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=hn({},h,p);break e;case 2:No=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);yl|=o,n.lanes=o,n.memoizedState=h}}function iT(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(be(191,r));r.call(i)}}}var BP=new RR.Component().refs;function A_(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:hn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var f0={isMounted:function(n){return(n=n._reactInternals)?Rl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Ai(),r=qo(n),s=Qs(i,r);s.payload=e,t!=null&&(s.callback=t),e=Qo(n,s,r),e!==null&&(Yr(e,n,r,i),Qm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Ai(),r=qo(n),s=Qs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Qo(n,s,r),e!==null&&(Yr(e,n,r,i),Qm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ai(),i=qo(n),r=Qs(t,i);r.tag=2,e!=null&&(r.callback=e),e=Qo(n,r,i),e!==null&&(Yr(e,n,i,t),Qm(e,n,i))}};function rT(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!pd(t,i)||!pd(r,s):!0}function LP(n,e,t){var i=!1,r=oa,s=e.contextType;return typeof s=="object"&&s!==null?s=Rr(s):(r=Ni(e)?ml:di.current,i=e.contextTypes,s=(i=i!=null)?su(n,r):oa),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=f0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function sT(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&f0.enqueueReplaceState(e,e.state,null)}function S_(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=BP,FA(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Rr(s):(s=Ni(e)?ml:di.current,r.context=su(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(A_(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&f0.enqueueReplaceState(r,r.state,null),Rg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function cf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(be(309));var i=t.stateNode}if(!i)throw Error(be(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===BP&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(be(284));if(!t._owner)throw Error(be(290,n))}return n}function Fp(n,e){throw n=Object.prototype.toString.call(e),Error(be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function oT(n){var e=n._init;return e(n._payload)}function IP(n){function e(g,x){if(n){var S=g.deletions;S===null?(g.deletions=[x],g.flags|=16):S.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function i(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function r(g,x){return g=$o(g,x),g.index=0,g.sibling=null,g}function s(g,x,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<x?(g.flags|=2,x):S):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,x,S,E){return x===null||x.tag!==6?(x=By(S,g.mode,E),x.return=g,x):(x=r(x,S),x.return=g,x)}function l(g,x,S,E){var T=S.type;return T===Ec?d(g,x,S.props.children,E,S.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Fo&&oT(T)===x.type)?(E=r(x,S.props),E.ref=cf(g,x,S),E.return=g,E):(E=ng(S.type,S.key,S.props,null,g.mode,E),E.ref=cf(g,x,S),E.return=g,E)}function u(g,x,S,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Ly(S,g.mode,E),x.return=g,x):(x=r(x,S.children||[]),x.return=g,x)}function d(g,x,S,E,T){return x===null||x.tag!==7?(x=cl(S,g.mode,E,T),x.return=g,x):(x=r(x,S),x.return=g,x)}function h(g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=By(""+x,g.mode,S),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ep:return S=ng(x.type,x.key,x.props,null,g.mode,S),S.ref=cf(g,null,x),S.return=g,S;case Mc:return x=Ly(x,g.mode,S),x.return=g,x;case Fo:var E=x._init;return h(g,E(x._payload),S)}if(Lf(x)||rf(x))return x=cl(x,g.mode,S,null),x.return=g,x;Fp(g,x)}return null}function p(g,x,S,E){var T=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(g,x,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ep:return S.key===T?l(g,x,S,E):null;case Mc:return S.key===T?u(g,x,S,E):null;case Fo:return T=S._init,p(g,x,T(S._payload),E)}if(Lf(S)||rf(S))return T!==null?null:d(g,x,S,E,null);Fp(g,S)}return null}function m(g,x,S,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(S)||null,a(x,g,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ep:return g=g.get(E.key===null?S:E.key)||null,l(x,g,E,T);case Mc:return g=g.get(E.key===null?S:E.key)||null,u(x,g,E,T);case Fo:var R=E._init;return m(g,x,S,R(E._payload),T)}if(Lf(E)||rf(E))return g=g.get(S)||null,d(x,g,E,T,null);Fp(x,E)}return null}function y(g,x,S,E){for(var T=null,R=null,P=x,B=x=0,b=null;P!==null&&B<S.length;B++){P.index>B?(b=P,P=null):b=P.sibling;var L=p(g,P,S[B],E);if(L===null){P===null&&(P=b);break}n&&P&&L.alternate===null&&e(g,P),x=s(L,x,B),R===null?T=L:R.sibling=L,R=L,P=b}if(B===S.length)return t(g,P),rn&&Ga(g,B),T;if(P===null){for(;B<S.length;B++)P=h(g,S[B],E),P!==null&&(x=s(P,x,B),R===null?T=P:R.sibling=P,R=P);return rn&&Ga(g,B),T}for(P=i(g,P);B<S.length;B++)b=m(P,g,B,S[B],E),b!==null&&(n&&b.alternate!==null&&P.delete(b.key===null?B:b.key),x=s(b,x,B),R===null?T=b:R.sibling=b,R=b);return n&&P.forEach(function(U){return e(g,U)}),rn&&Ga(g,B),T}function M(g,x,S,E){var T=rf(S);if(typeof T!="function")throw Error(be(150));if(S=T.call(S),S==null)throw Error(be(151));for(var R=T=null,P=x,B=x=0,b=null,L=S.next();P!==null&&!L.done;B++,L=S.next()){P.index>B?(b=P,P=null):b=P.sibling;var U=p(g,P,L.value,E);if(U===null){P===null&&(P=b);break}n&&P&&U.alternate===null&&e(g,P),x=s(U,x,B),R===null?T=U:R.sibling=U,R=U,P=b}if(L.done)return t(g,P),rn&&Ga(g,B),T;if(P===null){for(;!L.done;B++,L=S.next())L=h(g,L.value,E),L!==null&&(x=s(L,x,B),R===null?T=L:R.sibling=L,R=L);return rn&&Ga(g,B),T}for(P=i(g,P);!L.done;B++,L=S.next())L=m(P,g,B,L.value,E),L!==null&&(n&&L.alternate!==null&&P.delete(L.key===null?B:L.key),x=s(L,x,B),R===null?T=L:R.sibling=L,R=L);return n&&P.forEach(function(J){return e(g,J)}),rn&&Ga(g,B),T}function A(g,x,S,E){if(typeof S=="object"&&S!==null&&S.type===Ec&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ep:e:{for(var T=S.key,R=x;R!==null;){if(R.key===T){if(T=S.type,T===Ec){if(R.tag===7){t(g,R.sibling),x=r(R,S.props.children),x.return=g,g=x;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Fo&&oT(T)===R.type){t(g,R.sibling),x=r(R,S.props),x.ref=cf(g,R,S),x.return=g,g=x;break e}t(g,R);break}else e(g,R);R=R.sibling}S.type===Ec?(x=cl(S.props.children,g.mode,E,S.key),x.return=g,g=x):(E=ng(S.type,S.key,S.props,null,g.mode,E),E.ref=cf(g,x,S),E.return=g,g=E)}return o(g);case Mc:e:{for(R=S.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){t(g,x.sibling),x=r(x,S.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=Ly(S,g.mode,E),x.return=g,g=x}return o(g);case Fo:return R=S._init,A(g,x,R(S._payload),E)}if(Lf(S))return y(g,x,S,E);if(rf(S))return M(g,x,S,E);Fp(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(t(g,x.sibling),x=r(x,S),x.return=g,g=x):(t(g,x),x=By(S,g.mode,E),x.return=g,g=x),o(g)):t(g,x)}return A}var au=IP(!0),DP=IP(!1),Qd={},_s=va(Qd),yd=va(Qd),xd=va(Qd);function $a(n){if(n===Qd)throw Error(be(174));return n}function NA(n,e){switch(Kt(xd,e),Kt(yd,n),Kt(_s,Qd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=e_(e,n)}qt(_s),Kt(_s,e)}function lu(){qt(_s),qt(yd),qt(xd)}function FP(n){$a(xd.current);var e=$a(_s.current),t=e_(e,n.type);e!==t&&(Kt(yd,n),Kt(_s,t))}function OA(n){yd.current===n&&(qt(_s),qt(yd))}var an=va(0);function Pg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wy=[];function kA(){for(var n=0;n<wy.length;n++)wy[n]._workInProgressVersionPrimary=null;wy.length=0}var Zm=uo.ReactCurrentDispatcher,Ty=uo.ReactCurrentBatchConfig,vl=0,dn=null,Ln=null,Vn=null,Bg=!1,Wf=!1,_d=0,ZO=0;function oi(){throw Error(be(321))}function UA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!qr(n[t],e[t]))return!1;return!0}function zA(n,e,t,i,r,s){if(vl=s,dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zm.current=n===null||n.memoizedState===null?tk:nk,n=t(i,r),Wf){s=0;do{if(Wf=!1,_d=0,25<=s)throw Error(be(301));s+=1,Vn=Ln=null,e.updateQueue=null,Zm.current=ik,n=t(i,r)}while(Wf)}if(Zm.current=Lg,e=Ln!==null&&Ln.next!==null,vl=0,Vn=Ln=dn=null,Bg=!1,e)throw Error(be(300));return n}function HA(){var n=_d!==0;return _d=0,n}function ms(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?dn.memoizedState=Vn=n:Vn=Vn.next=n,Vn}function Pr(){if(Ln===null){var n=dn.alternate;n=n!==null?n.memoizedState:null}else n=Ln.next;var e=Vn===null?dn.memoizedState:Vn.next;if(e!==null)Vn=e,Ln=n;else{if(n===null)throw Error(be(310));Ln=n,n={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Vn===null?dn.memoizedState=Vn=n:Vn=Vn.next=n}return Vn}function Ad(n,e){return typeof e=="function"?e(n):e}function Cy(n){var e=Pr(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var i=Ln,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((vl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,dn.lanes|=d,yl|=d}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,qr(i,e.memoizedState)||(Di=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,dn.lanes|=s,yl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function by(n){var e=Pr(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);qr(s,e.memoizedState)||(Di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function NP(){}function OP(n,e){var t=dn,i=Pr(),r=e(),s=!qr(i.memoizedState,r);if(s&&(i.memoizedState=r,Di=!0),i=i.queue,GA(zP.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Vn!==null&&Vn.memoizedState.tag&1){if(t.flags|=2048,Sd(9,UP.bind(null,t,i,r,e),void 0,null),Xn===null)throw Error(be(349));vl&30||kP(t,e,r)}return r}function kP(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function UP(n,e,t,i){e.value=t,e.getSnapshot=i,HP(e)&&GP(n)}function zP(n,e,t){return t(function(){HP(e)&&GP(n)})}function HP(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!qr(n,t)}catch{return!0}}function GP(n){var e=no(n,1);e!==null&&Yr(e,n,1,-1)}function aT(n){var e=ms();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:n},e.queue=n,n=n.dispatch=ek.bind(null,dn,n),[e.memoizedState,n]}function Sd(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function VP(){return Pr().memoizedState}function qm(n,e,t,i){var r=ms();dn.flags|=n,r.memoizedState=Sd(1|e,t,void 0,i===void 0?null:i)}function d0(n,e,t,i){var r=Pr();i=i===void 0?null:i;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,i!==null&&UA(i,o.deps)){r.memoizedState=Sd(e,t,s,i);return}}dn.flags|=n,r.memoizedState=Sd(1|e,t,s,i)}function lT(n,e){return qm(8390656,8,n,e)}function GA(n,e){return d0(2048,8,n,e)}function WP(n,e){return d0(4,2,n,e)}function jP(n,e){return d0(4,4,n,e)}function XP(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function JP(n,e,t){return t=t!=null?t.concat([n]):null,d0(4,4,XP.bind(null,e,n),t)}function VA(){}function KP(n,e){var t=Pr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&UA(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function YP(n,e){var t=Pr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&UA(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function QP(n,e,t){return vl&21?(qr(t,e)||(t=$R(),dn.lanes|=t,yl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Di=!0),n.memoizedState=t)}function qO(n,e){var t=Gt;Gt=t!==0&&4>t?t:4,n(!0);var i=Ty.transition;Ty.transition={};try{n(!1),e()}finally{Gt=t,Ty.transition=i}}function ZP(){return Pr().memoizedState}function $O(n,e,t){var i=qo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},qP(n))$P(e,t);else if(t=RP(n,e,t,i),t!==null){var r=Ai();Yr(t,n,i,r),eB(t,e,i)}}function ek(n,e,t){var i=qo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(qP(n))$P(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,qr(a,o)){var l=e.interleaved;l===null?(r.next=r,DA(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=RP(n,e,r,i),t!==null&&(r=Ai(),Yr(t,n,i,r),eB(t,e,i))}}function qP(n){var e=n.alternate;return n===dn||e!==null&&e===dn}function $P(n,e){Wf=Bg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function eB(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,_A(n,t)}}var Lg={readContext:Rr,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useInsertionEffect:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useSyncExternalStore:oi,useId:oi,unstable_isNewReconciler:!1},tk={readContext:Rr,useCallback:function(n,e){return ms().memoizedState=[n,e===void 0?null:e],n},useContext:Rr,useEffect:lT,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,qm(4194308,4,XP.bind(null,e,n),t)},useLayoutEffect:function(n,e){return qm(4194308,4,n,e)},useInsertionEffect:function(n,e){return qm(4,2,n,e)},useMemo:function(n,e){var t=ms();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ms();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=$O.bind(null,dn,n),[i.memoizedState,n]},useRef:function(n){var e=ms();return n={current:n},e.memoizedState=n},useState:aT,useDebugValue:VA,useDeferredValue:function(n){return ms().memoizedState=n},useTransition:function(){var n=aT(!1),e=n[0];return n=qO.bind(null,n[1]),ms().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=dn,r=ms();if(rn){if(t===void 0)throw Error(be(407));t=t()}else{if(t=e(),Xn===null)throw Error(be(349));vl&30||kP(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,lT(zP.bind(null,i,s,n),[n]),i.flags|=2048,Sd(9,UP.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=ms(),e=Xn.identifierPrefix;if(rn){var t=Xs,i=js;t=(i&~(1<<32-Kr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=_d++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ZO++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},nk={readContext:Rr,useCallback:KP,useContext:Rr,useEffect:GA,useImperativeHandle:JP,useInsertionEffect:WP,useLayoutEffect:jP,useMemo:YP,useReducer:Cy,useRef:VP,useState:function(){return Cy(Ad)},useDebugValue:VA,useDeferredValue:function(n){var e=Pr();return QP(e,Ln.memoizedState,n)},useTransition:function(){var n=Cy(Ad)[0],e=Pr().memoizedState;return[n,e]},useMutableSource:NP,useSyncExternalStore:OP,useId:ZP,unstable_isNewReconciler:!1},ik={readContext:Rr,useCallback:KP,useContext:Rr,useEffect:GA,useImperativeHandle:JP,useInsertionEffect:WP,useLayoutEffect:jP,useMemo:YP,useReducer:by,useRef:VP,useState:function(){return by(Ad)},useDebugValue:VA,useDeferredValue:function(n){var e=Pr();return Ln===null?e.memoizedState=n:QP(e,Ln.memoizedState,n)},useTransition:function(){var n=by(Ad)[0],e=Pr().memoizedState;return[n,e]},useMutableSource:NP,useSyncExternalStore:OP,useId:ZP,unstable_isNewReconciler:!1};function cu(n,e){try{var t="",i=e;do t+=BN(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Ry(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function M_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var rk=typeof WeakMap=="function"?WeakMap:Map;function tB(n,e,t){t=Qs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Dg||(Dg=!0,I_=i),M_(n,e)},t}function nB(n,e,t){t=Qs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){M_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){M_(n,e),typeof i!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function cT(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new rk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=yk.bind(null,n,e,t),e.then(n,n))}function uT(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function fT(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Qs(-1,1),e.tag=2,Qo(t,e,1))),t.lanes|=1),n)}var sk=uo.ReactCurrentOwner,Di=!1;function _i(n,e,t,i){e.child=n===null?DP(e,null,t,i):au(e,n.child,t,i)}function dT(n,e,t,i,r){t=t.render;var s=e.ref;return Qc(e,r),i=zA(n,e,t,i,s,r),t=HA(),n!==null&&!Di?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,io(n,e,r)):(rn&&t&&bA(e),e.flags|=1,_i(n,e,i,r),e.child)}function hT(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!ZA(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,iB(n,e,s,i,r)):(n=ng(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:pd,t(o,i)&&n.ref===e.ref)return io(n,e,r)}return e.flags|=1,n=$o(s,i),n.ref=e.ref,n.return=e,e.child=n}function iB(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(pd(s,i)&&n.ref===e.ref)if(Di=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Di=!0);else return e.lanes=n.lanes,io(n,e,r)}return E_(n,e,t,i,r)}function rB(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Dc,Xi),Xi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Kt(Dc,Xi),Xi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Kt(Dc,Xi),Xi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Kt(Dc,Xi),Xi|=i;return _i(n,e,r,t),e.child}function sB(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function E_(n,e,t,i,r){var s=Ni(t)?ml:di.current;return s=su(e,s),Qc(e,r),t=zA(n,e,t,i,s,r),i=HA(),n!==null&&!Di?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,io(n,e,r)):(rn&&i&&bA(e),e.flags|=1,_i(n,e,t,r),e.child)}function pT(n,e,t,i,r){if(Ni(t)){var s=!0;Eg(e)}else s=!1;if(Qc(e,r),e.stateNode===null)$m(n,e),LP(e,t,i),S_(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Rr(u):(u=Ni(t)?ml:di.current,u=su(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&sT(e,o,i,u),No=!1;var p=e.memoizedState;o.state=p,Rg(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Fi.current||No?(typeof d=="function"&&(A_(e,t,d,i),l=e.memoizedState),(a=No||rT(e,t,a,i,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,PP(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Gr(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Rr(l):(l=Ni(t)?ml:di.current,l=su(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&sT(e,o,i,l),No=!1,p=e.memoizedState,o.state=p,Rg(e,i,o,r);var y=e.memoizedState;a!==h||p!==y||Fi.current||No?(typeof m=="function"&&(A_(e,t,m,i),y=e.memoizedState),(u=No||rT(e,t,u,i,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return w_(n,e,t,i,s,r)}function w_(n,e,t,i,r,s){sB(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&$w(e,t,!1),io(n,e,s);i=e.stateNode,sk.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=au(e,n.child,null,s),e.child=au(e,null,a,s)):_i(n,e,a,s),e.memoizedState=i.state,r&&$w(e,t,!0),e.child}function oB(n){var e=n.stateNode;e.pendingContext?qw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&qw(n,e.context,!1),NA(n,e.containerInfo)}function mT(n,e,t,i,r){return ou(),PA(r),e.flags|=256,_i(n,e,t,i),e.child}var T_={dehydrated:null,treeContext:null,retryLane:0};function C_(n){return{baseLanes:n,cachePool:null,transitions:null}}function aB(n,e,t){var i=e.pendingProps,r=an.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Kt(an,r&1),n===null)return x_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=m0(o,i,0,null),n=cl(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=C_(t),e.memoizedState=T_,n):WA(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return ok(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=$o(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=$o(a,s):(s=cl(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?C_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=T_,i}return s=n.child,n=s.sibling,i=$o(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function WA(n,e){return e=m0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Np(n,e,t,i){return i!==null&&PA(i),au(e,n.child,null,t),n=WA(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ok(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Ry(Error(be(422))),Np(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=m0({mode:"visible",children:i.children},r,0,null),s=cl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&au(e,n.child,null,o),e.child.memoizedState=C_(o),e.memoizedState=T_,s);if(!(e.mode&1))return Np(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(be(419)),i=Ry(s,i,void 0),Np(n,e,o,i)}if(a=(o&n.childLanes)!==0,Di||a){if(i=Xn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,no(n,r),Yr(i,n,r,-1))}return QA(),i=Ry(Error(be(421))),Np(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=xk.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Ji=Yo(r.nextSibling),Zi=e,rn=!0,jr=null,n!==null&&(Mr[Er++]=js,Mr[Er++]=Xs,Mr[Er++]=gl,js=n.id,Xs=n.overflow,gl=e),e=WA(e,i.children),e.flags|=4096,e)}function gT(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),__(n.return,e,t)}function Py(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function lB(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(_i(n,e,i.children,t),i=an.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&gT(n,t,e);else if(n.tag===19)gT(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Kt(an,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Pg(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Py(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Pg(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Py(e,!0,t,null,s);break;case"together":Py(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $m(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function io(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),yl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(be(153));if(e.child!==null){for(n=e.child,t=$o(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=$o(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function ak(n,e,t){switch(e.tag){case 3:oB(e),ou();break;case 5:FP(e);break;case 1:Ni(e.type)&&Eg(e);break;case 4:NA(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Kt(Cg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Kt(an,an.current&1),e.flags|=128,null):t&e.child.childLanes?aB(n,e,t):(Kt(an,an.current&1),n=io(n,e,t),n!==null?n.sibling:null);Kt(an,an.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return lB(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Kt(an,an.current),i)break;return null;case 22:case 23:return e.lanes=0,rB(n,e,t)}return io(n,e,t)}var cB,b_,uB,fB;cB=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};b_=function(){};uB=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,$a(_s.current);var s=null;switch(t){case"input":r=Qx(n,r),i=Qx(n,i),s=[];break;case"select":r=hn({},r,{value:void 0}),i=hn({},i,{value:void 0}),s=[];break;case"textarea":r=$x(n,r),i=$x(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Sg)}t_(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ad.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ad.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Yt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};fB=function(n,e,t,i){t!==i&&(e.flags|=4)};function uf(n,e){if(!rn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ai(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function lk(n,e,t){var i=e.pendingProps;switch(RA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(e),null;case 1:return Ni(e.type)&&Mg(),ai(e),null;case 3:return i=e.stateNode,lu(),qt(Fi),qt(di),kA(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Dp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&(N_(jr),jr=null))),b_(n,e),ai(e),null;case 5:OA(e);var r=$a(xd.current);if(t=e.type,n!==null&&e.stateNode!=null)uB(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(be(166));return ai(e),null}if(n=$a(_s.current),Dp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[vs]=e,i[vd]=s,n=(e.mode&1)!==0,t){case"dialog":Yt("cancel",i),Yt("close",i);break;case"iframe":case"object":case"embed":Yt("load",i);break;case"video":case"audio":for(r=0;r<Df.length;r++)Yt(Df[r],i);break;case"source":Yt("error",i);break;case"img":case"image":case"link":Yt("error",i),Yt("load",i);break;case"details":Yt("toggle",i);break;case"input":ww(i,s),Yt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Yt("invalid",i);break;case"textarea":Cw(i,s),Yt("invalid",i)}t_(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ip(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ip(i.textContent,a,n),r=["children",""+a]):ad.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Yt("scroll",i)}switch(t){case"input":wp(i),Tw(i,s,!0);break;case"textarea":wp(i),bw(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Sg)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=kR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[vs]=e,n[vd]=i,cB(n,e,!1,!1),e.stateNode=n;e:{switch(o=n_(t,i),t){case"dialog":Yt("cancel",n),Yt("close",n),r=i;break;case"iframe":case"object":case"embed":Yt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Df.length;r++)Yt(Df[r],n);r=i;break;case"source":Yt("error",n),r=i;break;case"img":case"image":case"link":Yt("error",n),Yt("load",n),r=i;break;case"details":Yt("toggle",n),r=i;break;case"input":ww(n,i),r=Qx(n,i),Yt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=hn({},i,{value:void 0}),Yt("invalid",n);break;case"textarea":Cw(n,i),r=$x(n,i),Yt("invalid",n);break;default:r=i}t_(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?HR(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UR(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&ld(n,l):typeof l=="number"&&ld(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ad.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Yt("scroll",n):l!=null&&pA(n,s,l,o))}switch(t){case"input":wp(n),Tw(n,i,!1);break;case"textarea":wp(n),bw(n);break;case"option":i.value!=null&&n.setAttribute("value",""+sa(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Xc(n,!!i.multiple,s,!1):i.defaultValue!=null&&Xc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Sg)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ai(e),null;case 6:if(n&&e.stateNode!=null)fB(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(be(166));if(t=$a(xd.current),$a(_s.current),Dp(e)){if(i=e.stateNode,t=e.memoizedProps,i[vs]=e,(s=i.nodeValue!==t)&&(n=Zi,n!==null))switch(n.tag){case 3:Ip(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ip(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[vs]=e,e.stateNode=i}return ai(e),null;case 13:if(qt(an),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(rn&&Ji!==null&&e.mode&1&&!(e.flags&128))bP(),ou(),e.flags|=98560,s=!1;else if(s=Dp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[vs]=e}else ou(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ai(e),s=!1}else jr!==null&&(N_(jr),jr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||an.current&1?Dn===0&&(Dn=3):QA())),e.updateQueue!==null&&(e.flags|=4),ai(e),null);case 4:return lu(),b_(n,e),n===null&&md(e.stateNode.containerInfo),ai(e),null;case 10:return IA(e.type._context),ai(e),null;case 17:return Ni(e.type)&&Mg(),ai(e),null;case 19:if(qt(an),s=e.memoizedState,s===null)return ai(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)uf(s,!1);else{if(Dn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Pg(n),o!==null){for(e.flags|=128,uf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Kt(an,an.current&1|2),e.child}n=n.sibling}s.tail!==null&&Sn()>uu&&(e.flags|=128,i=!0,uf(s,!1),e.lanes=4194304)}else{if(!i)if(n=Pg(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),uf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rn)return ai(e),null}else 2*Sn()-s.renderingStartTime>uu&&t!==1073741824&&(e.flags|=128,i=!0,uf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sn(),e.sibling=null,t=an.current,Kt(an,i?t&1|2:t&1),e):(ai(e),null);case 22:case 23:return YA(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Xi&1073741824&&(ai(e),e.subtreeFlags&6&&(e.flags|=8192)):ai(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function ck(n,e){switch(RA(e),e.tag){case 1:return Ni(e.type)&&Mg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return lu(),qt(Fi),qt(di),kA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return OA(e),null;case 13:if(qt(an),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(be(340));ou()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return qt(an),null;case 4:return lu(),null;case 10:return IA(e.type._context),null;case 22:case 23:return YA(),null;case 24:return null;default:return null}}var Op=!1,fi=!1,uk=typeof WeakSet=="function"?WeakSet:Set,He=null;function Ic(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){gn(n,e,i)}else t.current=null}function R_(n,e,t){try{t()}catch(i){gn(n,e,i)}}var vT=!1;function fk(n,e){if(d_=xg,n=mP(),CA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++u===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(h_={focusedElem:n,selectionRange:t},xg=!1,He=e;He!==null;)if(e=He,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,He=n;else for(;He!==null;){e=He;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var M=y.memoizedProps,A=y.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?M:Gr(e.type,M),A);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(E){gn(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}return y=vT,vT=!1,y}function jf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&R_(e,t,s)}r=r.next}while(r!==i)}}function h0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function P_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function dB(n){var e=n.alternate;e!==null&&(n.alternate=null,dB(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[vs],delete e[vd],delete e[g_],delete e[JO],delete e[KO])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function hB(n){return n.tag===5||n.tag===3||n.tag===4}function yT(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hB(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function B_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Sg));else if(i!==4&&(n=n.child,n!==null))for(B_(n,e,t),n=n.sibling;n!==null;)B_(n,e,t),n=n.sibling}function L_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(L_(n,e,t),n=n.sibling;n!==null;)L_(n,e,t),n=n.sibling}var Zn=null,Wr=!1;function Eo(n,e,t){for(t=t.child;t!==null;)pB(n,e,t),t=t.sibling}function pB(n,e,t){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(s0,t)}catch{}switch(t.tag){case 5:fi||Ic(t,e);case 6:var i=Zn,r=Wr;Zn=null,Eo(n,e,t),Zn=i,Wr=r,Zn!==null&&(Wr?(n=Zn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Zn.removeChild(t.stateNode));break;case 18:Zn!==null&&(Wr?(n=Zn,t=t.stateNode,n.nodeType===8?My(n.parentNode,t):n.nodeType===1&&My(n,t),dd(n)):My(Zn,t.stateNode));break;case 4:i=Zn,r=Wr,Zn=t.stateNode.containerInfo,Wr=!0,Eo(n,e,t),Zn=i,Wr=r;break;case 0:case 11:case 14:case 15:if(!fi&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&R_(t,e,o),r=r.next}while(r!==i)}Eo(n,e,t);break;case 1:if(!fi&&(Ic(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){gn(t,e,a)}Eo(n,e,t);break;case 21:Eo(n,e,t);break;case 22:t.mode&1?(fi=(i=fi)||t.memoizedState!==null,Eo(n,e,t),fi=i):Eo(n,e,t);break;default:Eo(n,e,t)}}function xT(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new uk),e.forEach(function(i){var r=_k.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function kr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zn=a.stateNode,Wr=!1;break e;case 3:Zn=a.stateNode.containerInfo,Wr=!0;break e;case 4:Zn=a.stateNode.containerInfo,Wr=!0;break e}a=a.return}if(Zn===null)throw Error(be(160));pB(s,o,r),Zn=null,Wr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){gn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mB(e,n),e=e.sibling}function mB(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kr(e,n),hs(n),i&4){try{jf(3,n,n.return),h0(3,n)}catch(M){gn(n,n.return,M)}try{jf(5,n,n.return)}catch(M){gn(n,n.return,M)}}break;case 1:kr(e,n),hs(n),i&512&&t!==null&&Ic(t,t.return);break;case 5:if(kr(e,n),hs(n),i&512&&t!==null&&Ic(t,t.return),n.flags&32){var r=n.stateNode;try{ld(r,"")}catch(M){gn(n,n.return,M)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&NR(r,s),n_(a,o);var u=n_(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?HR(r,h):d==="dangerouslySetInnerHTML"?UR(r,h):d==="children"?ld(r,h):pA(r,d,h,u)}switch(a){case"input":Zx(r,s);break;case"textarea":OR(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Xc(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Xc(r,!!s.multiple,s.defaultValue,!0):Xc(r,!!s.multiple,s.multiple?[]:"",!1))}r[vd]=s}catch(M){gn(n,n.return,M)}}break;case 6:if(kr(e,n),hs(n),i&4){if(n.stateNode===null)throw Error(be(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(M){gn(n,n.return,M)}}break;case 3:if(kr(e,n),hs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{dd(e.containerInfo)}catch(M){gn(n,n.return,M)}break;case 4:kr(e,n),hs(n);break;case 13:kr(e,n),hs(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(JA=Sn())),i&4&&xT(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(fi=(u=fi)||d,kr(e,n),fi=u):kr(e,n),hs(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(He=n,d=n.child;d!==null;){for(h=He=d;He!==null;){switch(p=He,m=p.child,p.tag){case 0:case 11:case 14:case 15:jf(4,p,p.return);break;case 1:Ic(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(M){gn(i,t,M)}}break;case 5:Ic(p,p.return);break;case 22:if(p.memoizedState!==null){AT(h);continue}}m!==null?(m.return=p,He=m):AT(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zR("display",o))}catch(M){gn(n,n.return,M)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(M){gn(n,n.return,M)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kr(e,n),hs(n),i&4&&xT(n);break;case 21:break;default:kr(e,n),hs(n)}}function hs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(hB(t)){var i=t;break e}t=t.return}throw Error(be(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ld(r,""),i.flags&=-33);var s=yT(n);L_(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=yT(n);B_(n,a,o);break;default:throw Error(be(161))}}catch(l){gn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function dk(n,e,t){He=n,gB(n)}function gB(n,e,t){for(var i=(n.mode&1)!==0;He!==null;){var r=He,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Op;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||fi;a=Op;var u=fi;if(Op=o,(fi=l)&&!u)for(He=r;He!==null;)o=He,l=o.child,o.tag===22&&o.memoizedState!==null?ST(r):l!==null?(l.return=o,He=l):ST(r);for(;s!==null;)He=s,gB(s),s=s.sibling;He=r,Op=a,fi=u}_T(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,He=s):_T(n)}}function _T(n){for(;He!==null;){var e=He;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fi||h0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!fi)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Gr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iT(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}iT(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&dd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}fi||e.flags&512&&P_(e)}catch(p){gn(e,e.return,p)}}if(e===n){He=null;break}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}}function AT(n){for(;He!==null;){var e=He;if(e===n){He=null;break}var t=e.sibling;if(t!==null){t.return=e.return,He=t;break}He=e.return}}function ST(n){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{h0(4,e)}catch(l){gn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){gn(e,r,l)}}var s=e.return;try{P_(e)}catch(l){gn(e,s,l)}break;case 5:var o=e.return;try{P_(e)}catch(l){gn(e,o,l)}}}catch(l){gn(e,e.return,l)}if(e===n){He=null;break}var a=e.sibling;if(a!==null){a.return=e.return,He=a;break}He=e.return}}var hk=Math.ceil,Ig=uo.ReactCurrentDispatcher,jA=uo.ReactCurrentOwner,Cr=uo.ReactCurrentBatchConfig,Lt=0,Xn=null,Rn=null,$n=0,Xi=0,Dc=va(0),Dn=0,Md=null,yl=0,p0=0,XA=0,Xf=null,Bi=null,JA=0,uu=1/0,Hs=null,Dg=!1,I_=null,Zo=null,kp=!1,Vo=null,Fg=0,Jf=0,D_=null,eg=-1,tg=0;function Ai(){return Lt&6?Sn():eg!==-1?eg:eg=Sn()}function qo(n){return n.mode&1?Lt&2&&$n!==0?$n&-$n:QO.transition!==null?(tg===0&&(tg=$R()),tg):(n=Gt,n!==0||(n=window.event,n=n===void 0?16:oP(n.type)),n):1}function Yr(n,e,t,i){if(50<Jf)throw Jf=0,D_=null,Error(be(185));Jd(n,t,i),(!(Lt&2)||n!==Xn)&&(n===Xn&&(!(Lt&2)&&(p0|=t),Dn===4&&Ho(n,$n)),Oi(n,i),t===1&&Lt===0&&!(e.mode&1)&&(uu=Sn()+500,u0&&ya()))}function Oi(n,e){var t=n.callbackNode;QN(n,e);var i=yg(n,n===Xn?$n:0);if(i===0)t!==null&&Bw(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Bw(t),e===1)n.tag===0?YO(MT.bind(null,n)):wP(MT.bind(null,n)),jO(function(){!(Lt&6)&&ya()}),t=null;else{switch(eP(i)){case 1:t=xA;break;case 4:t=ZR;break;case 16:t=vg;break;case 536870912:t=qR;break;default:t=vg}t=EB(t,vB.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function vB(n,e){if(eg=-1,tg=0,Lt&6)throw Error(be(327));var t=n.callbackNode;if(Zc()&&n.callbackNode!==t)return null;var i=yg(n,n===Xn?$n:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Ng(n,i);else{e=i;var r=Lt;Lt|=2;var s=xB();(Xn!==n||$n!==e)&&(Hs=null,uu=Sn()+500,ll(n,e));do try{gk();break}catch(a){yB(n,a)}while(1);LA(),Ig.current=s,Lt=r,Rn!==null?e=0:(Xn=null,$n=0,e=Dn)}if(e!==0){if(e===2&&(r=a_(n),r!==0&&(i=r,e=F_(n,r))),e===1)throw t=Md,ll(n,0),Ho(n,i),Oi(n,Sn()),t;if(e===6)Ho(n,i);else{if(r=n.current.alternate,!(i&30)&&!pk(r)&&(e=Ng(n,i),e===2&&(s=a_(n),s!==0&&(i=s,e=F_(n,s))),e===1))throw t=Md,ll(n,0),Ho(n,i),Oi(n,Sn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(be(345));case 2:Va(n,Bi,Hs);break;case 3:if(Ho(n,i),(i&130023424)===i&&(e=JA+500-Sn(),10<e)){if(yg(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Ai(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=m_(Va.bind(null,n,Bi,Hs),e);break}Va(n,Bi,Hs);break;case 4:if(Ho(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Kr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Sn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hk(i/1960))-i,10<i){n.timeoutHandle=m_(Va.bind(null,n,Bi,Hs),i);break}Va(n,Bi,Hs);break;case 5:Va(n,Bi,Hs);break;default:throw Error(be(329))}}}return Oi(n,Sn()),n.callbackNode===t?vB.bind(null,n):null}function F_(n,e){var t=Xf;return n.current.memoizedState.isDehydrated&&(ll(n,e).flags|=256),n=Ng(n,e),n!==2&&(e=Bi,Bi=t,e!==null&&N_(e)),n}function N_(n){Bi===null?Bi=n:Bi.push.apply(Bi,n)}function pk(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!qr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ho(n,e){for(e&=~XA,e&=~p0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Kr(e),i=1<<t;n[t]=-1,e&=~i}}function MT(n){if(Lt&6)throw Error(be(327));Zc();var e=yg(n,0);if(!(e&1))return Oi(n,Sn()),null;var t=Ng(n,e);if(n.tag!==0&&t===2){var i=a_(n);i!==0&&(e=i,t=F_(n,i))}if(t===1)throw t=Md,ll(n,0),Ho(n,e),Oi(n,Sn()),t;if(t===6)throw Error(be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Va(n,Bi,Hs),Oi(n,Sn()),null}function KA(n,e){var t=Lt;Lt|=1;try{return n(e)}finally{Lt=t,Lt===0&&(uu=Sn()+500,u0&&ya())}}function xl(n){Vo!==null&&Vo.tag===0&&!(Lt&6)&&Zc();var e=Lt;Lt|=1;var t=Cr.transition,i=Gt;try{if(Cr.transition=null,Gt=1,n)return n()}finally{Gt=i,Cr.transition=t,Lt=e,!(Lt&6)&&ya()}}function YA(){Xi=Dc.current,qt(Dc)}function ll(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,WO(t)),Rn!==null)for(t=Rn.return;t!==null;){var i=t;switch(RA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Mg();break;case 3:lu(),qt(Fi),qt(di),kA();break;case 5:OA(i);break;case 4:lu();break;case 13:qt(an);break;case 19:qt(an);break;case 10:IA(i.type._context);break;case 22:case 23:YA()}t=t.return}if(Xn=n,Rn=n=$o(n.current,null),$n=Xi=e,Dn=0,Md=null,XA=p0=yl=0,Bi=Xf=null,qa!==null){for(e=0;e<qa.length;e++)if(t=qa[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}qa=null}return n}function yB(n,e){do{var t=Rn;try{if(LA(),Zm.current=Lg,Bg){for(var i=dn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Bg=!1}if(vl=0,Vn=Ln=dn=null,Wf=!1,_d=0,jA.current=null,t===null||t.return===null){Dn=1,Md=e,Rn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=$n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=uT(o);if(m!==null){m.flags&=-257,fT(m,o,a,s,e),m.mode&1&&cT(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var M=new Set;M.add(l),e.updateQueue=M}else y.add(l);break e}else{if(!(e&1)){cT(s,u,e),QA();break e}l=Error(be(426))}}else if(rn&&a.mode&1){var A=uT(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),fT(A,o,a,s,e),PA(cu(l,a));break e}}s=l=cu(l,a),Dn!==4&&(Dn=2),Xf===null?Xf=[s]:Xf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=tB(s,l,e);nT(s,g);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Zo===null||!Zo.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=nB(s,a,e);nT(s,E);break e}}s=s.return}while(s!==null)}AB(t)}catch(T){e=T,Rn===t&&t!==null&&(Rn=t=t.return);continue}break}while(1)}function xB(){var n=Ig.current;return Ig.current=Lg,n===null?Lg:n}function QA(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Xn===null||!(yl&268435455)&&!(p0&268435455)||Ho(Xn,$n)}function Ng(n,e){var t=Lt;Lt|=2;var i=xB();(Xn!==n||$n!==e)&&(Hs=null,ll(n,e));do try{mk();break}catch(r){yB(n,r)}while(1);if(LA(),Lt=t,Ig.current=i,Rn!==null)throw Error(be(261));return Xn=null,$n=0,Dn}function mk(){for(;Rn!==null;)_B(Rn)}function gk(){for(;Rn!==null&&!HN();)_B(Rn)}function _B(n){var e=MB(n.alternate,n,Xi);n.memoizedProps=n.pendingProps,e===null?AB(n):Rn=e,jA.current=null}function AB(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ck(t,e),t!==null){t.flags&=32767,Rn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Dn=6,Rn=null;return}}else if(t=lk(t,e,Xi),t!==null){Rn=t;return}if(e=e.sibling,e!==null){Rn=e;return}Rn=e=n}while(e!==null);Dn===0&&(Dn=5)}function Va(n,e,t){var i=Gt,r=Cr.transition;try{Cr.transition=null,Gt=1,vk(n,e,t,i)}finally{Cr.transition=r,Gt=i}return null}function vk(n,e,t,i){do Zc();while(Vo!==null);if(Lt&6)throw Error(be(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(be(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(ZN(n,s),n===Xn&&(Rn=Xn=null,$n=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||kp||(kp=!0,EB(vg,function(){return Zc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Cr.transition,Cr.transition=null;var o=Gt;Gt=1;var a=Lt;Lt|=4,jA.current=null,fk(n,t),mB(t,n),OO(h_),xg=!!d_,h_=d_=null,n.current=t,dk(t),GN(),Lt=a,Gt=o,Cr.transition=s}else n.current=t;if(kp&&(kp=!1,Vo=n,Fg=r),s=n.pendingLanes,s===0&&(Zo=null),jN(t.stateNode),Oi(n,Sn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Dg)throw Dg=!1,n=I_,I_=null,n;return Fg&1&&n.tag!==0&&Zc(),s=n.pendingLanes,s&1?n===D_?Jf++:(Jf=0,D_=n):Jf=0,ya(),null}function Zc(){if(Vo!==null){var n=eP(Fg),e=Cr.transition,t=Gt;try{if(Cr.transition=null,Gt=16>n?16:n,Vo===null)var i=!1;else{if(n=Vo,Vo=null,Fg=0,Lt&6)throw Error(be(331));var r=Lt;for(Lt|=4,He=n.current;He!==null;){var s=He,o=s.child;if(He.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(He=u;He!==null;){var d=He;switch(d.tag){case 0:case 11:case 15:jf(8,d,s)}var h=d.child;if(h!==null)h.return=d,He=h;else for(;He!==null;){d=He;var p=d.sibling,m=d.return;if(dB(d),d===u){He=null;break}if(p!==null){p.return=m,He=p;break}He=m}}}var y=s.alternate;if(y!==null){var M=y.child;if(M!==null){y.child=null;do{var A=M.sibling;M.sibling=null,M=A}while(M!==null)}}He=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,He=o;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jf(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,He=g;break e}He=s.return}}var x=n.current;for(He=x;He!==null;){o=He;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,He=S;else e:for(o=x;He!==null;){if(a=He,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:h0(9,a)}}catch(T){gn(a,a.return,T)}if(a===o){He=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,He=E;break e}He=a.return}}if(Lt=r,ya(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(s0,n)}catch{}i=!0}return i}finally{Gt=t,Cr.transition=e}}return!1}function ET(n,e,t){e=cu(t,e),e=tB(n,e,1),n=Qo(n,e,1),e=Ai(),n!==null&&(Jd(n,1,e),Oi(n,e))}function gn(n,e,t){if(n.tag===3)ET(n,n,t);else for(;e!==null;){if(e.tag===3){ET(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Zo===null||!Zo.has(i))){n=cu(t,n),n=nB(e,n,1),e=Qo(e,n,1),n=Ai(),e!==null&&(Jd(e,1,n),Oi(e,n));break}}e=e.return}}function yk(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Ai(),n.pingedLanes|=n.suspendedLanes&t,Xn===n&&($n&t)===t&&(Dn===4||Dn===3&&($n&130023424)===$n&&500>Sn()-JA?ll(n,0):XA|=t),Oi(n,e)}function SB(n,e){e===0&&(n.mode&1?(e=bp,bp<<=1,!(bp&130023424)&&(bp=4194304)):e=1);var t=Ai();n=no(n,e),n!==null&&(Jd(n,e,t),Oi(n,t))}function xk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),SB(n,t)}function _k(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(be(314))}i!==null&&i.delete(e),SB(n,t)}var MB;MB=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Fi.current)Di=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Di=!1,ak(n,e,t);Di=!!(n.flags&131072)}else Di=!1,rn&&e.flags&1048576&&TP(e,Tg,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;$m(n,e),n=e.pendingProps;var r=su(e,di.current);Qc(e,t),r=zA(null,e,i,n,r,t);var s=HA();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(i)?(s=!0,Eg(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,FA(e),r.updater=f0,e.stateNode=r,r._reactInternals=e,S_(e,i,n,t),e=w_(null,e,i,!0,s,t)):(e.tag=0,rn&&s&&bA(e),_i(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch($m(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Sk(i),n=Gr(i,n),r){case 0:e=E_(null,e,i,n,t);break e;case 1:e=pT(null,e,i,n,t);break e;case 11:e=dT(null,e,i,n,t);break e;case 14:e=hT(null,e,i,Gr(i.type,n),t);break e}throw Error(be(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gr(i,r),E_(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gr(i,r),pT(n,e,i,r,t);case 3:e:{if(oB(e),n===null)throw Error(be(387));i=e.pendingProps,s=e.memoizedState,r=s.element,PP(n,e),Rg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=cu(Error(be(423)),e),e=mT(n,e,i,t,r);break e}else if(i!==r){r=cu(Error(be(424)),e),e=mT(n,e,i,t,r);break e}else for(Ji=Yo(e.stateNode.containerInfo.firstChild),Zi=e,rn=!0,jr=null,t=DP(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ou(),i===r){e=io(n,e,t);break e}_i(n,e,i,t)}e=e.child}return e;case 5:return FP(e),n===null&&x_(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,p_(i,r)?o=null:s!==null&&p_(i,s)&&(e.flags|=32),sB(n,e),_i(n,e,o,t),e.child;case 6:return n===null&&x_(e),null;case 13:return aB(n,e,t);case 4:return NA(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=au(e,null,i,t):_i(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gr(i,r),dT(n,e,i,r,t);case 7:return _i(n,e,e.pendingProps,t),e.child;case 8:return _i(n,e,e.pendingProps.children,t),e.child;case 12:return _i(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Kt(Cg,i._currentValue),i._currentValue=o,s!==null)if(qr(s.value,o)){if(s.children===r.children&&!Fi.current){e=io(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Qs(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),__(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(be(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),__(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_i(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Qc(e,t),r=Rr(r),i=i(r),e.flags|=1,_i(n,e,i,t),e.child;case 14:return i=e.type,r=Gr(i,e.pendingProps),r=Gr(i.type,r),hT(n,e,i,r,t);case 15:return iB(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Gr(i,r),$m(n,e),e.tag=1,Ni(i)?(n=!0,Eg(e)):n=!1,Qc(e,t),LP(e,i,r),S_(e,i,r,t),w_(null,e,i,!0,n,t);case 19:return lB(n,e,t);case 22:return rB(n,e,t)}throw Error(be(156,e.tag))};function EB(n,e){return QR(n,e)}function Ak(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(n,e,t,i){return new Ak(n,e,t,i)}function ZA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sk(n){if(typeof n=="function")return ZA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===gA)return 11;if(n===vA)return 14}return 2}function $o(n,e){var t=n.alternate;return t===null?(t=Tr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function ng(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")ZA(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ec:return cl(t.children,r,s,e);case mA:o=8,r|=8;break;case Xx:return n=Tr(12,t,e,r|2),n.elementType=Xx,n.lanes=s,n;case Jx:return n=Tr(13,t,e,r),n.elementType=Jx,n.lanes=s,n;case Kx:return n=Tr(19,t,e,r),n.elementType=Kx,n.lanes=s,n;case IR:return m0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case BR:o=10;break e;case LR:o=9;break e;case gA:o=11;break e;case vA:o=14;break e;case Fo:o=16,i=null;break e}throw Error(be(130,n==null?n:typeof n,""))}return e=Tr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function cl(n,e,t,i){return n=Tr(7,n,i,e),n.lanes=t,n}function m0(n,e,t,i){return n=Tr(22,n,i,e),n.elementType=IR,n.lanes=t,n.stateNode={isHidden:!1},n}function By(n,e,t){return n=Tr(6,n,null,e),n.lanes=t,n}function Ly(n,e,t){return e=Tr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Mk(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dy(0),this.expirationTimes=dy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dy(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function qA(n,e,t,i,r,s,o,a,l){return n=new Mk(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},FA(s),n}function Ek(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function wB(n){if(!n)return oa;n=n._reactInternals;e:{if(Rl(n)!==n||n.tag!==1)throw Error(be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(n.tag===1){var t=n.type;if(Ni(t))return EP(n,t,e)}return e}function TB(n,e,t,i,r,s,o,a,l){return n=qA(t,i,!0,n,r,s,o,a,l),n.context=wB(null),t=n.current,i=Ai(),r=qo(t),s=Qs(i,r),s.callback=e??null,Qo(t,s,r),n.current.lanes=r,Jd(n,r,i),Oi(n,i),n}function g0(n,e,t,i){var r=e.current,s=Ai(),o=qo(r);return t=wB(t),e.context===null?e.context=t:e.pendingContext=t,e=Qs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Qo(r,e,o),n!==null&&(Yr(n,r,o,s),Qm(n,r,o)),o}function Og(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function wT(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function $A(n,e){wT(n,e),(n=n.alternate)&&wT(n,e)}function wk(){return null}var CB=typeof reportError=="function"?reportError:function(n){console.error(n)};function eS(n){this._internalRoot=n}v0.prototype.render=eS.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(be(409));g0(n,e,null,null)};v0.prototype.unmount=eS.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;xl(function(){g0(null,n,null,null)}),e[to]=null}};function v0(n){this._internalRoot=n}v0.prototype.unstable_scheduleHydration=function(n){if(n){var e=iP();n={blockedOn:null,target:n,priority:e};for(var t=0;t<zo.length&&e!==0&&e<zo[t].priority;t++);zo.splice(t,0,n),t===0&&sP(n)}};function tS(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function y0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function TT(){}function Tk(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Og(o);s.call(u)}}var o=TB(e,i,n,0,null,!1,!1,"",TT);return n._reactRootContainer=o,n[to]=o.current,md(n.nodeType===8?n.parentNode:n),xl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=Og(l);a.call(u)}}var l=qA(n,0,!1,null,null,!1,!1,"",TT);return n._reactRootContainer=l,n[to]=l.current,md(n.nodeType===8?n.parentNode:n),xl(function(){g0(e,l,t,i)}),l}function x0(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Og(o);a.call(l)}}g0(e,o,n,r)}else o=Tk(t,e,n,r,i);return Og(o)}tP=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=If(e.pendingLanes);t!==0&&(_A(e,t|1),Oi(e,Sn()),!(Lt&6)&&(uu=Sn()+500,ya()))}break;case 13:xl(function(){var i=no(n,1);if(i!==null){var r=Ai();Yr(i,n,1,r)}}),$A(n,1)}};AA=function(n){if(n.tag===13){var e=no(n,134217728);if(e!==null){var t=Ai();Yr(e,n,134217728,t)}$A(n,134217728)}};nP=function(n){if(n.tag===13){var e=qo(n),t=no(n,e);if(t!==null){var i=Ai();Yr(t,n,e,i)}$A(n,e)}};iP=function(){return Gt};rP=function(n,e){var t=Gt;try{return Gt=n,e()}finally{Gt=t}};r_=function(n,e,t){switch(e){case"input":if(Zx(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=c0(i);if(!r)throw Error(be(90));FR(i),Zx(i,r)}}}break;case"textarea":OR(n,t);break;case"select":e=t.value,e!=null&&Xc(n,!!t.multiple,e,!1)}};WR=KA;jR=xl;var Ck={usingClientEntryPoint:!1,Events:[Yd,bc,c0,GR,VR,KA]},ff={findFiberByHostInstance:Za,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bk={bundleType:ff.bundleType,version:ff.version,rendererPackageName:ff.rendererPackageName,rendererConfig:ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=KR(n),n===null?null:n.stateNode},findFiberByHostInstance:ff.findFiberByHostInstance||wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Up.isDisabled&&Up.supportsFiber)try{s0=Up.inject(bk),xs=Up}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck;rr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tS(e))throw Error(be(200));return Ek(n,e,null,t)};rr.createRoot=function(n,e){if(!tS(n))throw Error(be(299));var t=!1,i="",r=CB;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=qA(n,1,!1,null,null,t,!1,i,r),n[to]=e.current,md(n.nodeType===8?n.parentNode:n),new eS(e)};rr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(be(188)):(n=Object.keys(n).join(","),Error(be(268,n)));return n=KR(e),n=n===null?null:n.stateNode,n};rr.flushSync=function(n){return xl(n)};rr.hydrate=function(n,e,t){if(!y0(e))throw Error(be(200));return x0(null,n,e,!0,t)};rr.hydrateRoot=function(n,e,t){if(!tS(n))throw Error(be(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=CB;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=TB(e,null,n,1,t??null,r,!1,s,o),n[to]=e.current,md(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new v0(e)};rr.render=function(n,e,t){if(!y0(e))throw Error(be(200));return x0(null,n,e,!1,t)};rr.unmountComponentAtNode=function(n){if(!y0(n))throw Error(be(40));return n._reactRootContainer?(xl(function(){x0(null,null,n,!1,function(){n._reactRootContainer=null,n[to]=null})}),!0):!1};rr.unstable_batchedUpdates=KA;rr.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!y0(t))throw Error(be(200));if(n==null||n._reactInternals===void 0)throw Error(be(38));return x0(n,e,t,!1,i)};rr.version="18.2.0-next-9e3b772b8-20220608";function bB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bB)}catch(n){console.error(n)}}bB(),TR.exports=rr;var Rk=TR.exports,RB,CT=Rk;RB=Wx.createRoot=CT.createRoot,Wx.hydrateRoot=CT.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ed(){return Ed=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ed.apply(this,arguments)}var el;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(el||(el={}));const bT="popstate";function Pk(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return O_("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:kg(r)}return Lk(e,t,null,n)}function ea(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bk(){return Math.random().toString(36).substr(2,8)}function RT(n,e){return{usr:n.state,key:n.key,idx:e}}function O_(n,e,t,i){return t===void 0&&(t=null),Ed({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?_0(e):e,{state:t,key:e&&e.key||i||Bk()})}function kg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function _0(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Lk(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=el.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ed({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=el.Pop;let A=d(),g=A==null?null:A-u;u=A,l&&l({action:a,location:M.location,delta:g})}function p(A,g){a=el.Push;let x=O_(M.location,A,g);t&&t(x,A),u=d()+1;let S=RT(x,u),E=M.createHref(x);try{o.pushState(S,"",E)}catch{r.location.assign(E)}s&&l&&l({action:a,location:M.location,delta:1})}function m(A,g){a=el.Replace;let x=O_(M.location,A,g);t&&t(x,A),u=d();let S=RT(x,u),E=M.createHref(x);o.replaceState(S,"",E),s&&l&&l({action:a,location:M.location,delta:0})}function y(A){let g=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof A=="string"?A:kg(A);return ea(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let M={get action(){return a},get location(){return n(r,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(bT,h),l=A,()=>{r.removeEventListener(bT,h),l=null}},createHref(A){return e(r,A)},createURL:y,encodeLocation(A){let g=y(A);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(A){return o.go(A)}};return M}var PT;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(PT||(PT={}));function PB(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Ik(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?_0(n):n;return{pathname:t?t.startsWith("/")?t:Dk(t,e):e,search:Fk(i),hash:Nk(r)}}function Dk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Iy(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BB(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function LB(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=_0(n):(r=Ed({},n),ea(!r.pathname||!r.pathname.includes("?"),Iy("?","pathname","search",r)),ea(!r.pathname||!r.pathname.includes("#"),Iy("#","pathname","hash",r)),ea(!r.search||!r.search.includes("#"),Iy("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=Ik(r,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const IB=n=>n.join("/").replace(/\/\/+/g,"/"),Fk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Nk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ok(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const kk=typeof Object.is=="function"?Object.is:Ok,{useState:Uk,useEffect:zk,useLayoutEffect:Hk,useDebugValue:Gk}=Vx;function Vk(n,e,t){const i=e(),[{inst:r},s]=Uk({inst:{value:i,getSnapshot:e}});return Hk(()=>{r.value=i,r.getSnapshot=e,Dy(r)&&s({inst:r})},[n,i,e]),zk(()=>(Dy(r)&&s({inst:r}),n(()=>{Dy(r)&&s({inst:r})})),[n]),Gk(i),i}function Dy(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!kk(t,i)}catch{return!0}}function Wk(n,e,t){return e()}const jk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xk=!jk,Jk=Xk?Wk:Vk;"useSyncExternalStore"in Vx&&(n=>n.useSyncExternalStore)(Vx);const A0=q.createContext(null),nS=q.createContext(null),DB=q.createContext({outlet:null,matches:[]});function Kk(n,e){let{relative:t}=e===void 0?{}:e;S0()||ea(!1);let{basename:i,navigator:r}=q.useContext(A0),{hash:s,pathname:o,search:a}=FB(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:IB([i,o])),r.createHref({pathname:l,search:a,hash:s})}function S0(){return q.useContext(nS)!=null}function iS(){return S0()||ea(!1),q.useContext(nS).location}function Yk(){S0()||ea(!1);let{basename:n,navigator:e}=q.useContext(A0),{matches:t}=q.useContext(DB),{pathname:i}=iS(),r=JSON.stringify(BB(t).map(a=>a.pathnameBase)),s=q.useRef(!1);return q.useEffect(()=>{s.current=!0}),q.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=LB(a,JSON.parse(r),i,l.relative==="path");n!=="/"&&(u.pathname=u.pathname==="/"?n:IB([n,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[n,e,r,i])}function FB(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=q.useContext(DB),{pathname:r}=iS(),s=JSON.stringify(BB(i).map(o=>o.pathnameBase));return q.useMemo(()=>LB(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}var BT;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(BT||(BT={}));var LT;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(LT||(LT={}));function Qk(n){let{basename:e="/",children:t=null,location:i,navigationType:r=el.Pop,navigator:s,static:o=!1}=n;S0()&&ea(!1);let a=e.replace(/^\/*/,"/"),l=q.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=_0(i));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=i,y=q.useMemo(()=>{let M=PB(u,a);return M==null?null:{location:{pathname:M,search:d,hash:h,state:p,key:m},navigationType:r}},[a,u,d,h,p,m,r]);return y==null?null:q.createElement(A0.Provider,{value:l},q.createElement(nS.Provider,{children:t,value:y}))}var IT;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(IT||(IT={}));new Promise(()=>{});/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k_(){return k_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},k_.apply(this,arguments)}function Zk(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function qk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $k(n,e){return n.button===0&&(!e||e==="_self")&&!qk(n)}const eU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function tU(n){let{basename:e,children:t,window:i}=n,r=q.useRef();r.current==null&&(r.current=Pk({window:i,v5Compat:!0}));let s=r.current,[o,a]=q.useState({action:s.action,location:s.location});return q.useLayoutEffect(()=>s.listen(a),[s]),q.createElement(Qk,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const nU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rU=q.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d}=e,h=Zk(e,eU),{basename:p}=q.useContext(A0),m,y=!1;if(typeof u=="string"&&iU.test(u)&&(m=u,nU)){let x=new URL(window.location.href),S=u.startsWith("//")?new URL(x.protocol+u):new URL(u),E=PB(S.pathname,p);S.origin===x.origin&&E!=null?u=E+S.search+S.hash:y=!0}let M=Kk(u,{relative:r}),A=sU(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:r});function g(x){i&&i(x),x.defaultPrevented||A(x)}return q.createElement("a",k_({},h,{href:m||M,onClick:y||s?i:g,ref:t,target:l}))});var DT;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(DT||(DT={}));var FT;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(FT||(FT={}));function sU(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Yk(),l=iS(),u=FB(n,{relative:o});return q.useCallback(d=>{if($k(d,t)){d.preventDefault();let h=i!==void 0?i:kg(l)===kg(u);a(n,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,u,i,r,t,n,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const M0="152",Wa={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ja={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},NB=0,U_=1,OB=2,oU=3,kB=0,E0=1,Kf=2,Vr=3,Ms=0,Si=1,wr=2,aU=2,Zs=0,ul=1,z_=2,H_=3,G_=4,UB=5,Ya=100,zB=101,HB=102,V_=103,W_=104,GB=200,VB=201,WB=202,jB=203,rS=204,sS=205,XB=206,JB=207,KB=208,YB=209,QB=210,ZB=0,qB=1,$B=2,Ug=3,eL=4,tL=5,nL=6,iL=7,Zd=0,rL=1,sL=2,Qr=0,oL=1,aL=2,lL=3,oS=4,cL=5,w0=300,aa=301,la=302,wd=303,Td=304,Ru=306,ca=1e3,qn=1001,fu=1002,vn=1003,Cd=1004,lU=1004,qc=1005,cU=1005,ln=1006,T0=1007,uU=1007,Es=1008,fU=1008,ro=1009,uL=1010,fL=1011,aS=1012,dL=1013,Wo=1014,Js=1015,du=1016,hL=1017,pL=1018,fl=1020,mL=1021,Ii=1023,gL=1024,vL=1025,ta=1026,_l=1027,yL=1028,xL=1029,_L=1030,AL=1031,SL=1033,ig=33776,rg=33777,sg=33778,og=33779,j_=35840,X_=35841,J_=35842,K_=35843,ML=36196,Y_=37492,Q_=37496,Z_=37808,q_=37809,$_=37810,e1=37811,t1=37812,n1=37813,i1=37814,r1=37815,s1=37816,o1=37817,a1=37818,l1=37819,c1=37820,u1=37821,ag=36492,EL=36283,f1=36284,d1=36285,h1=36286,wL=2200,TL=2201,CL=2202,hu=2300,Al=2301,lg=2302,tl=2400,nl=2401,bd=2402,C0=2500,lS=2501,bL=0,cS=1,zg=2,uS=3e3,qi=3001,RL=3200,PL=3201,xa=0,BL=1,na="",gt="srgb",$r="srgb-linear",fS="display-p3",dU=0,cg=7680,hU=7681,pU=7682,mU=7683,gU=34055,vU=34056,yU=5386,xU=512,_U=513,AU=514,SU=515,MU=516,EU=517,wU=518,LL=519,Rd=35044,TU=35048,CU=35040,bU=35045,RU=35049,PU=35041,BU=35046,LU=35050,IU=35042,DU="100",p1="300 es",Hg=1035;class Ts{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const li=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let NT=1234567;const dl=Math.PI/180,pu=180/Math.PI;function $i(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(li[n&255]+li[n>>8&255]+li[n>>16&255]+li[n>>24&255]+"-"+li[e&255]+li[e>>8&255]+"-"+li[e>>16&15|64]+li[e>>24&255]+"-"+li[t&63|128]+li[t>>8&255]+"-"+li[t>>16&255]+li[t>>24&255]+li[i&255]+li[i>>8&255]+li[i>>16&255]+li[i>>24&255]).toLowerCase()}function xn(n,e,t){return Math.max(e,Math.min(t,n))}function dS(n,e){return(n%e+e)%e}function FU(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function NU(n,e,t){return n!==e?(t-n)/(e-n):0}function Yf(n,e,t){return(1-t)*n+t*e}function OU(n,e,t,i){return Yf(n,e,1-Math.exp(-t*i))}function kU(n,e=1){return e-Math.abs(dS(n,e*2)-e)}function UU(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function zU(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function HU(n,e){return n+Math.floor(Math.random()*(e-n+1))}function GU(n,e){return n+Math.random()*(e-n)}function VU(n){return n*(.5-Math.random())}function WU(n){n!==void 0&&(NT=n);let e=NT+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function jU(n){return n*dl}function XU(n){return n*pu}function m1(n){return(n&n-1)===0&&n!==0}function IL(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function DL(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function JU(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*u);break;case"YZY":n.set(l*p,a*d,l*h,a*u);break;case"ZXZ":n.set(l*h,l*p,a*d,a*u);break;case"XZX":n.set(a*d,l*y,l*m,a*u);break;case"YXY":n.set(l*m,a*d,l*y,a*u);break;case"ZYZ":n.set(l*y,l*m,a*d,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ki(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function xt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const FL={DEG2RAD:dl,RAD2DEG:pu,generateUUID:$i,clamp:xn,euclideanModulo:dS,mapLinear:FU,inverseLerp:NU,lerp:Yf,damp:OU,pingpong:kU,smoothstep:UU,smootherstep:zU,randInt:HU,randFloat:GU,randFloatSpread:VU,seededRandom:WU,degToRad:jU,radToDeg:XU,isPowerOfTwo:m1,ceilPowerOfTwo:IL,floorPowerOfTwo:DL,setQuaternionFromProperEuler:JU,normalize:xt,denormalize:Ki};class ye{constructor(e=0,t=0){ye.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ct{constructor(){Ct.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,u){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],u=i[1],d=i[4],h=i[7],p=i[2],m=i[5],y=i[8],M=r[0],A=r[3],g=r[6],x=r[1],S=r[4],E=r[7],T=r[2],R=r[5],P=r[8];return s[0]=o*M+a*x+l*T,s[3]=o*A+a*S+l*R,s[6]=o*g+a*E+l*P,s[1]=u*M+d*x+h*T,s[4]=u*A+d*S+h*R,s[7]=u*g+d*E+h*P,s[2]=p*M+m*x+y*T,s[5]=p*A+m*S+y*R,s[8]=p*g+m*E+y*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return t*o*d-t*a*u-i*s*d+i*a*l+r*s*u-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=d*o-a*u,p=a*l-d*s,m=u*s-o*l,y=t*h+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/y;return e[0]=h*M,e[1]=(r*u-d*i)*M,e[2]=(a*i-r*o)*M,e[3]=p*M,e[4]=(d*t-r*l)*M,e[5]=(r*s-a*t)*M,e[6]=m*M,e[7]=(i*l-u*t)*M,e[8]=(o*t-i*s)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*o+u*a)+o+e,-r*u,r*l,-r*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Fy.makeScale(e,t)),this}rotate(e){return this.premultiply(Fy.makeRotation(-e)),this}translate(e,t){return this.premultiply(Fy.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Fy=new Ct;function NL(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const KU={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Fc(n,e){return new KU[n](e)}function Pd(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const OT={};function Qf(n){n in OT||(OT[n]=!0,console.warn(n))}function $c(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Ny(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const YU=new Ct().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),QU=new Ct().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function ZU(n){return n.convertSRGBToLinear().applyMatrix3(QU)}function qU(n){return n.applyMatrix3(YU).convertLinearToSRGB()}const $U={[$r]:n=>n,[gt]:n=>n.convertSRGBToLinear(),[fS]:ZU},e4={[$r]:n=>n,[gt]:n=>n.convertLinearToSRGB(),[fS]:qU},xr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return $r},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=$U[e],r=e4[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Ql;class hS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ql===void 0&&(Ql=Pd("canvas")),Ql.width=e.width,Ql.height=e.height;const i=Ql.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Ql}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Pd("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=$c(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor($c(t[i]/255)*255):t[i]=$c(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class il{constructor(e=null){this.isSource=!0,this.uuid=$i(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Oy(r[o].image)):s.push(Oy(r[o]))}else s=Oy(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Oy(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?hS.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let t4=0;class sn extends Ts{constructor(e=sn.DEFAULT_IMAGE,t=sn.DEFAULT_MAPPING,i=qn,r=qn,s=ln,o=Es,a=Ii,l=ro,u=sn.DEFAULT_ANISOTROPY,d=na){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:t4++}),this.uuid=$i(),this.name="",this.source=new il(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ye(0,0),this.repeat=new ye(1,1),this.center=new ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(Qf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===qi?gt:na),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==w0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ca:e.x=e.x-Math.floor(e.x);break;case qn:e.x=e.x<0?0:1;break;case fu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ca:e.y=e.y-Math.floor(e.y);break;case qn:e.y=e.y<0?0:1;break;case fu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Qf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===gt?qi:uS}set encoding(e){Qf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===qi?gt:na}}sn.DEFAULT_IMAGE=null;sn.DEFAULT_MAPPING=w0;sn.DEFAULT_ANISOTROPY=1;class Ht{constructor(e=0,t=0,i=0,r=1){Ht.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],d=l[4],h=l[8],p=l[1],m=l[5],y=l[9],M=l[2],A=l[6],g=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-M)<.01&&Math.abs(y-A)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+M)<.1&&Math.abs(y+A)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(u+1)/2,E=(m+1)/2,T=(g+1)/2,R=(d+p)/4,P=(h+M)/4,B=(y+A)/4;return S>E&&S>T?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=R/i,s=P/i):E>T?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=R/r,s=B/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=P/s,r=B/s),this.set(i,r,s,t),this}let x=Math.sqrt((A-y)*(A-y)+(h-M)*(h-M)+(p-d)*(p-d));return Math.abs(x)<.001&&(x=1),this.x=(A-y)/x,this.y=(h-M)/x,this.z=(p-d)/x,this.w=Math.acos((u+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class es extends Ts{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ht(0,0,e,t),this.scissorTest=!1,this.viewport=new Ht(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(Qf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===qi?gt:na),this.texture=new sn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:ln,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new il(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class b0 extends sn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=vn,this.minFilter=vn,this.wrapR=qn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class n4 extends es{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new b0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class pS extends sn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=vn,this.minFilter=vn,this.wrapR=qn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class i4 extends es{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new pS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class r4 extends es{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Jn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],u=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],M=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=M;return}if(h!==M||l!==p||u!==m||d!==y){let A=1-a;const g=l*p+u*m+d*y+h*M,x=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const T=Math.sqrt(S),R=Math.atan2(T,g*x);A=Math.sin(A*R)/T,a=Math.sin(a*R)/T}const E=a*x;if(l=l*A+p*E,u=u*A+m*E,d=d*A+y*E,h=h*A+M*E,A===1-a){const T=1/Math.sqrt(l*l+u*u+d*d+h*h);l*=T,u*=T,d*=T,h*=T}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],u=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+d*h+l*m-u*p,e[t+1]=l*y+d*p+u*h-a*m,e[t+2]=u*y+d*m+a*p-l*h,e[t+3]=d*y-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"YZX":this._x=p*d*h+u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h-p*m*y;break;case"XZY":this._x=p*d*h-u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-u)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-u)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+u)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,d=t._w;return this._x=i*d+o*a+r*u-s*l,this._y=r*d+o*l+s*a-i*u,this._z=s*d+o*u+i*l-r*a,this._w=o*d-i*a-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),d=Math.atan2(u,a),h=Math.sin((1-t)*d)/u,p=Math.sin(t*d)/u;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class F{constructor(e=0,t=0,i=0){F.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(kT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(kT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*r-a*i,d=l*i+a*t-s*r,h=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=u*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-u*-a,this.z=h*l+p*-a+u*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ky.copy(this).projectOnVector(e),this.sub(ky)}reflect(e){return this.sub(ky.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(xn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ky=new F,kT=new Jn;class ts{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Fs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Fs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Fs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Zl.copy(e.boundingBox),Zl.applyMatrix4(e.matrixWorld),this.union(Zl);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Fs.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Fs)}else r.boundingBox===null&&r.computeBoundingBox(),Zl.copy(r.boundingBox),Zl.applyMatrix4(e.matrixWorld),this.union(Zl)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Fs),Fs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(df),zp.subVectors(this.max,df),ql.subVectors(e.a,df),$l.subVectors(e.b,df),ec.subVectors(e.c,df),wo.subVectors($l,ql),To.subVectors(ec,$l),Ia.subVectors(ql,ec);let t=[0,-wo.z,wo.y,0,-To.z,To.y,0,-Ia.z,Ia.y,wo.z,0,-wo.x,To.z,0,-To.x,Ia.z,0,-Ia.x,-wo.y,wo.x,0,-To.y,To.x,0,-Ia.y,Ia.x,0];return!Uy(t,ql,$l,ec,zp)||(t=[1,0,0,0,1,0,0,0,1],!Uy(t,ql,$l,ec,zp))?!1:(Hp.crossVectors(wo,To),t=[Hp.x,Hp.y,Hp.z],Uy(t,ql,$l,ec,zp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Fs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Fs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ds[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ds[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ds[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ds[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ds[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ds[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ds[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ds[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ds),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ds=[new F,new F,new F,new F,new F,new F,new F,new F],Fs=new F,Zl=new ts,ql=new F,$l=new F,ec=new F,wo=new F,To=new F,Ia=new F,df=new F,zp=new F,Hp=new F,Da=new F;function Uy(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Da.fromArray(n,s);const a=r.x*Math.abs(Da.x)+r.y*Math.abs(Da.y)+r.z*Math.abs(Da.z),l=e.dot(Da),u=t.dot(Da),d=i.dot(Da);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>a)return!1}return!0}const s4=new ts,hf=new F,zy=new F;class ns{constructor(e=new F,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):s4.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hf.subVectors(e,this.center);const t=hf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(hf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(zy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hf.copy(e.center).add(zy)),this.expandByPoint(hf.copy(e.center).sub(zy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ns=new F,Hy=new F,Gp=new F,Co=new F,Gy=new F,Vp=new F,Vy=new F;class qd{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ns)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ns.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ns.copy(this.origin).addScaledVector(this.direction,t),Ns.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Hy.copy(e).add(t).multiplyScalar(.5),Gp.copy(t).sub(e).normalize(),Co.copy(this.origin).sub(Hy);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Gp),a=Co.dot(this.direction),l=-Co.dot(Gp),u=Co.lengthSq(),d=Math.abs(1-o*o);let h,p,m,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const M=1/d;h*=M,p*=M,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(Hy).addScaledVector(Gp,p),m}intersectSphere(e,t){Ns.subVectors(e.center,this.origin);const i=Ns.dot(this.direction),r=Ns.dot(Ns)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(i=(e.min.x-p.x)*u,r=(e.max.x-p.x)*u):(i=(e.max.x-p.x)*u,r=(e.min.x-p.x)*u),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ns)!==null}intersectTriangle(e,t,i,r,s){Gy.subVectors(t,e),Vp.subVectors(i,e),Vy.crossVectors(Gy,Vp);let o=this.direction.dot(Vy),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Co.subVectors(this.origin,e);const l=a*this.direction.dot(Vp.crossVectors(Co,Vp));if(l<0)return null;const u=a*this.direction.dot(Gy.cross(Co));if(u<0||l+u>o)return null;const d=-a*Co.dot(Vy);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class lt{constructor(){lt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,u,d,h,p,m,y,M,A){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=u,g[6]=d,g[10]=h,g[14]=p,g[3]=m,g[7]=y,g[11]=M,g[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new lt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/tc.setFromMatrixColumn(e,0).length(),s=1/tc.setFromMatrixColumn(e,1).length(),o=1/tc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,y=a*d,M=a*h;t[0]=l*d,t[4]=-l*h,t[8]=u,t[1]=m+y*u,t[5]=p-M*u,t[9]=-a*l,t[2]=M-p*u,t[6]=y+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,y=u*d,M=u*h;t[0]=p+M*a,t[4]=y*a-m,t[8]=o*u,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-y,t[6]=M+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,y=u*d,M=u*h;t[0]=p-M*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*d,t[9]=M-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,y=a*d,M=a*h;t[0]=l*d,t[4]=y*u-m,t[8]=p*u+M,t[1]=l*h,t[5]=M*u+p,t[9]=m*u-y,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,y=a*l,M=a*u;t[0]=l*d,t[4]=M-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-u*d,t[6]=m*h+y,t[10]=p-M*h}else if(e.order==="XZY"){const p=o*l,m=o*u,y=a*l,M=a*u;t[0]=l*d,t[4]=-h,t[8]=u*d,t[1]=p*h+M,t[5]=o*d,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*d,t[10]=M*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(o4,e,a4)}lookAt(e,t,i){const r=this.elements;return Wi.subVectors(e,t),Wi.lengthSq()===0&&(Wi.z=1),Wi.normalize(),bo.crossVectors(i,Wi),bo.lengthSq()===0&&(Math.abs(i.z)===1?Wi.x+=1e-4:Wi.z+=1e-4,Wi.normalize(),bo.crossVectors(i,Wi)),bo.normalize(),Wp.crossVectors(Wi,bo),r[0]=bo.x,r[4]=Wp.x,r[8]=Wi.x,r[1]=bo.y,r[5]=Wp.y,r[9]=Wi.y,r[2]=bo.z,r[6]=Wp.z,r[10]=Wi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],u=i[12],d=i[1],h=i[5],p=i[9],m=i[13],y=i[2],M=i[6],A=i[10],g=i[14],x=i[3],S=i[7],E=i[11],T=i[15],R=r[0],P=r[4],B=r[8],b=r[12],L=r[1],U=r[5],J=r[9],G=r[13],K=r[2],j=r[6],se=r[10],te=r[14],I=r[3],H=r[7],z=r[11],$=r[15];return s[0]=o*R+a*L+l*K+u*I,s[4]=o*P+a*U+l*j+u*H,s[8]=o*B+a*J+l*se+u*z,s[12]=o*b+a*G+l*te+u*$,s[1]=d*R+h*L+p*K+m*I,s[5]=d*P+h*U+p*j+m*H,s[9]=d*B+h*J+p*se+m*z,s[13]=d*b+h*G+p*te+m*$,s[2]=y*R+M*L+A*K+g*I,s[6]=y*P+M*U+A*j+g*H,s[10]=y*B+M*J+A*se+g*z,s[14]=y*b+M*G+A*te+g*$,s[3]=x*R+S*L+E*K+T*I,s[7]=x*P+S*U+E*j+T*H,s[11]=x*B+S*J+E*se+T*z,s[15]=x*b+S*G+E*te+T*$,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],M=e[7],A=e[11],g=e[15];return y*(+s*l*h-r*u*h-s*a*p+i*u*p+r*a*m-i*l*m)+M*(+t*l*m-t*u*p+s*o*p-r*o*m+r*u*d-s*l*d)+A*(+t*u*h-t*a*m-s*o*h+i*o*m+s*a*d-i*u*d)+g*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],M=e[13],A=e[14],g=e[15],x=h*A*u-M*p*u+M*l*m-a*A*m-h*l*g+a*p*g,S=y*p*u-d*A*u-y*l*m+o*A*m+d*l*g-o*p*g,E=d*M*u-y*h*u+y*a*m-o*M*m-d*a*g+o*h*g,T=y*h*l-d*M*l-y*a*p+o*M*p+d*a*A-o*h*A,R=t*x+i*S+r*E+s*T;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/R;return e[0]=x*P,e[1]=(M*p*s-h*A*s-M*r*m+i*A*m+h*r*g-i*p*g)*P,e[2]=(a*A*s-M*l*s+M*r*u-i*A*u-a*r*g+i*l*g)*P,e[3]=(h*l*s-a*p*s-h*r*u+i*p*u+a*r*m-i*l*m)*P,e[4]=S*P,e[5]=(d*A*s-y*p*s+y*r*m-t*A*m-d*r*g+t*p*g)*P,e[6]=(y*l*s-o*A*s-y*r*u+t*A*u+o*r*g-t*l*g)*P,e[7]=(o*p*s-d*l*s+d*r*u-t*p*u-o*r*m+t*l*m)*P,e[8]=E*P,e[9]=(y*h*s-d*M*s-y*i*m+t*M*m+d*i*g-t*h*g)*P,e[10]=(o*M*s-y*a*s+y*i*u-t*M*u-o*i*g+t*a*g)*P,e[11]=(d*a*s-o*h*s-d*i*u+t*h*u+o*i*m-t*a*m)*P,e[12]=T*P,e[13]=(d*M*r-y*h*r+y*i*p-t*M*p-d*i*A+t*h*A)*P,e[14]=(y*a*r-o*M*r-y*i*l+t*M*l+o*i*A-t*a*A)*P,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*P,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,u=s*o,d=s*a;return this.set(u*o+i,u*a-r*l,u*l+r*a,0,u*a+r*l,d*a+i,d*l-r*o,0,u*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,d=o+o,h=a+a,p=s*u,m=s*d,y=s*h,M=o*d,A=o*h,g=a*h,x=l*u,S=l*d,E=l*h,T=i.x,R=i.y,P=i.z;return r[0]=(1-(M+g))*T,r[1]=(m+E)*T,r[2]=(y-S)*T,r[3]=0,r[4]=(m-E)*R,r[5]=(1-(p+g))*R,r[6]=(A+x)*R,r[7]=0,r[8]=(y+S)*P,r[9]=(A-x)*P,r[10]=(1-(p+M))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=tc.set(r[0],r[1],r[2]).length();const o=tc.set(r[4],r[5],r[6]).length(),a=tc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ur.copy(this);const u=1/s,d=1/o,h=1/a;return Ur.elements[0]*=u,Ur.elements[1]*=u,Ur.elements[2]*=u,Ur.elements[4]*=d,Ur.elements[5]*=d,Ur.elements[6]*=d,Ur.elements[8]*=h,Ur.elements[9]*=h,Ur.elements[10]*=h,t.setFromRotationMatrix(Ur),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),u=1/(i-r),d=1/(o-s),h=(t+e)*l,p=(i+r)*u,m=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const tc=new F,Ur=new lt,o4=new F(0,0,0),a4=new F(1,1,1),bo=new F,Wp=new F,Wi=new F,UT=new lt,zT=new Jn;class $d{constructor(e=0,t=0,i=0,r=$d.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],u=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(xn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(xn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-xn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return UT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(UT,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return zT.setFromEuler(this),this.setFromQuaternion(zT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}$d.DEFAULT_ORDER="XYZ";let hl=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},l4=0;const HT=new F,nc=new Jn,Os=new lt,jp=new F,pf=new F,c4=new F,u4=new Jn,GT=new F(1,0,0),VT=new F(0,1,0),WT=new F(0,0,1),f4={type:"added"},jT={type:"removed"};class Bt extends Ts{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:l4++}),this.uuid=$i(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bt.DEFAULT_UP.clone();const e=new F,t=new $d,i=new Jn,r=new F(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new lt},normalMatrix:{value:new Ct}}),this.matrix=new lt,this.matrixWorld=new lt,this.matrixAutoUpdate=Bt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new hl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return nc.setFromAxisAngle(e,t),this.quaternion.multiply(nc),this}rotateOnWorldAxis(e,t){return nc.setFromAxisAngle(e,t),this.quaternion.premultiply(nc),this}rotateX(e){return this.rotateOnAxis(GT,e)}rotateY(e){return this.rotateOnAxis(VT,e)}rotateZ(e){return this.rotateOnAxis(WT,e)}translateOnAxis(e,t){return HT.copy(e).applyQuaternion(this.quaternion),this.position.add(HT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(GT,e)}translateY(e){return this.translateOnAxis(VT,e)}translateZ(e){return this.translateOnAxis(WT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Os.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?jp.copy(e):jp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),pf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Os.lookAt(pf,jp,this.up):Os.lookAt(jp,pf,this.up),this.quaternion.setFromRotationMatrix(Os),r&&(Os.extractRotation(r.matrixWorld),nc.setFromRotationMatrix(Os),this.quaternion.premultiply(nc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(f4)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(jT)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(jT)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Os.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Os.multiply(e.parent.matrixWorld)),e.applyMatrix4(Os),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pf,e,c4),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pf,u4,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Bt.DEFAULT_UP=new F(0,1,0);Bt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const zr=new F,ks=new F,Wy=new F,Us=new F,ic=new F,rc=new F,XT=new F,jy=new F,Xy=new F,Jy=new F;let Xp=!1;class Li{constructor(e=new F,t=new F,i=new F){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),zr.subVectors(e,t),r.cross(zr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){zr.subVectors(r,t),ks.subVectors(i,t),Wy.subVectors(e,t);const o=zr.dot(zr),a=zr.dot(ks),l=zr.dot(Wy),u=ks.dot(ks),d=ks.dot(Wy),h=o*u-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(u*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Us),Us.x>=0&&Us.y>=0&&Us.x+Us.y<=1}static getUV(e,t,i,r,s,o,a,l){return Xp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Xp=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Us),l.setScalar(0),l.addScaledVector(s,Us.x),l.addScaledVector(o,Us.y),l.addScaledVector(a,Us.z),l}static isFrontFacing(e,t,i,r){return zr.subVectors(i,t),ks.subVectors(e,t),zr.cross(ks).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return zr.subVectors(this.c,this.b),ks.subVectors(this.a,this.b),zr.cross(ks).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Li.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Li.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Xp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Xp=!0),Li.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Li.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Li.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Li.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;ic.subVectors(r,i),rc.subVectors(s,i),jy.subVectors(e,i);const l=ic.dot(jy),u=rc.dot(jy);if(l<=0&&u<=0)return t.copy(i);Xy.subVectors(e,r);const d=ic.dot(Xy),h=rc.dot(Xy);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*u;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(ic,o);Jy.subVectors(e,s);const m=ic.dot(Jy),y=rc.dot(Jy);if(y>=0&&m<=y)return t.copy(s);const M=m*u-l*y;if(M<=0&&u>=0&&y<=0)return a=u/(u-y),t.copy(i).addScaledVector(rc,a);const A=d*y-m*h;if(A<=0&&h-d>=0&&m-y>=0)return XT.subVectors(s,r),a=(h-d)/(h-d+(m-y)),t.copy(r).addScaledVector(XT,a);const g=1/(A+M+p);return o=M*g,a=p*g,t.copy(i).addScaledVector(ic,o).addScaledVector(rc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let d4=0;class Pn extends Ts{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:d4++}),this.uuid=$i(),this.name="",this.type="Material",this.blending=ul,this.side=Ms,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=rS,this.blendDst=sS,this.blendEquation=Ya,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ug,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=LL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=cg,this.stencilZFail=cg,this.stencilZPass=cg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ul&&(i.blending=this.blending),this.side!==Ms&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const OL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Hr={h:0,s:0,l:0},Jp={h:0,s:0,l:0};function Ky(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class De{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=gt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,xr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=xr.workingColorSpace){return this.r=e,this.g=t,this.b=i,xr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=xr.workingColorSpace){if(e=dS(e,1),t=xn(t,0,1),i=xn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Ky(o,s,e+1/3),this.g=Ky(o,s,e),this.b=Ky(o,s,e-1/3)}return xr.toWorkingColorSpace(this,r),this}setStyle(e,t=gt){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=gt){const i=OL[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$c(e.r),this.g=$c(e.g),this.b=$c(e.b),this}copyLinearToSRGB(e){return this.r=Ny(e.r),this.g=Ny(e.g),this.b=Ny(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=gt){return xr.fromWorkingColorSpace(ci.copy(this),e),Math.round(xn(ci.r*255,0,255))*65536+Math.round(xn(ci.g*255,0,255))*256+Math.round(xn(ci.b*255,0,255))}getHexString(e=gt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=xr.workingColorSpace){xr.fromWorkingColorSpace(ci.copy(this),t);const i=ci.r,r=ci.g,s=ci.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,u;const d=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=xr.workingColorSpace){return xr.fromWorkingColorSpace(ci.copy(this),t),e.r=ci.r,e.g=ci.g,e.b=ci.b,e}getStyle(e=gt){xr.fromWorkingColorSpace(ci.copy(this),e);const t=ci.r,i=ci.g,r=ci.b;return e!==gt?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Hr),Hr.h+=e,Hr.s+=t,Hr.l+=i,this.setHSL(Hr.h,Hr.s,Hr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Hr),e.getHSL(Jp);const i=Yf(Hr.h,Jp.h,t),r=Yf(Hr.s,Jp.s,t),s=Yf(Hr.l,Jp.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ci=new De;De.NAMES=OL;class Yi extends Pn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Zd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Vs=h4();function h4(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;!(u&8388608);)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[l]=u|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Pi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=xn(n,-65504,65504),Vs.floatView[0]=n;const e=Vs.uint32View[0],t=e>>23&511;return Vs.baseTable[t]+((e&8388607)>>Vs.shiftTable[t])}function Ff(n){const e=n>>10;return Vs.uint32View[0]=Vs.mantissaTable[Vs.offsetTable[e]+(n&1023)]+Vs.exponentTable[e],Vs.floatView[0]}const p4={toHalfFloat:Pi,fromHalfFloat:Ff},Cn=new F,Kp=new ye;class Nt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Rd,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Kp.fromBufferAttribute(this,t),Kp.applyMatrix3(e),this.setXY(t,Kp.x,Kp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyMatrix3(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyMatrix4(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyNormalMatrix(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.transformDirection(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=xt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=xt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=xt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=xt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=xt(t,this.array),i=xt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=xt(t,this.array),i=xt(i,this.array),r=xt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=xt(t,this.array),i=xt(i,this.array),r=xt(r,this.array),s=xt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rd&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class m4 extends Nt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class g4 extends Nt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class v4 extends Nt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class y4 extends Nt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class mS extends Nt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class x4 extends Nt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class gS extends Nt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class _4 extends Nt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Ff(this.array[e*this.itemSize]);return this.normalized&&(t=Ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=xt(t,this.array)),this.array[e*this.itemSize]=Pi(t),this}getY(e){let t=Ff(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=xt(t,this.array)),this.array[e*this.itemSize+1]=Pi(t),this}getZ(e){let t=Ff(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=xt(t,this.array)),this.array[e*this.itemSize+2]=Pi(t),this}getW(e){let t=Ff(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=xt(t,this.array)),this.array[e*this.itemSize+3]=Pi(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=xt(t,this.array),i=xt(i,this.array)),this.array[e+0]=Pi(t),this.array[e+1]=Pi(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=xt(t,this.array),i=xt(i,this.array),r=xt(r,this.array)),this.array[e+0]=Pi(t),this.array[e+1]=Pi(i),this.array[e+2]=Pi(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=xt(t,this.array),i=xt(i,this.array),r=xt(r,this.array),s=xt(s,this.array)),this.array[e+0]=Pi(t),this.array[e+1]=Pi(i),this.array[e+2]=Pi(r),this.array[e+3]=Pi(s),this}}class Je extends Nt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class A4 extends Nt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let S4=0;const gr=new lt,Yy=new Bt,sc=new F,ji=new ts,mf=new ts,Gn=new F;class mt extends Ts{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:S4++}),this.uuid=$i(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(NL(e)?gS:mS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Ct().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return gr.makeRotationFromQuaternion(e),this.applyMatrix4(gr),this}rotateX(e){return gr.makeRotationX(e),this.applyMatrix4(gr),this}rotateY(e){return gr.makeRotationY(e),this.applyMatrix4(gr),this}rotateZ(e){return gr.makeRotationZ(e),this.applyMatrix4(gr),this}translate(e,t,i){return gr.makeTranslation(e,t,i),this.applyMatrix4(gr),this}scale(e,t,i){return gr.makeScale(e,t,i),this.applyMatrix4(gr),this}lookAt(e){return Yy.lookAt(e),Yy.updateMatrix(),this.applyMatrix4(Yy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sc).negate(),this.translate(sc.x,sc.y,sc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Je(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ts);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];ji.setFromBufferAttribute(s),this.morphTargetsRelative?(Gn.addVectors(this.boundingBox.min,ji.min),this.boundingBox.expandByPoint(Gn),Gn.addVectors(this.boundingBox.max,ji.max),this.boundingBox.expandByPoint(Gn)):(this.boundingBox.expandByPoint(ji.min),this.boundingBox.expandByPoint(ji.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ns);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const i=this.boundingSphere.center;if(ji.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];mf.setFromBufferAttribute(a),this.morphTargetsRelative?(Gn.addVectors(ji.min,mf.min),ji.expandByPoint(Gn),Gn.addVectors(ji.max,mf.max),ji.expandByPoint(Gn)):(ji.expandByPoint(mf.min),ji.expandByPoint(mf.max))}ji.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Gn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Gn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)Gn.fromBufferAttribute(a,u),l&&(sc.fromBufferAttribute(e,u),Gn.add(sc)),r=Math.max(r,i.distanceToSquared(Gn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Nt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],d=[];for(let L=0;L<a;L++)u[L]=new F,d[L]=new F;const h=new F,p=new F,m=new F,y=new ye,M=new ye,A=new ye,g=new F,x=new F;function S(L,U,J){h.fromArray(r,L*3),p.fromArray(r,U*3),m.fromArray(r,J*3),y.fromArray(o,L*2),M.fromArray(o,U*2),A.fromArray(o,J*2),p.sub(h),m.sub(h),M.sub(y),A.sub(y);const G=1/(M.x*A.y-A.x*M.y);isFinite(G)&&(g.copy(p).multiplyScalar(A.y).addScaledVector(m,-M.y).multiplyScalar(G),x.copy(m).multiplyScalar(M.x).addScaledVector(p,-A.x).multiplyScalar(G),u[L].add(g),u[U].add(g),u[J].add(g),d[L].add(x),d[U].add(x),d[J].add(x))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let L=0,U=E.length;L<U;++L){const J=E[L],G=J.start,K=J.count;for(let j=G,se=G+K;j<se;j+=3)S(i[j+0],i[j+1],i[j+2])}const T=new F,R=new F,P=new F,B=new F;function b(L){P.fromArray(s,L*3),B.copy(P);const U=u[L];T.copy(U),T.sub(P.multiplyScalar(P.dot(U))).normalize(),R.crossVectors(B,U);const G=R.dot(d[L])<0?-1:1;l[L*4]=T.x,l[L*4+1]=T.y,l[L*4+2]=T.z,l[L*4+3]=G}for(let L=0,U=E.length;L<U;++L){const J=E[L],G=J.start,K=J.count;for(let j=G,se=G+K;j<se;j+=3)b(i[j+0]),b(i[j+1]),b(i[j+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Nt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new F,s=new F,o=new F,a=new F,l=new F,u=new F,d=new F,h=new F;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),M=e.getX(p+1),A=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,M),o.fromBufferAttribute(t,A),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,M),u.fromBufferAttribute(i,A),a.add(d),l.add(d),u.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(M,l.x,l.y,l.z),i.setXYZ(A,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Gn.fromBufferAttribute(e,t),Gn.normalize(),e.setXYZ(t,Gn.x,Gn.y,Gn.z)}toNonIndexed(){function e(a,l){const u=a.array,d=a.itemSize,h=a.normalized,p=new u.constructor(l.length*d);let m=0,y=0;for(let M=0,A=l.length;M<A;M++){a.isInterleavedBufferAttribute?m=l[M]*a.data.stride+a.offset:m=l[M]*d;for(let g=0;g<d;g++)p[y++]=u[m++]}return new Nt(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let d=0,h=u.length;d<h;d++){const p=u[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const u in r){const d=r[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],h=s[u];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const JT=new lt,ps=new qd,Yp=new ns,KT=new F,oc=new F,ac=new F,lc=new F,Qy=new F,Qp=new F,Zp=new ye,qp=new ye,$p=new ye,YT=new F,QT=new F,ZT=new F,em=new F,tm=new F;class jn extends Bt{constructor(e=new mt,t=new Yi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Qp.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const d=a[l],h=s[l];d!==0&&(Qy.fromBufferAttribute(h,e),o?Qp.addScaledVector(Qy,d):Qp.addScaledVector(Qy.sub(t),d))}t.add(Qp)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Yp.copy(i.boundingSphere),Yp.applyMatrix4(s),ps.copy(e.ray).recast(e.near),!(Yp.containsPoint(ps.origin)===!1&&(ps.intersectSphere(Yp,KT)===null||ps.origin.distanceToSquared(KT)>(e.far-e.near)**2))&&(JT.copy(s).invert(),ps.copy(e.ray).applyMatrix4(JT),!(i.boundingBox!==null&&ps.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t)))}_computeIntersections(e,t){let i;const r=this.geometry,s=this.material,o=r.index,a=r.attributes.position,l=r.attributes.uv,u=r.attributes.uv1,d=r.attributes.normal,h=r.groups,p=r.drawRange;if(o!==null)if(Array.isArray(s))for(let m=0,y=h.length;m<y;m++){const M=h[m],A=s[M.materialIndex],g=Math.max(M.start,p.start),x=Math.min(o.count,Math.min(M.start+M.count,p.start+p.count));for(let S=g,E=x;S<E;S+=3){const T=o.getX(S),R=o.getX(S+1),P=o.getX(S+2);i=nm(this,A,e,ps,l,u,d,T,R,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=M.materialIndex,t.push(i))}}else{const m=Math.max(0,p.start),y=Math.min(o.count,p.start+p.count);for(let M=m,A=y;M<A;M+=3){const g=o.getX(M),x=o.getX(M+1),S=o.getX(M+2);i=nm(this,s,e,ps,l,u,d,g,x,S),i&&(i.faceIndex=Math.floor(M/3),t.push(i))}}else if(a!==void 0)if(Array.isArray(s))for(let m=0,y=h.length;m<y;m++){const M=h[m],A=s[M.materialIndex],g=Math.max(M.start,p.start),x=Math.min(a.count,Math.min(M.start+M.count,p.start+p.count));for(let S=g,E=x;S<E;S+=3){const T=S,R=S+1,P=S+2;i=nm(this,A,e,ps,l,u,d,T,R,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=M.materialIndex,t.push(i))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let M=m,A=y;M<A;M+=3){const g=M,x=M+1,S=M+2;i=nm(this,s,e,ps,l,u,d,g,x,S),i&&(i.faceIndex=Math.floor(M/3),t.push(i))}}}}function M4(n,e,t,i,r,s,o,a){let l;if(e.side===Si?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Ms,a),l===null)return null;tm.copy(a),tm.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(tm);return u<t.near||u>t.far?null:{distance:u,point:tm.clone(),object:n}}function nm(n,e,t,i,r,s,o,a,l,u){n.getVertexPosition(a,oc),n.getVertexPosition(l,ac),n.getVertexPosition(u,lc);const d=M4(n,e,t,i,oc,ac,lc,em);if(d){r&&(Zp.fromBufferAttribute(r,a),qp.fromBufferAttribute(r,l),$p.fromBufferAttribute(r,u),d.uv=Li.getInterpolation(em,oc,ac,lc,Zp,qp,$p,new ye)),s&&(Zp.fromBufferAttribute(s,a),qp.fromBufferAttribute(s,l),$p.fromBufferAttribute(s,u),d.uv1=Li.getInterpolation(em,oc,ac,lc,Zp,qp,$p,new ye),d.uv2=d.uv1),o&&(YT.fromBufferAttribute(o,a),QT.fromBufferAttribute(o,l),ZT.fromBufferAttribute(o,u),d.normal=Li.getInterpolation(em,oc,ac,lc,YT,QT,ZT,new F),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const h={a,b:l,c:u,normal:new F,materialIndex:0};Li.getNormal(oc,ac,lc,h.normal),d.face=h}return d}class _a extends mt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Je(u,3)),this.setAttribute("normal",new Je(d,3)),this.setAttribute("uv",new Je(h,2));function y(M,A,g,x,S,E,T,R,P,B,b){const L=E/P,U=T/B,J=E/2,G=T/2,K=R/2,j=P+1,se=B+1;let te=0,I=0;const H=new F;for(let z=0;z<se;z++){const $=z*U-G;for(let Q=0;Q<j;Q++){const ee=Q*L-J;H[M]=ee*x,H[A]=$*S,H[g]=K,u.push(H.x,H.y,H.z),H[M]=0,H[A]=0,H[g]=R>0?1:-1,d.push(H.x,H.y,H.z),h.push(Q/P),h.push(1-z/B),te+=1}}for(let z=0;z<B;z++)for(let $=0;$<P;$++){const Q=p+$+j*z,ee=p+$+j*(z+1),ie=p+($+1)+j*(z+1),we=p+($+1)+j*z;l.push(Q,ee,we),l.push(ee,ie,we),I+=6}a.addGroup(m,I,b),m+=I,p+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _a(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function mu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function yi(n){const e={};for(let t=0;t<n.length;t++){const i=mu(n[t]);for(const r in i)e[r]=i[r]}return e}function E4(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function kL(n){return n.getRenderTarget()===null?n.outputColorSpace:$r}const UL={clone:mu,merge:yi};var w4=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,T4=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ws extends Pn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=w4,this.fragmentShader=T4,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=mu(e.uniforms),this.uniformsGroups=E4(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class eh extends Bt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new lt,this.projectionMatrix=new lt,this.projectionMatrixInverse=new lt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Xt extends eh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=pu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(dl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return pu*2*Math.atan(Math.tan(dl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(dl*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/u,r*=o.width/l,i*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const cc=-90,uc=1;class vS extends Bt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Xt(cc,uc,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new Xt(cc,uc,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new Xt(cc,uc,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new Xt(cc,uc,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Xt(cc,uc,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Xt(cc,uc,e,t);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,u]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Qr,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,u),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class th extends sn{constructor(e,t,i,r,s,o,a,l,u,d){e=e!==void 0?e:[],t=t!==void 0?t:aa,super(e,t,i,r,s,o,a,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class yS extends es{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(Qf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===qi?gt:na),this.texture=new th(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ln}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new _a(5,5,5),s=new ws({name:"CubemapFromEquirect",uniforms:mu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Si,blending:Zs});s.uniforms.tEquirect.value=t;const o=new jn(r,s),a=t.minFilter;return t.minFilter===Es&&(t.minFilter=ln),new vS(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const Zy=new F,C4=new F,b4=new Ct;class Oo{constructor(e=new F(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Zy.subVectors(i,t).cross(C4.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Zy),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||b4.getNormalMatrix(e),r=this.coplanarPoint(Zy).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Fa=new ns,im=new F;class R0{constructor(e=new Oo,t=new Oo,i=new Oo,r=new Oo,s=new Oo,o=new Oo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],d=i[6],h=i[7],p=i[8],m=i[9],y=i[10],M=i[11],A=i[12],g=i[13],x=i[14],S=i[15];return t[0].setComponents(a-r,h-l,M-p,S-A).normalize(),t[1].setComponents(a+r,h+l,M+p,S+A).normalize(),t[2].setComponents(a+s,h+u,M+m,S+g).normalize(),t[3].setComponents(a-s,h-u,M-m,S-g).normalize(),t[4].setComponents(a-o,h-d,M-y,S-x).normalize(),t[5].setComponents(a+o,h+d,M+y,S+x).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Fa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Fa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Fa)}intersectsSprite(e){return Fa.center.set(0,0,0),Fa.radius=.7071067811865476,Fa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Fa)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(im.x=r.normal.x>0?e.max.x:e.min.x,im.y=r.normal.y>0?e.max.y:e.min.y,im.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(im)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function zL(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function R4(n,e){const t=e.isWebGL2,i=new WeakMap;function r(u,d){const h=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),u.onUploadCallback();let y;if(h instanceof Float32Array)y=n.FLOAT;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)y=n.SHORT;else if(h instanceof Uint32Array)y=n.UNSIGNED_INT;else if(h instanceof Int32Array)y=n.INT;else if(h instanceof Int8Array)y=n.BYTE;else if(h instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,u),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d&&(n.deleteBuffer(d.buffer),i.delete(u))}function l(u,d){if(u.isGLBufferAttribute){const p=i.get(u);(!p||p.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=i.get(u);h===void 0?i.set(u,r(u,d)):h.version<u.version&&(s(h.buffer,u,d),h.version=u.version)}return{get:o,remove:a,update:l}}class Pu extends mt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),u=a+1,d=l+1,h=e/a,p=t/l,m=[],y=[],M=[],A=[];for(let g=0;g<d;g++){const x=g*p-o;for(let S=0;S<u;S++){const E=S*h-s;y.push(E,-x,0),M.push(0,0,1),A.push(S/a),A.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const S=x+u*g,E=x+u*(g+1),T=x+1+u*(g+1),R=x+1+u*g;m.push(S,E,R),m.push(E,T,R)}this.setIndex(m),this.setAttribute("position",new Je(y,3)),this.setAttribute("normal",new Je(M,3)),this.setAttribute("uv",new Je(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pu(e.width,e.height,e.widthSegments,e.heightSegments)}}var P4=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,B4=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,L4=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,I4=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,D4=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,F4=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,N4="vec3 transformed = vec3( position );",O4=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,k4=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,U4=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,z4=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,H4=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,G4=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,V4=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,W4=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,j4=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,X4=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,J4=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,K4=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Y4=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Q4=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Z4=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,q4=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,$4=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,ez=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,tz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,nz="gl_FragColor = linearToOutputTexel( gl_FragColor );",iz=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,rz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,sz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,oz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,az=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,lz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,cz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,uz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fz=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,dz=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,hz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,pz=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,mz=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,gz=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,vz=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,yz=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,xz=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,_z=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Az=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Sz=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Mz=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Ez=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,wz=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Tz=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Cz=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,bz=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Rz=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Pz=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Bz=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Lz=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Iz=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Dz=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Fz=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Nz=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Oz=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,kz=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Uz=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,zz=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Hz=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Gz=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Vz=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,Wz=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,jz=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Xz=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jz=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Kz=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Yz=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Qz=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Zz=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,qz=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,$z=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,eH=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,tH=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,nH=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,iH=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,rH=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,sH=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,oH=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,aH=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,lH=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,cH=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,uH=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,fH=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,dH=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,hH=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,pH=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,mH=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,gH=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,vH=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,yH=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,xH=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,_H=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,AH=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,SH=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,MH=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,EH=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const wH=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,TH=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,CH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bH=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,RH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,PH=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,BH=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,LH=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,IH=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,DH=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,FH=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,NH=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,OH=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,kH=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,UH=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,zH=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HH=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GH=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VH=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,WH=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jH=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,XH=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,JH=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,KH=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YH=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,QH=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZH=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qH=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$H=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,eG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,tG=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nG=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,iG=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yt={alphamap_fragment:P4,alphamap_pars_fragment:B4,alphatest_fragment:L4,alphatest_pars_fragment:I4,aomap_fragment:D4,aomap_pars_fragment:F4,begin_vertex:N4,beginnormal_vertex:O4,bsdfs:k4,iridescence_fragment:U4,bumpmap_pars_fragment:z4,clipping_planes_fragment:H4,clipping_planes_pars_fragment:G4,clipping_planes_pars_vertex:V4,clipping_planes_vertex:W4,color_fragment:j4,color_pars_fragment:X4,color_pars_vertex:J4,color_vertex:K4,common:Y4,cube_uv_reflection_fragment:Q4,defaultnormal_vertex:Z4,displacementmap_pars_vertex:q4,displacementmap_vertex:$4,emissivemap_fragment:ez,emissivemap_pars_fragment:tz,encodings_fragment:nz,encodings_pars_fragment:iz,envmap_fragment:rz,envmap_common_pars_fragment:sz,envmap_pars_fragment:oz,envmap_pars_vertex:az,envmap_physical_pars_fragment:xz,envmap_vertex:lz,fog_vertex:cz,fog_pars_vertex:uz,fog_fragment:fz,fog_pars_fragment:dz,gradientmap_pars_fragment:hz,lightmap_fragment:pz,lightmap_pars_fragment:mz,lights_lambert_fragment:gz,lights_lambert_pars_fragment:vz,lights_pars_begin:yz,lights_toon_fragment:_z,lights_toon_pars_fragment:Az,lights_phong_fragment:Sz,lights_phong_pars_fragment:Mz,lights_physical_fragment:Ez,lights_physical_pars_fragment:wz,lights_fragment_begin:Tz,lights_fragment_maps:Cz,lights_fragment_end:bz,logdepthbuf_fragment:Rz,logdepthbuf_pars_fragment:Pz,logdepthbuf_pars_vertex:Bz,logdepthbuf_vertex:Lz,map_fragment:Iz,map_pars_fragment:Dz,map_particle_fragment:Fz,map_particle_pars_fragment:Nz,metalnessmap_fragment:Oz,metalnessmap_pars_fragment:kz,morphcolor_vertex:Uz,morphnormal_vertex:zz,morphtarget_pars_vertex:Hz,morphtarget_vertex:Gz,normal_fragment_begin:Vz,normal_fragment_maps:Wz,normal_pars_fragment:jz,normal_pars_vertex:Xz,normal_vertex:Jz,normalmap_pars_fragment:Kz,clearcoat_normal_fragment_begin:Yz,clearcoat_normal_fragment_maps:Qz,clearcoat_pars_fragment:Zz,iridescence_pars_fragment:qz,output_fragment:$z,packing:eH,premultiplied_alpha_fragment:tH,project_vertex:nH,dithering_fragment:iH,dithering_pars_fragment:rH,roughnessmap_fragment:sH,roughnessmap_pars_fragment:oH,shadowmap_pars_fragment:aH,shadowmap_pars_vertex:lH,shadowmap_vertex:cH,shadowmask_pars_fragment:uH,skinbase_vertex:fH,skinning_pars_vertex:dH,skinning_vertex:hH,skinnormal_vertex:pH,specularmap_fragment:mH,specularmap_pars_fragment:gH,tonemapping_fragment:vH,tonemapping_pars_fragment:yH,transmission_fragment:xH,transmission_pars_fragment:_H,uv_pars_fragment:AH,uv_pars_vertex:SH,uv_vertex:MH,worldpos_vertex:EH,background_vert:wH,background_frag:TH,backgroundCube_vert:CH,backgroundCube_frag:bH,cube_vert:RH,cube_frag:PH,depth_vert:BH,depth_frag:LH,distanceRGBA_vert:IH,distanceRGBA_frag:DH,equirect_vert:FH,equirect_frag:NH,linedashed_vert:OH,linedashed_frag:kH,meshbasic_vert:UH,meshbasic_frag:zH,meshlambert_vert:HH,meshlambert_frag:GH,meshmatcap_vert:VH,meshmatcap_frag:WH,meshnormal_vert:jH,meshnormal_frag:XH,meshphong_vert:JH,meshphong_frag:KH,meshphysical_vert:YH,meshphysical_frag:QH,meshtoon_vert:ZH,meshtoon_frag:qH,points_vert:$H,points_frag:eG,shadow_vert:tG,shadow_frag:nG,sprite_vert:iG,sprite_frag:rG},Ie={common:{diffuse:{value:new De(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaMapTransform:{value:new Ct},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ct}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ct}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ct}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ct},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ct},normalScale:{value:new ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ct},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ct}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ct}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ct}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new De(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new De(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ct}},sprite:{diffuse:{value:new De(16777215)},opacity:{value:1},center:{value:new ye(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ct},alphaMap:{value:null},alphaTest:{value:0}}},Xr={basic:{uniforms:yi([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:yi([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,Ie.lights,{emissive:{value:new De(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:yi([Ie.common,Ie.specularmap,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,Ie.lights,{emissive:{value:new De(0)},specular:{value:new De(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:yi([Ie.common,Ie.envmap,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.roughnessmap,Ie.metalnessmap,Ie.fog,Ie.lights,{emissive:{value:new De(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:yi([Ie.common,Ie.aomap,Ie.lightmap,Ie.emissivemap,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.gradientmap,Ie.fog,Ie.lights,{emissive:{value:new De(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:yi([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,Ie.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:yi([Ie.points,Ie.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:yi([Ie.common,Ie.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:yi([Ie.common,Ie.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:yi([Ie.common,Ie.bumpmap,Ie.normalmap,Ie.displacementmap,{opacity:{value:1}}]),vertexShader:yt.meshnormal_vert,fragmentShader:yt.meshnormal_frag},sprite:{uniforms:yi([Ie.sprite,Ie.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ct},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:yt.backgroundCube_vert,fragmentShader:yt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:yi([Ie.common,Ie.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:yi([Ie.lights,Ie.fog,{color:{value:new De(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};Xr.physical={uniforms:yi([Xr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ct},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ct},clearcoatNormalScale:{value:new ye(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ct},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ct},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ct},sheen:{value:0},sheenColor:{value:new De(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ct},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ct},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ct},transmissionSamplerSize:{value:new ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ct},attenuationDistance:{value:0},attenuationColor:{value:new De(0)},specularColor:{value:new De(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ct},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ct}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};const rm={r:0,b:0,g:0};function sG(n,e,t,i,r,s,o){const a=new De(0);let l=s===!0?0:1,u,d,h=null,p=0,m=null;function y(A,g){let x=!1,S=g.isScene===!0?g.background:null;switch(S&&S.isTexture&&(S=(g.backgroundBlurriness>0?t:e).get(S)),S===null?M(a,l):S&&S.isColor&&(M(S,1),x=!0),n.xr.getEnvironmentBlendMode()){case"opaque":x=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),x=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),x=!0;break}(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Ru)?(d===void 0&&(d=new jn(new _a(1,1,1),new ws({name:"BackgroundCubeMaterial",uniforms:mu(Xr.backgroundCube.uniforms),vertexShader:Xr.backgroundCube.vertexShader,fragmentShader:Xr.backgroundCube.fragmentShader,side:Si,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(R,P,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,d.material.toneMapped=S.colorSpace!==gt,(h!==S||p!==S.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),d.layers.enableAll(),A.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new jn(new Pu(2,2),new ws({name:"BackgroundMaterial",uniforms:mu(Xr.background.uniforms),vertexShader:Xr.background.vertexShader,fragmentShader:Xr.background.fragmentShader,side:Ms,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=S,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=S.colorSpace!==gt,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function M(A,g){A.getRGB(rm,kL(n)),i.buffers.color.setClear(rm.r,rm.g,rm.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(A,g=1){a.set(A),l=g,M(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,M(a,l)},render:y}}function oG(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=A(null);let u=l,d=!1;function h(K,j,se,te,I){let H=!1;if(o){const z=M(te,se,j);u!==z&&(u=z,m(u.object)),H=g(K,te,se,I),H&&x(K,te,se,I)}else{const z=j.wireframe===!0;(u.geometry!==te.id||u.program!==se.id||u.wireframe!==z)&&(u.geometry=te.id,u.program=se.id,u.wireframe=z,H=!0)}I!==null&&t.update(I,n.ELEMENT_ARRAY_BUFFER),(H||d)&&(d=!1,B(K,j,se,te),I!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(I).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(K){return i.isWebGL2?n.bindVertexArray(K):s.bindVertexArrayOES(K)}function y(K){return i.isWebGL2?n.deleteVertexArray(K):s.deleteVertexArrayOES(K)}function M(K,j,se){const te=se.wireframe===!0;let I=a[K.id];I===void 0&&(I={},a[K.id]=I);let H=I[j.id];H===void 0&&(H={},I[j.id]=H);let z=H[te];return z===void 0&&(z=A(p()),H[te]=z),z}function A(K){const j=[],se=[],te=[];for(let I=0;I<r;I++)j[I]=0,se[I]=0,te[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:se,attributeDivisors:te,object:K,attributes:{},index:null}}function g(K,j,se,te){const I=u.attributes,H=j.attributes;let z=0;const $=se.getAttributes();for(const Q in $)if($[Q].location>=0){const ie=I[Q];let we=H[Q];if(we===void 0&&(Q==="instanceMatrix"&&K.instanceMatrix&&(we=K.instanceMatrix),Q==="instanceColor"&&K.instanceColor&&(we=K.instanceColor)),ie===void 0||ie.attribute!==we||we&&ie.data!==we.data)return!0;z++}return u.attributesNum!==z||u.index!==te}function x(K,j,se,te){const I={},H=j.attributes;let z=0;const $=se.getAttributes();for(const Q in $)if($[Q].location>=0){let ie=H[Q];ie===void 0&&(Q==="instanceMatrix"&&K.instanceMatrix&&(ie=K.instanceMatrix),Q==="instanceColor"&&K.instanceColor&&(ie=K.instanceColor));const we={};we.attribute=ie,ie&&ie.data&&(we.data=ie.data),I[Q]=we,z++}u.attributes=I,u.attributesNum=z,u.index=te}function S(){const K=u.newAttributes;for(let j=0,se=K.length;j<se;j++)K[j]=0}function E(K){T(K,0)}function T(K,j){const se=u.newAttributes,te=u.enabledAttributes,I=u.attributeDivisors;se[K]=1,te[K]===0&&(n.enableVertexAttribArray(K),te[K]=1),I[K]!==j&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](K,j),I[K]=j)}function R(){const K=u.newAttributes,j=u.enabledAttributes;for(let se=0,te=j.length;se<te;se++)j[se]!==K[se]&&(n.disableVertexAttribArray(se),j[se]=0)}function P(K,j,se,te,I,H){i.isWebGL2===!0&&(se===n.INT||se===n.UNSIGNED_INT)?n.vertexAttribIPointer(K,j,se,I,H):n.vertexAttribPointer(K,j,se,te,I,H)}function B(K,j,se,te){if(i.isWebGL2===!1&&(K.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const I=te.attributes,H=se.getAttributes(),z=j.defaultAttributeValues;for(const $ in H){const Q=H[$];if(Q.location>=0){let ee=I[$];if(ee===void 0&&($==="instanceMatrix"&&K.instanceMatrix&&(ee=K.instanceMatrix),$==="instanceColor"&&K.instanceColor&&(ee=K.instanceColor)),ee!==void 0){const ie=ee.normalized,we=ee.itemSize,xe=t.get(ee);if(xe===void 0)continue;const V=xe.buffer,Xe=xe.type,Ke=xe.bytesPerElement;if(ee.isInterleavedBufferAttribute){const _e=ee.data,Ee=_e.stride,ge=ee.offset;if(_e.isInstancedInterleavedBuffer){for(let ae=0;ae<Q.locationSize;ae++)T(Q.location+ae,_e.meshPerAttribute);K.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let ae=0;ae<Q.locationSize;ae++)E(Q.location+ae);n.bindBuffer(n.ARRAY_BUFFER,V);for(let ae=0;ae<Q.locationSize;ae++)P(Q.location+ae,we/Q.locationSize,Xe,ie,Ee*Ke,(ge+we/Q.locationSize*ae)*Ke)}else{if(ee.isInstancedBufferAttribute){for(let _e=0;_e<Q.locationSize;_e++)T(Q.location+_e,ee.meshPerAttribute);K.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let _e=0;_e<Q.locationSize;_e++)E(Q.location+_e);n.bindBuffer(n.ARRAY_BUFFER,V);for(let _e=0;_e<Q.locationSize;_e++)P(Q.location+_e,we/Q.locationSize,Xe,ie,we*Ke,we/Q.locationSize*_e*Ke)}}else if(z!==void 0){const ie=z[$];if(ie!==void 0)switch(ie.length){case 2:n.vertexAttrib2fv(Q.location,ie);break;case 3:n.vertexAttrib3fv(Q.location,ie);break;case 4:n.vertexAttrib4fv(Q.location,ie);break;default:n.vertexAttrib1fv(Q.location,ie)}}}}R()}function b(){J();for(const K in a){const j=a[K];for(const se in j){const te=j[se];for(const I in te)y(te[I].object),delete te[I];delete j[se]}delete a[K]}}function L(K){if(a[K.id]===void 0)return;const j=a[K.id];for(const se in j){const te=j[se];for(const I in te)y(te[I].object),delete te[I];delete j[se]}delete a[K.id]}function U(K){for(const j in a){const se=a[j];if(se[K.id]===void 0)continue;const te=se[K.id];for(const I in te)y(te[I].object),delete te[I];delete se[K.id]}}function J(){G(),d=!0,u!==l&&(u=l,m(u.object))}function G(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:J,resetDefaultState:G,dispose:b,releaseStatesOfGeometry:L,releaseStatesOfProgram:U,initAttributes:S,enableAttribute:E,disableUnusedAttributes:R}}function aG(n,e,t,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,d){n.drawArrays(s,u,d),t.update(d,s,1)}function l(u,d,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function lG(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),M=n.getParameter(n.MAX_VERTEX_ATTRIBS),A=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,E=o||e.has("OES_texture_float"),T=S&&E,R=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:M,maxVertexUniforms:A,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:S,floatFragmentTextures:E,floatVertexTextures:T,maxSamples:R}}function cG(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Oo,a=new Ct,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,M=h.clipIntersection,A=h.clipShadows,g=n.get(h);if(!r||y===null||y.length===0||s&&!A)s?d(null):u();else{const x=s?0:i,S=x*4;let E=g.clippingState||null;l.value=E,E=d(y,p,S,m);for(let T=0;T!==S;++T)E[T]=t[T];g.clippingState=E,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,y){const M=h!==null?h.length:0;let A=null;if(M!==0){if(A=l.value,y!==!0||A===null){const g=m+M*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(A===null||A.length<g)&&(A=new Float32Array(g));for(let S=0,E=m;S!==M;++S,E+=4)o.copy(h[S]).applyMatrix4(x,a),o.normal.toArray(A,E),A[E+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,A}}function uG(n){let e=new WeakMap;function t(o,a){return a===wd?o.mapping=aa:a===Td&&(o.mapping=la),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===wd||a===Td)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new yS(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",r),t(u.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Zr extends eh{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Nc=4,qT=[.125,.215,.35,.446,.526,.582],Qa=20,qy=new Zr,$T=new De;let $y=null;const Xa=(1+Math.sqrt(5))/2,fc=1/Xa,eC=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,Xa,fc),new F(0,Xa,-fc),new F(fc,0,Xa),new F(-fc,0,Xa),new F(Xa,fc,0),new F(-Xa,fc,0)];class g1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){$y=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=iC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=nC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget($y),e.scissorTest=!1,sm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===aa||e.mapping===la?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),$y=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ln,minFilter:ln,generateMipmaps:!1,type:du,format:Ii,colorSpace:$r,depthBuffer:!1},r=tC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=tC(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=fG(s)),this._blurMaterial=dG(s,e,t)}return r}_compileMaterial(e){const t=new jn(this._lodPlanes[0],e);this._renderer.compile(t,qy)}_sceneToCubeUV(e,t,i,r){const a=new Xt(90,1,t,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor($T),d.toneMapping=Qr,d.autoClear=!1;const m=new Yi({name:"PMREM.Background",side:Si,depthWrite:!1,depthTest:!1}),y=new jn(new _a,m);let M=!1;const A=e.background;A?A.isColor&&(m.color.copy(A),e.background=null,M=!0):(m.color.copy($T),M=!0);for(let g=0;g<6;g++){const x=g%3;x===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):x===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const S=this._cubeSize;sm(r,x*S,g>2?S:0,S,S),d.setRenderTarget(r),M&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=A}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===aa||e.mapping===la;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=iC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=nC());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new jn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;sm(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,qy)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=eC[(r-1)%eC.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new jn(this._lodPlanes[r],u),p=u.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Qa-1),M=s/y,A=isFinite(s)?1+Math.floor(d*M):Qa;A>Qa&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${Qa}`);const g=[];let x=0;for(let P=0;P<Qa;++P){const B=P/M,b=Math.exp(-B*B/2);g.push(b),P===0?x+=b:P<A&&(x+=2*b)}for(let P=0;P<g.length;P++)g[P]=g[P]/x;p.envMap.value=e.texture,p.samples.value=A,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=y,p.mipInt.value=S-i;const E=this._sizeLods[r],T=3*E*(r>S-Nc?r-S+Nc:0),R=4*(this._cubeSize-E);sm(t,T,R,3*E,2*E),l.setRenderTarget(t),l.render(h,qy)}}function fG(n){const e=[],t=[],i=[];let r=n;const s=n-Nc+1+qT.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Nc?l=qT[o-n+Nc-1]:o===0&&(l=0),i.push(l);const u=1/(a-2),d=-u,h=1+u,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,M=3,A=2,g=1,x=new Float32Array(M*y*m),S=new Float32Array(A*y*m),E=new Float32Array(g*y*m);for(let R=0;R<m;R++){const P=R%3*2/3-1,B=R>2?0:-1,b=[P,B,0,P+2/3,B,0,P+2/3,B+1,0,P,B,0,P+2/3,B+1,0,P,B+1,0];x.set(b,M*y*R),S.set(p,A*y*R);const L=[R,R,R,R,R,R];E.set(L,g*y*R)}const T=new mt;T.setAttribute("position",new Nt(x,M)),T.setAttribute("uv",new Nt(S,A)),T.setAttribute("faceIndex",new Nt(E,g)),e.push(T),r>Nc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function tC(n,e,t){const i=new es(n,e,t);return i.texture.mapping=Ru,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function sm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function dG(n,e,t){const i=new Float32Array(Qa),r=new F(0,1,0);return new ws({name:"SphericalGaussianBlur",defines:{n:Qa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:xS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Zs,depthTest:!1,depthWrite:!1})}function nC(){return new ws({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:xS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Zs,depthTest:!1,depthWrite:!1})}function iC(){return new ws({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:xS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Zs,depthTest:!1,depthWrite:!1})}function xS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function hG(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===wd||l===Td,d=l===aa||l===la;if(u||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new g1(n)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new g1(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function pG(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function mG(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],n.ARRAY_BUFFER);const m=h.morphAttributes;for(const y in m){const M=m[y];for(let A=0,g=M.length;A<g;A++)e.update(M[A],n.ARRAY_BUFFER)}}function u(h){const p=[],m=h.index,y=h.attributes.position;let M=0;if(m!==null){const x=m.array;M=m.version;for(let S=0,E=x.length;S<E;S+=3){const T=x[S+0],R=x[S+1],P=x[S+2];p.push(T,R,R,P,P,T)}}else{const x=y.array;M=y.version;for(let S=0,E=x.length/3-1;S<E;S+=3){const T=S+0,R=S+1,P=S+2;p.push(T,R,R,P,P,T)}}const A=new(NL(p)?gS:mS)(p,1);A.version=M;const g=s.get(h);g&&e.remove(g),s.set(h,A)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function gG(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let M,A;if(r)M=n,A="drawElementsInstanced";else if(M=e.get("ANGLE_instanced_arrays"),A="drawElementsInstancedANGLE",M===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}M[A](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=u,this.render=d,this.renderInstances=h}function vG(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function yG(n,e){return n[0]-e[0]}function xG(n,e){return Math.abs(e[1])-Math.abs(n[1])}function _G(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ht,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,d,h){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,M=y!==void 0?y.length:0;let A=s.get(d);if(A===void 0||A.count!==M){let j=function(){G.dispose(),s.delete(d),d.removeEventListener("dispose",j)};var m=j;A!==void 0&&A.texture.dispose();const S=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,T=d.morphAttributes.color!==void 0,R=d.morphAttributes.position||[],P=d.morphAttributes.normal||[],B=d.morphAttributes.color||[];let b=0;S===!0&&(b=1),E===!0&&(b=2),T===!0&&(b=3);let L=d.attributes.position.count*b,U=1;L>e.maxTextureSize&&(U=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const J=new Float32Array(L*U*4*M),G=new b0(J,L,U,M);G.type=Js,G.needsUpdate=!0;const K=b*4;for(let se=0;se<M;se++){const te=R[se],I=P[se],H=B[se],z=L*U*4*se;for(let $=0;$<te.count;$++){const Q=$*K;S===!0&&(o.fromBufferAttribute(te,$),J[z+Q+0]=o.x,J[z+Q+1]=o.y,J[z+Q+2]=o.z,J[z+Q+3]=0),E===!0&&(o.fromBufferAttribute(I,$),J[z+Q+4]=o.x,J[z+Q+5]=o.y,J[z+Q+6]=o.z,J[z+Q+7]=0),T===!0&&(o.fromBufferAttribute(H,$),J[z+Q+8]=o.x,J[z+Q+9]=o.y,J[z+Q+10]=o.z,J[z+Q+11]=H.itemSize===4?o.w:1)}}A={count:M,texture:G,size:new ye(L,U)},s.set(d,A),d.addEventListener("dispose",j)}let g=0;for(let S=0;S<p.length;S++)g+=p[S];const x=d.morphTargetsRelative?1:1-g;h.getUniforms().setValue(n,"morphTargetBaseInfluence",x),h.getUniforms().setValue(n,"morphTargetInfluences",p),h.getUniforms().setValue(n,"morphTargetsTexture",A.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",A.size)}else{const y=p===void 0?0:p.length;let M=i[d.id];if(M===void 0||M.length!==y){M=[];for(let E=0;E<y;E++)M[E]=[E,0];i[d.id]=M}for(let E=0;E<y;E++){const T=M[E];T[0]=E,T[1]=p[E]}M.sort(xG);for(let E=0;E<8;E++)E<y&&M[E][1]?(a[E][0]=M[E][0],a[E][1]=M[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(yG);const A=d.morphAttributes.position,g=d.morphAttributes.normal;let x=0;for(let E=0;E<8;E++){const T=a[E],R=T[0],P=T[1];R!==Number.MAX_SAFE_INTEGER&&P?(A&&d.getAttribute("morphTarget"+E)!==A[R]&&d.setAttribute("morphTarget"+E,A[R]),g&&d.getAttribute("morphNormal"+E)!==g[R]&&d.setAttribute("morphNormal"+E,g[R]),r[E]=P,x+=P):(A&&d.hasAttribute("morphTarget"+E)===!0&&d.deleteAttribute("morphTarget"+E),g&&d.hasAttribute("morphNormal"+E)===!0&&d.deleteAttribute("morphNormal"+E),r[E]=0)}const S=d.morphTargetsRelative?1:1-x;h.getUniforms().setValue(n,"morphTargetBaseInfluence",S),h.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function AG(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,d=l.geometry,h=e.get(l,d);return r.get(h)!==u&&(e.update(h),r.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER)),h}function o(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const HL=new sn,GL=new b0,VL=new pS,WL=new th,rC=[],sC=[],oC=new Float32Array(16),aC=new Float32Array(9),lC=new Float32Array(4);function Bu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=rC[r];if(s===void 0&&(s=new Float32Array(r),rC[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Fn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Nn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function P0(n,e){let t=sC[e];t===void 0&&(t=new Int32Array(e),sC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function SG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function MG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2fv(this.addr,e),Nn(t,e)}}function EG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Fn(t,e))return;n.uniform3fv(this.addr,e),Nn(t,e)}}function wG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4fv(this.addr,e),Nn(t,e)}}function TG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Nn(t,e)}else{if(Fn(t,i))return;lC.set(i),n.uniformMatrix2fv(this.addr,!1,lC),Nn(t,i)}}function CG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Nn(t,e)}else{if(Fn(t,i))return;aC.set(i),n.uniformMatrix3fv(this.addr,!1,aC),Nn(t,i)}}function bG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Nn(t,e)}else{if(Fn(t,i))return;oC.set(i),n.uniformMatrix4fv(this.addr,!1,oC),Nn(t,i)}}function RG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function PG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2iv(this.addr,e),Nn(t,e)}}function BG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fn(t,e))return;n.uniform3iv(this.addr,e),Nn(t,e)}}function LG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4iv(this.addr,e),Nn(t,e)}}function IG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function DG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fn(t,e))return;n.uniform2uiv(this.addr,e),Nn(t,e)}}function FG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fn(t,e))return;n.uniform3uiv(this.addr,e),Nn(t,e)}}function NG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fn(t,e))return;n.uniform4uiv(this.addr,e),Nn(t,e)}}function OG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||HL,r)}function kG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||VL,r)}function UG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||WL,r)}function zG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||GL,r)}function HG(n){switch(n){case 5126:return SG;case 35664:return MG;case 35665:return EG;case 35666:return wG;case 35674:return TG;case 35675:return CG;case 35676:return bG;case 5124:case 35670:return RG;case 35667:case 35671:return PG;case 35668:case 35672:return BG;case 35669:case 35673:return LG;case 5125:return IG;case 36294:return DG;case 36295:return FG;case 36296:return NG;case 35678:case 36198:case 36298:case 36306:case 35682:return OG;case 35679:case 36299:case 36307:return kG;case 35680:case 36300:case 36308:case 36293:return UG;case 36289:case 36303:case 36311:case 36292:return zG}}function GG(n,e){n.uniform1fv(this.addr,e)}function VG(n,e){const t=Bu(e,this.size,2);n.uniform2fv(this.addr,t)}function WG(n,e){const t=Bu(e,this.size,3);n.uniform3fv(this.addr,t)}function jG(n,e){const t=Bu(e,this.size,4);n.uniform4fv(this.addr,t)}function XG(n,e){const t=Bu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function JG(n,e){const t=Bu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function KG(n,e){const t=Bu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function YG(n,e){n.uniform1iv(this.addr,e)}function QG(n,e){n.uniform2iv(this.addr,e)}function ZG(n,e){n.uniform3iv(this.addr,e)}function qG(n,e){n.uniform4iv(this.addr,e)}function $G(n,e){n.uniform1uiv(this.addr,e)}function e5(n,e){n.uniform2uiv(this.addr,e)}function t5(n,e){n.uniform3uiv(this.addr,e)}function n5(n,e){n.uniform4uiv(this.addr,e)}function i5(n,e,t){const i=this.cache,r=e.length,s=P0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Nn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||HL,s[o])}function r5(n,e,t){const i=this.cache,r=e.length,s=P0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Nn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||VL,s[o])}function s5(n,e,t){const i=this.cache,r=e.length,s=P0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Nn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||WL,s[o])}function o5(n,e,t){const i=this.cache,r=e.length,s=P0(t,r);Fn(i,s)||(n.uniform1iv(this.addr,s),Nn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||GL,s[o])}function a5(n){switch(n){case 5126:return GG;case 35664:return VG;case 35665:return WG;case 35666:return jG;case 35674:return XG;case 35675:return JG;case 35676:return KG;case 5124:case 35670:return YG;case 35667:case 35671:return QG;case 35668:case 35672:return ZG;case 35669:case 35673:return qG;case 5125:return $G;case 36294:return e5;case 36295:return t5;case 36296:return n5;case 35678:case 36198:case 36298:case 36306:case 35682:return i5;case 35679:case 36299:case 36307:return r5;case 35680:case 36300:case 36308:case 36293:return s5;case 36289:case 36303:case 36311:case 36292:return o5}}class l5{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=HG(t.type)}}class c5{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=a5(t.type)}}class u5{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const ex=/(\w+)(\])?(\[|\.)?/g;function cC(n,e){n.seq.push(e),n.map[e.id]=e}function f5(n,e,t){const i=n.name,r=i.length;for(ex.lastIndex=0;;){const s=ex.exec(i),o=ex.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===r){cC(t,u===void 0?new l5(a,n,e):new c5(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new u5(a),cC(t,h)),t=h}}}class ug{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);f5(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function uC(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let d5=0;function h5(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function p5(n){switch(n){case $r:return["Linear","( value )"];case gt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function fC(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+h5(n.getShaderSource(e),o)}else return r}function m5(n,e){const t=p5(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function g5(n,e){let t;switch(e){case oL:t="Linear";break;case aL:t="Reinhard";break;case lL:t="OptimizedCineon";break;case oS:t="ACESFilmic";break;case cL:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function v5(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Nf).join(`
`)}function y5(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function x5(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Nf(n){return n!==""}function dC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function hC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _5=/^[ \t]*#include +<([\w\d./]+)>/gm;function v1(n){return n.replace(_5,A5)}function A5(n,e){const t=yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return v1(t)}const S5=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pC(n){return n.replace(S5,M5)}function M5(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function mC(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function E5(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===E0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Kf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Vr&&(e="SHADOWMAP_TYPE_VSM"),e}function w5(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case aa:case la:e="ENVMAP_TYPE_CUBE";break;case Ru:e="ENVMAP_TYPE_CUBE_UV";break}return e}function T5(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case la:e="ENVMAP_MODE_REFRACTION";break}return e}function C5(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Zd:e="ENVMAP_BLENDING_MULTIPLY";break;case rL:e="ENVMAP_BLENDING_MIX";break;case sL:e="ENVMAP_BLENDING_ADD";break}return e}function b5(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function R5(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=E5(t),u=w5(t),d=T5(t),h=C5(t),p=b5(t),m=t.isWebGL2?"":v5(t),y=y5(s),M=r.createProgram();let A,g,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=[y].filter(Nf).join(`
`),A.length>0&&(A+=`
`),g=[m,y].filter(Nf).join(`
`),g.length>0&&(g+=`
`)):(A=[mC(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Nf).join(`
`),g=[m,mC(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Qr?"#define TONE_MAPPING":"",t.toneMapping!==Qr?yt.tonemapping_pars_fragment:"",t.toneMapping!==Qr?g5("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yt.encodings_pars_fragment,m5("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Nf).join(`
`)),o=v1(o),o=dC(o,t),o=hC(o,t),a=v1(a),a=dC(a,t),a=hC(a,t),o=pC(o),a=pC(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,A=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,g=["#define varying in",t.glslVersion===p1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===p1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=x+A+o,E=x+g+a,T=uC(r,r.VERTEX_SHADER,S),R=uC(r,r.FRAGMENT_SHADER,E);if(r.attachShader(M,T),r.attachShader(M,R),t.index0AttributeName!==void 0?r.bindAttribLocation(M,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(M,0,"position"),r.linkProgram(M),n.debug.checkShaderErrors){const b=r.getProgramInfoLog(M).trim(),L=r.getShaderInfoLog(T).trim(),U=r.getShaderInfoLog(R).trim();let J=!0,G=!0;if(r.getProgramParameter(M,r.LINK_STATUS)===!1)if(J=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,M,T,R);else{const K=fC(r,T,"vertex"),j=fC(r,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(M,r.VALIDATE_STATUS)+`

Program Info Log: `+b+`
`+K+`
`+j)}else b!==""?console.warn("THREE.WebGLProgram: Program Info Log:",b):(L===""||U==="")&&(G=!1);G&&(this.diagnostics={runnable:J,programLog:b,vertexShader:{log:L,prefix:A},fragmentShader:{log:U,prefix:g}})}r.deleteShader(T),r.deleteShader(R);let P;this.getUniforms=function(){return P===void 0&&(P=new ug(r,M)),P};let B;return this.getAttributes=function(){return B===void 0&&(B=x5(r,M)),B},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(M),this.program=void 0},this.name=t.shaderName,this.id=d5++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=T,this.fragmentShader=R,this}let P5=0;class B5{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new L5(e),t.set(e,i)),i}}class L5{constructor(e){this.id=P5++,this.code=e,this.usedTimes=0}}function I5(n,e,t,i,r,s,o){const a=new hl,l=new B5,u=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(b){return b===1?"uv1":b===2?"uv2":b===3?"uv3":"uv"}function A(b,L,U,J,G){const K=J.fog,j=G.geometry,se=b.isMeshStandardMaterial?J.environment:null,te=(b.isMeshStandardMaterial?t:e).get(b.envMap||se),I=te&&te.mapping===Ru?te.image.height:null,H=y[b.type];b.precision!==null&&(m=r.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const z=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,$=z!==void 0?z.length:0;let Q=0;j.morphAttributes.position!==void 0&&(Q=1),j.morphAttributes.normal!==void 0&&(Q=2),j.morphAttributes.color!==void 0&&(Q=3);let ee,ie,we,xe;if(H){const Ot=Xr[H];ee=Ot.vertexShader,ie=Ot.fragmentShader}else ee=b.vertexShader,ie=b.fragmentShader,l.update(b),we=l.getVertexShaderID(b),xe=l.getFragmentShaderID(b);const V=n.getRenderTarget(),Xe=G.isInstancedMesh===!0,Ke=!!b.map,_e=!!b.matcap,Ee=!!te,ge=!!b.aoMap,ae=!!b.lightMap,Ae=!!b.bumpMap,Ne=!!b.normalMap,Le=!!b.displacementMap,We=!!b.emissiveMap,Qe=!!b.metalnessMap,je=!!b.roughnessMap,st=b.clearcoat>0,Mt=b.iridescence>0,k=b.sheen>0,D=b.transmission>0,le=st&&!!b.clearcoatMap,Te=st&&!!b.clearcoatNormalMap,Ce=st&&!!b.clearcoatRoughnessMap,Be=Mt&&!!b.iridescenceMap,nt=Mt&&!!b.iridescenceThicknessMap,ke=k&&!!b.sheenColorMap,pe=k&&!!b.sheenRoughnessMap,Ve=!!b.specularMap,W=!!b.specularColorMap,he=!!b.specularIntensityMap,Se=D&&!!b.transmissionMap,Re=D&&!!b.thicknessMap,et=!!b.gradientMap,dt=!!b.alphaMap,Vt=b.alphaTest>0,X=!!b.extensions,fe=!!j.attributes.uv1,Me=!!j.attributes.uv2,Ue=!!j.attributes.uv3;return{isWebGL2:d,shaderID:H,shaderName:b.type,vertexShader:ee,fragmentShader:ie,defines:b.defines,customVertexShaderID:we,customFragmentShaderID:xe,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,instancing:Xe,instancingColor:Xe&&G.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:V===null?n.outputColorSpace:V.isXRRenderTarget===!0?V.texture.colorSpace:$r,map:Ke,matcap:_e,envMap:Ee,envMapMode:Ee&&te.mapping,envMapCubeUVHeight:I,aoMap:ge,lightMap:ae,bumpMap:Ae,normalMap:Ne,displacementMap:p&&Le,emissiveMap:We,normalMapObjectSpace:Ne&&b.normalMapType===BL,normalMapTangentSpace:Ne&&b.normalMapType===xa,metalnessMap:Qe,roughnessMap:je,clearcoat:st,clearcoatMap:le,clearcoatNormalMap:Te,clearcoatRoughnessMap:Ce,iridescence:Mt,iridescenceMap:Be,iridescenceThicknessMap:nt,sheen:k,sheenColorMap:ke,sheenRoughnessMap:pe,specularMap:Ve,specularColorMap:W,specularIntensityMap:he,transmission:D,transmissionMap:Se,thicknessMap:Re,gradientMap:et,opaque:b.transparent===!1&&b.blending===ul,alphaMap:dt,alphaTest:Vt,combine:b.combine,mapUv:Ke&&M(b.map.channel),aoMapUv:ge&&M(b.aoMap.channel),lightMapUv:ae&&M(b.lightMap.channel),bumpMapUv:Ae&&M(b.bumpMap.channel),normalMapUv:Ne&&M(b.normalMap.channel),displacementMapUv:Le&&M(b.displacementMap.channel),emissiveMapUv:We&&M(b.emissiveMap.channel),metalnessMapUv:Qe&&M(b.metalnessMap.channel),roughnessMapUv:je&&M(b.roughnessMap.channel),clearcoatMapUv:le&&M(b.clearcoatMap.channel),clearcoatNormalMapUv:Te&&M(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ce&&M(b.clearcoatRoughnessMap.channel),iridescenceMapUv:Be&&M(b.iridescenceMap.channel),iridescenceThicknessMapUv:nt&&M(b.iridescenceThicknessMap.channel),sheenColorMapUv:ke&&M(b.sheenColorMap.channel),sheenRoughnessMapUv:pe&&M(b.sheenRoughnessMap.channel),specularMapUv:Ve&&M(b.specularMap.channel),specularColorMapUv:W&&M(b.specularColorMap.channel),specularIntensityMapUv:he&&M(b.specularIntensityMap.channel),transmissionMapUv:Se&&M(b.transmissionMap.channel),thicknessMapUv:Re&&M(b.thicknessMap.channel),alphaMapUv:dt&&M(b.alphaMap.channel),vertexTangents:Ne&&!!j.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,vertexUv1s:fe,vertexUv2s:Me,vertexUv3s:Ue,pointsUvs:G.isPoints===!0&&!!j.attributes.uv&&(Ke||dt),fog:!!K,useFog:b.fog===!0,fogExp2:K&&K.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:G.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:Q,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:Qr,useLegacyLights:n.useLegacyLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===wr,flipSided:b.side===Si,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:X&&b.extensions.derivatives===!0,extensionFragDepth:X&&b.extensions.fragDepth===!0,extensionDrawBuffers:X&&b.extensions.drawBuffers===!0,extensionShaderTextureLOD:X&&b.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function g(b){const L=[];if(b.shaderID?L.push(b.shaderID):(L.push(b.customVertexShaderID),L.push(b.customFragmentShaderID)),b.defines!==void 0)for(const U in b.defines)L.push(U),L.push(b.defines[U]);return b.isRawShaderMaterial===!1&&(x(L,b),S(L,b),L.push(n.outputColorSpace)),L.push(b.customProgramCacheKey),L.join()}function x(b,L){b.push(L.precision),b.push(L.outputColorSpace),b.push(L.envMapMode),b.push(L.envMapCubeUVHeight),b.push(L.mapUv),b.push(L.alphaMapUv),b.push(L.lightMapUv),b.push(L.aoMapUv),b.push(L.bumpMapUv),b.push(L.normalMapUv),b.push(L.displacementMapUv),b.push(L.emissiveMapUv),b.push(L.metalnessMapUv),b.push(L.roughnessMapUv),b.push(L.clearcoatMapUv),b.push(L.clearcoatNormalMapUv),b.push(L.clearcoatRoughnessMapUv),b.push(L.iridescenceMapUv),b.push(L.iridescenceThicknessMapUv),b.push(L.sheenColorMapUv),b.push(L.sheenRoughnessMapUv),b.push(L.specularMapUv),b.push(L.specularColorMapUv),b.push(L.specularIntensityMapUv),b.push(L.transmissionMapUv),b.push(L.thicknessMapUv),b.push(L.combine),b.push(L.fogExp2),b.push(L.sizeAttenuation),b.push(L.morphTargetsCount),b.push(L.morphAttributeCount),b.push(L.numDirLights),b.push(L.numPointLights),b.push(L.numSpotLights),b.push(L.numSpotLightMaps),b.push(L.numHemiLights),b.push(L.numRectAreaLights),b.push(L.numDirLightShadows),b.push(L.numPointLightShadows),b.push(L.numSpotLightShadows),b.push(L.numSpotLightShadowsWithMaps),b.push(L.shadowMapType),b.push(L.toneMapping),b.push(L.numClippingPlanes),b.push(L.numClipIntersection),b.push(L.depthPacking)}function S(b,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.matcap&&a.enable(4),L.envMap&&a.enable(5),L.normalMapObjectSpace&&a.enable(6),L.normalMapTangentSpace&&a.enable(7),L.clearcoat&&a.enable(8),L.iridescence&&a.enable(9),L.alphaTest&&a.enable(10),L.vertexColors&&a.enable(11),L.vertexAlphas&&a.enable(12),L.vertexUv1s&&a.enable(13),L.vertexUv2s&&a.enable(14),L.vertexUv3s&&a.enable(15),L.vertexTangents&&a.enable(16),b.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.useLegacyLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),b.push(a.mask)}function E(b){const L=y[b.type];let U;if(L){const J=Xr[L];U=UL.clone(J.uniforms)}else U=b.uniforms;return U}function T(b,L){let U;for(let J=0,G=u.length;J<G;J++){const K=u[J];if(K.cacheKey===L){U=K,++U.usedTimes;break}}return U===void 0&&(U=new R5(n,L,b,s),u.push(U)),U}function R(b){if(--b.usedTimes===0){const L=u.indexOf(b);u[L]=u[u.length-1],u.pop(),b.destroy()}}function P(b){l.remove(b)}function B(){l.dispose()}return{getParameters:A,getProgramCacheKey:g,getUniforms:E,acquireProgram:T,releaseProgram:R,releaseShaderCache:P,programs:u,dispose:B}}function D5(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function F5(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function gC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function vC(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,y,M,A){let g=n[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:M,group:A},n[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=h.renderOrder,g.z=M,g.group=A),e++,g}function a(h,p,m,y,M,A){const g=o(h,p,m,y,M,A);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(h,p,m,y,M,A){const g=o(h,p,m,y,M,A);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function u(h,p){t.length>1&&t.sort(h||F5),i.length>1&&i.sort(p||gC),r.length>1&&r.sort(p||gC)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:u}}function N5(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new vC,n.set(i,[o])):r>=s.length?(o=new vC,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function O5(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new De};break;case"SpotLight":t={position:new F,direction:new F,color:new De,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new De,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new De,groundColor:new De};break;case"RectAreaLight":t={color:new De,position:new F,halfWidth:new F,halfHeight:new F};break}return n[e.id]=t,t}}}function k5(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let U5=0;function z5(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function H5(n,e){const t=new O5,i=k5(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new F);const s=new F,o=new lt,a=new lt;function l(d,h){let p=0,m=0,y=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let M=0,A=0,g=0,x=0,S=0,E=0,T=0,R=0,P=0,B=0;d.sort(z5);const b=h===!0?Math.PI:1;for(let U=0,J=d.length;U<J;U++){const G=d[U],K=G.color,j=G.intensity,se=G.distance,te=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)p+=K.r*j*b,m+=K.g*j*b,y+=K.b*j*b;else if(G.isLightProbe)for(let I=0;I<9;I++)r.probe[I].addScaledVector(G.sh.coefficients[I],j);else if(G.isDirectionalLight){const I=t.get(G);if(I.color.copy(G.color).multiplyScalar(G.intensity*b),G.castShadow){const H=G.shadow,z=i.get(G);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,r.directionalShadow[M]=z,r.directionalShadowMap[M]=te,r.directionalShadowMatrix[M]=G.shadow.matrix,E++}r.directional[M]=I,M++}else if(G.isSpotLight){const I=t.get(G);I.position.setFromMatrixPosition(G.matrixWorld),I.color.copy(K).multiplyScalar(j*b),I.distance=se,I.coneCos=Math.cos(G.angle),I.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),I.decay=G.decay,r.spot[g]=I;const H=G.shadow;if(G.map&&(r.spotLightMap[P]=G.map,P++,H.updateMatrices(G),G.castShadow&&B++),r.spotLightMatrix[g]=H.matrix,G.castShadow){const z=i.get(G);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,r.spotShadow[g]=z,r.spotShadowMap[g]=te,R++}g++}else if(G.isRectAreaLight){const I=t.get(G);I.color.copy(K).multiplyScalar(j),I.halfWidth.set(G.width*.5,0,0),I.halfHeight.set(0,G.height*.5,0),r.rectArea[x]=I,x++}else if(G.isPointLight){const I=t.get(G);if(I.color.copy(G.color).multiplyScalar(G.intensity*b),I.distance=G.distance,I.decay=G.decay,G.castShadow){const H=G.shadow,z=i.get(G);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,z.shadowCameraNear=H.camera.near,z.shadowCameraFar=H.camera.far,r.pointShadow[A]=z,r.pointShadowMap[A]=te,r.pointShadowMatrix[A]=G.shadow.matrix,T++}r.point[A]=I,A++}else if(G.isHemisphereLight){const I=t.get(G);I.skyColor.copy(G.color).multiplyScalar(j*b),I.groundColor.copy(G.groundColor).multiplyScalar(j*b),r.hemi[S]=I,S++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ie.LTC_FLOAT_1,r.rectAreaLTC2=Ie.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ie.LTC_HALF_1,r.rectAreaLTC2=Ie.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const L=r.hash;(L.directionalLength!==M||L.pointLength!==A||L.spotLength!==g||L.rectAreaLength!==x||L.hemiLength!==S||L.numDirectionalShadows!==E||L.numPointShadows!==T||L.numSpotShadows!==R||L.numSpotMaps!==P)&&(r.directional.length=M,r.spot.length=g,r.rectArea.length=x,r.point.length=A,r.hemi.length=S,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=R,r.spotShadowMap.length=R,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=R+P-B,r.spotLightMap.length=P,r.numSpotLightShadowsWithMaps=B,L.directionalLength=M,L.pointLength=A,L.spotLength=g,L.rectAreaLength=x,L.hemiLength=S,L.numDirectionalShadows=E,L.numPointShadows=T,L.numSpotShadows=R,L.numSpotMaps=P,r.version=U5++)}function u(d,h){let p=0,m=0,y=0,M=0,A=0;const g=h.matrixWorldInverse;for(let x=0,S=d.length;x<S;x++){const E=d[x];if(E.isDirectionalLight){const T=r.directional[p];T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),p++}else if(E.isSpotLight){const T=r.spot[y];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),y++}else if(E.isRectAreaLight){const T=r.rectArea[M];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),a.identity(),o.copy(E.matrixWorld),o.premultiply(g),a.extractRotation(o),T.halfWidth.set(E.width*.5,0,0),T.halfHeight.set(0,E.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),M++}else if(E.isPointLight){const T=r.point[m];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),m++}else if(E.isHemisphereLight){const T=r.hemi[A];T.direction.setFromMatrixPosition(E.matrixWorld),T.direction.transformDirection(g),A++}}}return{setup:l,setupView:u,state:r}}function yC(n,e){const t=new H5(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function u(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function G5(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new yC(n,e),t.set(s,[l])):o>=a.length?(l=new yC(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class _S extends Pn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=RL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class AS extends Pn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const V5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,W5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function j5(n,e,t){let i=new R0;const r=new ye,s=new ye,o=new Ht,a=new _S({depthPacking:PL}),l=new AS,u={},d=t.maxTextureSize,h={[Ms]:Si,[Si]:Ms,[wr]:wr},p=new ws({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ye},radius:{value:4}},vertexShader:V5,fragmentShader:W5}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new mt;y.setAttribute("position",new Nt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new jn(y,p),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E0;let g=this.type;this.render=function(T,R,P){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||T.length===0)return;const B=n.getRenderTarget(),b=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),U=n.state;U.setBlending(Zs),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const J=g!==Vr&&this.type===Vr,G=g===Vr&&this.type!==Vr;for(let K=0,j=T.length;K<j;K++){const se=T[K],te=se.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;r.copy(te.mapSize);const I=te.getFrameExtents();if(r.multiply(I),s.copy(te.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/I.x),r.x=s.x*I.x,te.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/I.y),r.y=s.y*I.y,te.mapSize.y=s.y)),te.map===null||J===!0||G===!0){const z=this.type!==Vr?{minFilter:vn,magFilter:vn}:{};te.map!==null&&te.map.dispose(),te.map=new es(r.x,r.y,z),te.map.texture.name=se.name+".shadowMap",te.camera.updateProjectionMatrix()}n.setRenderTarget(te.map),n.clear();const H=te.getViewportCount();for(let z=0;z<H;z++){const $=te.getViewport(z);o.set(s.x*$.x,s.y*$.y,s.x*$.z,s.y*$.w),U.viewport(o),te.updateMatrices(se,z),i=te.getFrustum(),E(R,P,te.camera,se,this.type)}te.isPointLightShadow!==!0&&this.type===Vr&&x(te,P),te.needsUpdate=!1}g=this.type,A.needsUpdate=!1,n.setRenderTarget(B,b,L)};function x(T,R){const P=e.update(M);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new es(r.x,r.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(R,null,P,p,M,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(R,null,P,m,M,null)}function S(T,R,P,B){let b=null;const L=P.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(L!==void 0)b=L;else if(b=P.isPointLight===!0?l:a,n.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const U=b.uuid,J=R.uuid;let G=u[U];G===void 0&&(G={},u[U]=G);let K=G[J];K===void 0&&(K=b.clone(),G[J]=K),b=K}if(b.visible=R.visible,b.wireframe=R.wireframe,B===Vr?b.side=R.shadowSide!==null?R.shadowSide:R.side:b.side=R.shadowSide!==null?R.shadowSide:h[R.side],b.alphaMap=R.alphaMap,b.alphaTest=R.alphaTest,b.map=R.map,b.clipShadows=R.clipShadows,b.clippingPlanes=R.clippingPlanes,b.clipIntersection=R.clipIntersection,b.displacementMap=R.displacementMap,b.displacementScale=R.displacementScale,b.displacementBias=R.displacementBias,b.wireframeLinewidth=R.wireframeLinewidth,b.linewidth=R.linewidth,P.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const U=n.properties.get(b);U.light=P}return b}function E(T,R,P,B,b){if(T.visible===!1)return;if(T.layers.test(R.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&b===Vr)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,T.matrixWorld);const J=e.update(T),G=T.material;if(Array.isArray(G)){const K=J.groups;for(let j=0,se=K.length;j<se;j++){const te=K[j],I=G[te.materialIndex];if(I&&I.visible){const H=S(T,I,B,b);n.renderBufferDirect(P,null,J,H,T,te)}}}else if(G.visible){const K=S(T,G,B,b);n.renderBufferDirect(P,null,J,K,T,null)}}const U=T.children;for(let J=0,G=U.length;J<G;J++)E(U[J],R,P,B,b)}}function X5(n,e,t){const i=t.isWebGL2;function r(){let X=!1;const fe=new Ht;let Me=null;const Ue=new Ht(0,0,0,0);return{setMask:function(Ze){Me!==Ze&&!X&&(n.colorMask(Ze,Ze,Ze,Ze),Me=Ze)},setLocked:function(Ze){X=Ze},setClear:function(Ze,Ot,kt,kn,Br){Br===!0&&(Ze*=kn,Ot*=kn,kt*=kn),fe.set(Ze,Ot,kt,kn),Ue.equals(fe)===!1&&(n.clearColor(Ze,Ot,kt,kn),Ue.copy(fe))},reset:function(){X=!1,Me=null,Ue.set(-1,0,0,0)}}}function s(){let X=!1,fe=null,Me=null,Ue=null;return{setTest:function(Ze){Ze?V(n.DEPTH_TEST):Xe(n.DEPTH_TEST)},setMask:function(Ze){fe!==Ze&&!X&&(n.depthMask(Ze),fe=Ze)},setFunc:function(Ze){if(Me!==Ze){switch(Ze){case ZB:n.depthFunc(n.NEVER);break;case qB:n.depthFunc(n.ALWAYS);break;case $B:n.depthFunc(n.LESS);break;case Ug:n.depthFunc(n.LEQUAL);break;case eL:n.depthFunc(n.EQUAL);break;case tL:n.depthFunc(n.GEQUAL);break;case nL:n.depthFunc(n.GREATER);break;case iL:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Me=Ze}},setLocked:function(Ze){X=Ze},setClear:function(Ze){Ue!==Ze&&(n.clearDepth(Ze),Ue=Ze)},reset:function(){X=!1,fe=null,Me=null,Ue=null}}}function o(){let X=!1,fe=null,Me=null,Ue=null,Ze=null,Ot=null,kt=null,kn=null,Br=null;return{setTest:function(en){X||(en?V(n.STENCIL_TEST):Xe(n.STENCIL_TEST))},setMask:function(en){fe!==en&&!X&&(n.stencilMask(en),fe=en)},setFunc:function(en,pi,ar){(Me!==en||Ue!==pi||Ze!==ar)&&(n.stencilFunc(en,pi,ar),Me=en,Ue=pi,Ze=ar)},setOp:function(en,pi,ar){(Ot!==en||kt!==pi||kn!==ar)&&(n.stencilOp(en,pi,ar),Ot=en,kt=pi,kn=ar)},setLocked:function(en){X=en},setClear:function(en){Br!==en&&(n.clearStencil(en),Br=en)},reset:function(){X=!1,fe=null,Me=null,Ue=null,Ze=null,Ot=null,kt=null,kn=null,Br=null}}}const a=new r,l=new s,u=new o,d=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,M=[],A=null,g=!1,x=null,S=null,E=null,T=null,R=null,P=null,B=null,b=!1,L=null,U=null,J=null,G=null,K=null;const j=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let se=!1,te=0;const I=n.getParameter(n.VERSION);I.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(I)[1]),se=te>=1):I.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),se=te>=2);let H=null,z={};const $=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),ee=new Ht().fromArray($),ie=new Ht().fromArray(Q);function we(X,fe,Me,Ue){const Ze=new Uint8Array(4),Ot=n.createTexture();n.bindTexture(X,Ot),n.texParameteri(X,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(X,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let kt=0;kt<Me;kt++)i&&(X===n.TEXTURE_3D||X===n.TEXTURE_2D_ARRAY)?n.texImage3D(fe,0,n.RGBA,1,1,Ue,0,n.RGBA,n.UNSIGNED_BYTE,Ze):n.texImage2D(fe+kt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ze);return Ot}const xe={};xe[n.TEXTURE_2D]=we(n.TEXTURE_2D,n.TEXTURE_2D,1),xe[n.TEXTURE_CUBE_MAP]=we(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(xe[n.TEXTURE_2D_ARRAY]=we(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),xe[n.TEXTURE_3D]=we(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),V(n.DEPTH_TEST),l.setFunc(Ug),Le(!1),We(U_),V(n.CULL_FACE),Ae(Zs);function V(X){p[X]!==!0&&(n.enable(X),p[X]=!0)}function Xe(X){p[X]!==!1&&(n.disable(X),p[X]=!1)}function Ke(X,fe){return m[X]!==fe?(n.bindFramebuffer(X,fe),m[X]=fe,i&&(X===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=fe),X===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=fe)),!0):!1}function _e(X,fe){let Me=M,Ue=!1;if(X)if(Me=y.get(fe),Me===void 0&&(Me=[],y.set(fe,Me)),X.isWebGLMultipleRenderTargets){const Ze=X.texture;if(Me.length!==Ze.length||Me[0]!==n.COLOR_ATTACHMENT0){for(let Ot=0,kt=Ze.length;Ot<kt;Ot++)Me[Ot]=n.COLOR_ATTACHMENT0+Ot;Me.length=Ze.length,Ue=!0}}else Me[0]!==n.COLOR_ATTACHMENT0&&(Me[0]=n.COLOR_ATTACHMENT0,Ue=!0);else Me[0]!==n.BACK&&(Me[0]=n.BACK,Ue=!0);Ue&&(t.isWebGL2?n.drawBuffers(Me):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Me))}function Ee(X){return A!==X?(n.useProgram(X),A=X,!0):!1}const ge={[Ya]:n.FUNC_ADD,[zB]:n.FUNC_SUBTRACT,[HB]:n.FUNC_REVERSE_SUBTRACT};if(i)ge[V_]=n.MIN,ge[W_]=n.MAX;else{const X=e.get("EXT_blend_minmax");X!==null&&(ge[V_]=X.MIN_EXT,ge[W_]=X.MAX_EXT)}const ae={[GB]:n.ZERO,[VB]:n.ONE,[WB]:n.SRC_COLOR,[rS]:n.SRC_ALPHA,[QB]:n.SRC_ALPHA_SATURATE,[KB]:n.DST_COLOR,[XB]:n.DST_ALPHA,[jB]:n.ONE_MINUS_SRC_COLOR,[sS]:n.ONE_MINUS_SRC_ALPHA,[YB]:n.ONE_MINUS_DST_COLOR,[JB]:n.ONE_MINUS_DST_ALPHA};function Ae(X,fe,Me,Ue,Ze,Ot,kt,kn){if(X===Zs){g===!0&&(Xe(n.BLEND),g=!1);return}if(g===!1&&(V(n.BLEND),g=!0),X!==UB){if(X!==x||kn!==b){if((S!==Ya||R!==Ya)&&(n.blendEquation(n.FUNC_ADD),S=Ya,R=Ya),kn)switch(X){case ul:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case z_:n.blendFunc(n.ONE,n.ONE);break;case H_:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case G_:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}else switch(X){case ul:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case z_:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case H_:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case G_:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",X);break}E=null,T=null,P=null,B=null,x=X,b=kn}return}Ze=Ze||fe,Ot=Ot||Me,kt=kt||Ue,(fe!==S||Ze!==R)&&(n.blendEquationSeparate(ge[fe],ge[Ze]),S=fe,R=Ze),(Me!==E||Ue!==T||Ot!==P||kt!==B)&&(n.blendFuncSeparate(ae[Me],ae[Ue],ae[Ot],ae[kt]),E=Me,T=Ue,P=Ot,B=kt),x=X,b=!1}function Ne(X,fe){X.side===wr?Xe(n.CULL_FACE):V(n.CULL_FACE);let Me=X.side===Si;fe&&(Me=!Me),Le(Me),X.blending===ul&&X.transparent===!1?Ae(Zs):Ae(X.blending,X.blendEquation,X.blendSrc,X.blendDst,X.blendEquationAlpha,X.blendSrcAlpha,X.blendDstAlpha,X.premultipliedAlpha),l.setFunc(X.depthFunc),l.setTest(X.depthTest),l.setMask(X.depthWrite),a.setMask(X.colorWrite);const Ue=X.stencilWrite;u.setTest(Ue),Ue&&(u.setMask(X.stencilWriteMask),u.setFunc(X.stencilFunc,X.stencilRef,X.stencilFuncMask),u.setOp(X.stencilFail,X.stencilZFail,X.stencilZPass)),je(X.polygonOffset,X.polygonOffsetFactor,X.polygonOffsetUnits),X.alphaToCoverage===!0?V(n.SAMPLE_ALPHA_TO_COVERAGE):Xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Le(X){L!==X&&(X?n.frontFace(n.CW):n.frontFace(n.CCW),L=X)}function We(X){X!==NB?(V(n.CULL_FACE),X!==U&&(X===U_?n.cullFace(n.BACK):X===OB?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Xe(n.CULL_FACE),U=X}function Qe(X){X!==J&&(se&&n.lineWidth(X),J=X)}function je(X,fe,Me){X?(V(n.POLYGON_OFFSET_FILL),(G!==fe||K!==Me)&&(n.polygonOffset(fe,Me),G=fe,K=Me)):Xe(n.POLYGON_OFFSET_FILL)}function st(X){X?V(n.SCISSOR_TEST):Xe(n.SCISSOR_TEST)}function Mt(X){X===void 0&&(X=n.TEXTURE0+j-1),H!==X&&(n.activeTexture(X),H=X)}function k(X,fe,Me){Me===void 0&&(H===null?Me=n.TEXTURE0+j-1:Me=H);let Ue=z[Me];Ue===void 0&&(Ue={type:void 0,texture:void 0},z[Me]=Ue),(Ue.type!==X||Ue.texture!==fe)&&(H!==Me&&(n.activeTexture(Me),H=Me),n.bindTexture(X,fe||xe[X]),Ue.type=X,Ue.texture=fe)}function D(){const X=z[H];X!==void 0&&X.type!==void 0&&(n.bindTexture(X.type,null),X.type=void 0,X.texture=void 0)}function le(){try{n.compressedTexImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Te(){try{n.compressedTexImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Be(){try{n.texSubImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function nt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function ke(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function pe(){try{n.texStorage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Ve(){try{n.texStorage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function W(){try{n.texImage2D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function he(){try{n.texImage3D.apply(n,arguments)}catch(X){console.error("THREE.WebGLState:",X)}}function Se(X){ee.equals(X)===!1&&(n.scissor(X.x,X.y,X.z,X.w),ee.copy(X))}function Re(X){ie.equals(X)===!1&&(n.viewport(X.x,X.y,X.z,X.w),ie.copy(X))}function et(X,fe){let Me=h.get(fe);Me===void 0&&(Me=new WeakMap,h.set(fe,Me));let Ue=Me.get(X);Ue===void 0&&(Ue=n.getUniformBlockIndex(fe,X.name),Me.set(X,Ue))}function dt(X,fe){const Ue=h.get(fe).get(X);d.get(fe)!==Ue&&(n.uniformBlockBinding(fe,Ue,X.__bindingPointIndex),d.set(fe,Ue))}function Vt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},H=null,z={},m={},y=new WeakMap,M=[],A=null,g=!1,x=null,S=null,E=null,T=null,R=null,P=null,B=null,b=!1,L=null,U=null,J=null,G=null,K=null,ee.set(0,0,n.canvas.width,n.canvas.height),ie.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:V,disable:Xe,bindFramebuffer:Ke,drawBuffers:_e,useProgram:Ee,setBlending:Ae,setMaterial:Ne,setFlipSided:Le,setCullFace:We,setLineWidth:Qe,setPolygonOffset:je,setScissorTest:st,activeTexture:Mt,bindTexture:k,unbindTexture:D,compressedTexImage2D:le,compressedTexImage3D:Te,texImage2D:W,texImage3D:he,updateUBOMapping:et,uniformBlockBinding:dt,texStorage2D:pe,texStorage3D:Ve,texSubImage2D:Ce,texSubImage3D:Be,compressedTexSubImage2D:nt,compressedTexSubImage3D:ke,scissor:Se,viewport:Re,reset:Vt}}function J5(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let M;const A=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(k,D){return g?new OffscreenCanvas(k,D):Pd("canvas")}function S(k,D,le,Te){let Ce=1;if((k.width>Te||k.height>Te)&&(Ce=Te/Math.max(k.width,k.height)),Ce<1||D===!0)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap){const Be=D?DL:Math.floor,nt=Be(Ce*k.width),ke=Be(Ce*k.height);M===void 0&&(M=x(nt,ke));const pe=le?x(nt,ke):M;return pe.width=nt,pe.height=ke,pe.getContext("2d").drawImage(k,0,0,nt,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+k.width+"x"+k.height+") to ("+nt+"x"+ke+")."),pe}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+k.width+"x"+k.height+")."),k;return k}function E(k){return m1(k.width)&&m1(k.height)}function T(k){return a?!1:k.wrapS!==qn||k.wrapT!==qn||k.minFilter!==vn&&k.minFilter!==ln}function R(k,D){return k.generateMipmaps&&D&&k.minFilter!==vn&&k.minFilter!==ln}function P(k){n.generateMipmap(k)}function B(k,D,le,Te,Ce=!1){if(a===!1)return D;if(k!==null){if(n[k]!==void 0)return n[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let Be=D;return D===n.RED&&(le===n.FLOAT&&(Be=n.R32F),le===n.HALF_FLOAT&&(Be=n.R16F),le===n.UNSIGNED_BYTE&&(Be=n.R8)),D===n.RG&&(le===n.FLOAT&&(Be=n.RG32F),le===n.HALF_FLOAT&&(Be=n.RG16F),le===n.UNSIGNED_BYTE&&(Be=n.RG8)),D===n.RGBA&&(le===n.FLOAT&&(Be=n.RGBA32F),le===n.HALF_FLOAT&&(Be=n.RGBA16F),le===n.UNSIGNED_BYTE&&(Be=Te===gt&&Ce===!1?n.SRGB8_ALPHA8:n.RGBA8),le===n.UNSIGNED_SHORT_4_4_4_4&&(Be=n.RGBA4),le===n.UNSIGNED_SHORT_5_5_5_1&&(Be=n.RGB5_A1)),(Be===n.R16F||Be===n.R32F||Be===n.RG16F||Be===n.RG32F||Be===n.RGBA16F||Be===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Be}function b(k,D,le){return R(k,le)===!0||k.isFramebufferTexture&&k.minFilter!==vn&&k.minFilter!==ln?Math.log2(Math.max(D.width,D.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?D.mipmaps.length:1}function L(k){return k===vn||k===Cd||k===qc?n.NEAREST:n.LINEAR}function U(k){const D=k.target;D.removeEventListener("dispose",U),G(D),D.isVideoTexture&&y.delete(D)}function J(k){const D=k.target;D.removeEventListener("dispose",J),j(D)}function G(k){const D=i.get(k);if(D.__webglInit===void 0)return;const le=k.source,Te=A.get(le);if(Te){const Ce=Te[D.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&K(k),Object.keys(Te).length===0&&A.delete(le)}i.remove(k)}function K(k){const D=i.get(k);n.deleteTexture(D.__webglTexture);const le=k.source,Te=A.get(le);delete Te[D.__cacheKey],o.memory.textures--}function j(k){const D=k.texture,le=i.get(k),Te=i.get(D);if(Te.__webglTexture!==void 0&&(n.deleteTexture(Te.__webglTexture),o.memory.textures--),k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)n.deleteFramebuffer(le.__webglFramebuffer[Ce]),le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer[Ce]);else{if(n.deleteFramebuffer(le.__webglFramebuffer),le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&n.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let Ce=0;Ce<le.__webglColorRenderbuffer.length;Ce++)le.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(le.__webglColorRenderbuffer[Ce]);le.__webglDepthRenderbuffer&&n.deleteRenderbuffer(le.__webglDepthRenderbuffer)}if(k.isWebGLMultipleRenderTargets)for(let Ce=0,Be=D.length;Ce<Be;Ce++){const nt=i.get(D[Ce]);nt.__webglTexture&&(n.deleteTexture(nt.__webglTexture),o.memory.textures--),i.remove(D[Ce])}i.remove(D),i.remove(k)}let se=0;function te(){se=0}function I(){const k=se;return k>=l&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+l),se+=1,k}function H(k){const D=[];return D.push(k.wrapS),D.push(k.wrapT),D.push(k.wrapR||0),D.push(k.magFilter),D.push(k.minFilter),D.push(k.anisotropy),D.push(k.internalFormat),D.push(k.format),D.push(k.type),D.push(k.generateMipmaps),D.push(k.premultiplyAlpha),D.push(k.flipY),D.push(k.unpackAlignment),D.push(k.colorSpace),D.join()}function z(k,D){const le=i.get(k);if(k.isVideoTexture&&st(k),k.isRenderTargetTexture===!1&&k.version>0&&le.__version!==k.version){const Te=k.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Xe(le,k,D);return}}t.bindTexture(n.TEXTURE_2D,le.__webglTexture,n.TEXTURE0+D)}function $(k,D){const le=i.get(k);if(k.version>0&&le.__version!==k.version){Xe(le,k,D);return}t.bindTexture(n.TEXTURE_2D_ARRAY,le.__webglTexture,n.TEXTURE0+D)}function Q(k,D){const le=i.get(k);if(k.version>0&&le.__version!==k.version){Xe(le,k,D);return}t.bindTexture(n.TEXTURE_3D,le.__webglTexture,n.TEXTURE0+D)}function ee(k,D){const le=i.get(k);if(k.version>0&&le.__version!==k.version){Ke(le,k,D);return}t.bindTexture(n.TEXTURE_CUBE_MAP,le.__webglTexture,n.TEXTURE0+D)}const ie={[ca]:n.REPEAT,[qn]:n.CLAMP_TO_EDGE,[fu]:n.MIRRORED_REPEAT},we={[vn]:n.NEAREST,[Cd]:n.NEAREST_MIPMAP_NEAREST,[qc]:n.NEAREST_MIPMAP_LINEAR,[ln]:n.LINEAR,[T0]:n.LINEAR_MIPMAP_NEAREST,[Es]:n.LINEAR_MIPMAP_LINEAR};function xe(k,D,le){if(le?(n.texParameteri(k,n.TEXTURE_WRAP_S,ie[D.wrapS]),n.texParameteri(k,n.TEXTURE_WRAP_T,ie[D.wrapT]),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,ie[D.wrapR]),n.texParameteri(k,n.TEXTURE_MAG_FILTER,we[D.magFilter]),n.texParameteri(k,n.TEXTURE_MIN_FILTER,we[D.minFilter])):(n.texParameteri(k,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(k,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(D.wrapS!==qn||D.wrapT!==qn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(k,n.TEXTURE_MAG_FILTER,L(D.magFilter)),n.texParameteri(k,n.TEXTURE_MIN_FILTER,L(D.minFilter)),D.minFilter!==vn&&D.minFilter!==ln&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Te=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===vn||D.minFilter!==qc&&D.minFilter!==Es||D.type===Js&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===du&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||i.get(D).__currentAnisotropy)&&(n.texParameterf(k,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),i.get(D).__currentAnisotropy=D.anisotropy)}}function V(k,D){let le=!1;k.__webglInit===void 0&&(k.__webglInit=!0,D.addEventListener("dispose",U));const Te=D.source;let Ce=A.get(Te);Ce===void 0&&(Ce={},A.set(Te,Ce));const Be=H(D);if(Be!==k.__cacheKey){Ce[Be]===void 0&&(Ce[Be]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,le=!0),Ce[Be].usedTimes++;const nt=Ce[k.__cacheKey];nt!==void 0&&(Ce[k.__cacheKey].usedTimes--,nt.usedTimes===0&&K(D)),k.__cacheKey=Be,k.__webglTexture=Ce[Be].texture}return le}function Xe(k,D,le){let Te=n.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(Te=n.TEXTURE_2D_ARRAY),D.isData3DTexture&&(Te=n.TEXTURE_3D);const Ce=V(k,D),Be=D.source;t.bindTexture(Te,k.__webglTexture,n.TEXTURE0+le);const nt=i.get(Be);if(Be.version!==nt.__version||Ce===!0){t.activeTexture(n.TEXTURE0+le),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const ke=T(D)&&E(D.image)===!1;let pe=S(D.image,ke,!1,d);pe=Mt(D,pe);const Ve=E(pe)||a,W=s.convert(D.format,D.colorSpace);let he=s.convert(D.type),Se=B(D.internalFormat,W,he,D.colorSpace);xe(Te,D,Ve);let Re;const et=D.mipmaps,dt=a&&D.isVideoTexture!==!0,Vt=nt.__version===void 0||Ce===!0,X=b(D,pe,Ve);if(D.isDepthTexture)Se=n.DEPTH_COMPONENT,a?D.type===Js?Se=n.DEPTH_COMPONENT32F:D.type===Wo?Se=n.DEPTH_COMPONENT24:D.type===fl?Se=n.DEPTH24_STENCIL8:Se=n.DEPTH_COMPONENT16:D.type===Js&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===ta&&Se===n.DEPTH_COMPONENT&&D.type!==aS&&D.type!==Wo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Wo,he=s.convert(D.type)),D.format===_l&&Se===n.DEPTH_COMPONENT&&(Se=n.DEPTH_STENCIL,D.type!==fl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=fl,he=s.convert(D.type))),Vt&&(dt?t.texStorage2D(n.TEXTURE_2D,1,Se,pe.width,pe.height):t.texImage2D(n.TEXTURE_2D,0,Se,pe.width,pe.height,0,W,he,null));else if(D.isDataTexture)if(et.length>0&&Ve){dt&&Vt&&t.texStorage2D(n.TEXTURE_2D,X,Se,et[0].width,et[0].height);for(let fe=0,Me=et.length;fe<Me;fe++)Re=et[fe],dt?t.texSubImage2D(n.TEXTURE_2D,fe,0,0,Re.width,Re.height,W,he,Re.data):t.texImage2D(n.TEXTURE_2D,fe,Se,Re.width,Re.height,0,W,he,Re.data);D.generateMipmaps=!1}else dt?(Vt&&t.texStorage2D(n.TEXTURE_2D,X,Se,pe.width,pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,pe.width,pe.height,W,he,pe.data)):t.texImage2D(n.TEXTURE_2D,0,Se,pe.width,pe.height,0,W,he,pe.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){dt&&Vt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,X,Se,et[0].width,et[0].height,pe.depth);for(let fe=0,Me=et.length;fe<Me;fe++)Re=et[fe],D.format!==Ii?W!==null?dt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,fe,0,0,0,Re.width,Re.height,pe.depth,W,Re.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,fe,Se,Re.width,Re.height,pe.depth,0,Re.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):dt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,fe,0,0,0,Re.width,Re.height,pe.depth,W,he,Re.data):t.texImage3D(n.TEXTURE_2D_ARRAY,fe,Se,Re.width,Re.height,pe.depth,0,W,he,Re.data)}else{dt&&Vt&&t.texStorage2D(n.TEXTURE_2D,X,Se,et[0].width,et[0].height);for(let fe=0,Me=et.length;fe<Me;fe++)Re=et[fe],D.format!==Ii?W!==null?dt?t.compressedTexSubImage2D(n.TEXTURE_2D,fe,0,0,Re.width,Re.height,W,Re.data):t.compressedTexImage2D(n.TEXTURE_2D,fe,Se,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):dt?t.texSubImage2D(n.TEXTURE_2D,fe,0,0,Re.width,Re.height,W,he,Re.data):t.texImage2D(n.TEXTURE_2D,fe,Se,Re.width,Re.height,0,W,he,Re.data)}else if(D.isDataArrayTexture)dt?(Vt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,X,Se,pe.width,pe.height,pe.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,pe.width,pe.height,pe.depth,W,he,pe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Se,pe.width,pe.height,pe.depth,0,W,he,pe.data);else if(D.isData3DTexture)dt?(Vt&&t.texStorage3D(n.TEXTURE_3D,X,Se,pe.width,pe.height,pe.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,pe.width,pe.height,pe.depth,W,he,pe.data)):t.texImage3D(n.TEXTURE_3D,0,Se,pe.width,pe.height,pe.depth,0,W,he,pe.data);else if(D.isFramebufferTexture){if(Vt)if(dt)t.texStorage2D(n.TEXTURE_2D,X,Se,pe.width,pe.height);else{let fe=pe.width,Me=pe.height;for(let Ue=0;Ue<X;Ue++)t.texImage2D(n.TEXTURE_2D,Ue,Se,fe,Me,0,W,he,null),fe>>=1,Me>>=1}}else if(et.length>0&&Ve){dt&&Vt&&t.texStorage2D(n.TEXTURE_2D,X,Se,et[0].width,et[0].height);for(let fe=0,Me=et.length;fe<Me;fe++)Re=et[fe],dt?t.texSubImage2D(n.TEXTURE_2D,fe,0,0,W,he,Re):t.texImage2D(n.TEXTURE_2D,fe,Se,W,he,Re);D.generateMipmaps=!1}else dt?(Vt&&t.texStorage2D(n.TEXTURE_2D,X,Se,pe.width,pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,W,he,pe)):t.texImage2D(n.TEXTURE_2D,0,Se,W,he,pe);R(D,Ve)&&P(Te),nt.__version=Be.version,D.onUpdate&&D.onUpdate(D)}k.__version=D.version}function Ke(k,D,le){if(D.image.length!==6)return;const Te=V(k,D),Ce=D.source;t.bindTexture(n.TEXTURE_CUBE_MAP,k.__webglTexture,n.TEXTURE0+le);const Be=i.get(Ce);if(Ce.version!==Be.__version||Te===!0){t.activeTexture(n.TEXTURE0+le),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const nt=D.isCompressedTexture||D.image[0].isCompressedTexture,ke=D.image[0]&&D.image[0].isDataTexture,pe=[];for(let fe=0;fe<6;fe++)!nt&&!ke?pe[fe]=S(D.image[fe],!1,!0,u):pe[fe]=ke?D.image[fe].image:D.image[fe],pe[fe]=Mt(D,pe[fe]);const Ve=pe[0],W=E(Ve)||a,he=s.convert(D.format,D.colorSpace),Se=s.convert(D.type),Re=B(D.internalFormat,he,Se,D.colorSpace),et=a&&D.isVideoTexture!==!0,dt=Be.__version===void 0||Te===!0;let Vt=b(D,Ve,W);xe(n.TEXTURE_CUBE_MAP,D,W);let X;if(nt){et&&dt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Vt,Re,Ve.width,Ve.height);for(let fe=0;fe<6;fe++){X=pe[fe].mipmaps;for(let Me=0;Me<X.length;Me++){const Ue=X[Me];D.format!==Ii?he!==null?et?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Me,0,0,Ue.width,Ue.height,he,Ue.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Me,Re,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):et?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Me,0,0,Ue.width,Ue.height,he,Se,Ue.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Me,Re,Ue.width,Ue.height,0,he,Se,Ue.data)}}}else{X=D.mipmaps,et&&dt&&(X.length>0&&Vt++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Vt,Re,pe[0].width,pe[0].height));for(let fe=0;fe<6;fe++)if(ke){et?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0,0,0,pe[fe].width,pe[fe].height,he,Se,pe[fe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0,Re,pe[fe].width,pe[fe].height,0,he,Se,pe[fe].data);for(let Me=0;Me<X.length;Me++){const Ze=X[Me].image[fe].image;et?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Me+1,0,0,Ze.width,Ze.height,he,Se,Ze.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Me+1,Re,Ze.width,Ze.height,0,he,Se,Ze.data)}}else{et?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0,0,0,he,Se,pe[fe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0,Re,he,Se,pe[fe]);for(let Me=0;Me<X.length;Me++){const Ue=X[Me];et?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Me+1,0,0,he,Se,Ue.image[fe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Me+1,Re,he,Se,Ue.image[fe])}}}R(D,W)&&P(n.TEXTURE_CUBE_MAP),Be.__version=Ce.version,D.onUpdate&&D.onUpdate(D)}k.__version=D.version}function _e(k,D,le,Te,Ce){const Be=s.convert(le.format,le.colorSpace),nt=s.convert(le.type),ke=B(le.internalFormat,Be,nt,le.colorSpace);i.get(D).__hasExternalTextures||(Ce===n.TEXTURE_3D||Ce===n.TEXTURE_2D_ARRAY?t.texImage3D(Ce,0,ke,D.width,D.height,D.depth,0,Be,nt,null):t.texImage2D(Ce,0,ke,D.width,D.height,0,Be,nt,null)),t.bindFramebuffer(n.FRAMEBUFFER,k),je(D)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Te,Ce,i.get(le).__webglTexture,0,Qe(D)):(Ce===n.TEXTURE_2D||Ce>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ce<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Te,Ce,i.get(le).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee(k,D,le){if(n.bindRenderbuffer(n.RENDERBUFFER,k),D.depthBuffer&&!D.stencilBuffer){let Te=n.DEPTH_COMPONENT16;if(le||je(D)){const Ce=D.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===Js?Te=n.DEPTH_COMPONENT32F:Ce.type===Wo&&(Te=n.DEPTH_COMPONENT24));const Be=Qe(D);je(D)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Be,Te,D.width,D.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Be,Te,D.width,D.height)}else n.renderbufferStorage(n.RENDERBUFFER,Te,D.width,D.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,k)}else if(D.depthBuffer&&D.stencilBuffer){const Te=Qe(D);le&&je(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Te,n.DEPTH24_STENCIL8,D.width,D.height):je(D)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Te,n.DEPTH24_STENCIL8,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,D.width,D.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,k)}else{const Te=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let Ce=0;Ce<Te.length;Ce++){const Be=Te[Ce],nt=s.convert(Be.format,Be.colorSpace),ke=s.convert(Be.type),pe=B(Be.internalFormat,nt,ke,Be.colorSpace),Ve=Qe(D);le&&je(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ve,pe,D.width,D.height):je(D)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ve,pe,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,pe,D.width,D.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ge(k,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,k),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),z(D.depthTexture,0);const Te=i.get(D.depthTexture).__webglTexture,Ce=Qe(D);if(D.depthTexture.format===ta)je(D)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Te,0,Ce):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Te,0);else if(D.depthTexture.format===_l)je(D)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Te,0,Ce):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Te,0);else throw new Error("Unknown depthTexture format")}function ae(k){const D=i.get(k),le=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture&&!D.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");ge(D.__webglFramebuffer,k)}else if(le){D.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer[Te]),D.__webglDepthbuffer[Te]=n.createRenderbuffer(),Ee(D.__webglDepthbuffer[Te],k,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),Ee(D.__webglDepthbuffer,k,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ae(k,D,le){const Te=i.get(k);D!==void 0&&_e(Te.__webglFramebuffer,k,k.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),le!==void 0&&ae(k)}function Ne(k){const D=k.texture,le=i.get(k),Te=i.get(D);k.addEventListener("dispose",J),k.isWebGLMultipleRenderTargets!==!0&&(Te.__webglTexture===void 0&&(Te.__webglTexture=n.createTexture()),Te.__version=D.version,o.memory.textures++);const Ce=k.isWebGLCubeRenderTarget===!0,Be=k.isWebGLMultipleRenderTargets===!0,nt=E(k)||a;if(Ce){le.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)le.__webglFramebuffer[ke]=n.createFramebuffer()}else{if(le.__webglFramebuffer=n.createFramebuffer(),Be)if(r.drawBuffers){const ke=k.texture;for(let pe=0,Ve=ke.length;pe<Ve;pe++){const W=i.get(ke[pe]);W.__webglTexture===void 0&&(W.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&k.samples>0&&je(k)===!1){const ke=Be?D:[D];le.__webglMultisampledFramebuffer=n.createFramebuffer(),le.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,le.__webglMultisampledFramebuffer);for(let pe=0;pe<ke.length;pe++){const Ve=ke[pe];le.__webglColorRenderbuffer[pe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,le.__webglColorRenderbuffer[pe]);const W=s.convert(Ve.format,Ve.colorSpace),he=s.convert(Ve.type),Se=B(Ve.internalFormat,W,he,Ve.colorSpace,k.isXRRenderTarget===!0),Re=Qe(k);n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,Se,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pe,n.RENDERBUFFER,le.__webglColorRenderbuffer[pe])}n.bindRenderbuffer(n.RENDERBUFFER,null),k.depthBuffer&&(le.__webglDepthRenderbuffer=n.createRenderbuffer(),Ee(le.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ce){t.bindTexture(n.TEXTURE_CUBE_MAP,Te.__webglTexture),xe(n.TEXTURE_CUBE_MAP,D,nt);for(let ke=0;ke<6;ke++)_e(le.__webglFramebuffer[ke],k,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ke);R(D,nt)&&P(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Be){const ke=k.texture;for(let pe=0,Ve=ke.length;pe<Ve;pe++){const W=ke[pe],he=i.get(W);t.bindTexture(n.TEXTURE_2D,he.__webglTexture),xe(n.TEXTURE_2D,W,nt),_e(le.__webglFramebuffer,k,W,n.COLOR_ATTACHMENT0+pe,n.TEXTURE_2D),R(W,nt)&&P(n.TEXTURE_2D)}t.unbindTexture()}else{let ke=n.TEXTURE_2D;(k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(a?ke=k.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ke,Te.__webglTexture),xe(ke,D,nt),_e(le.__webglFramebuffer,k,D,n.COLOR_ATTACHMENT0,ke),R(D,nt)&&P(ke),t.unbindTexture()}k.depthBuffer&&ae(k)}function Le(k){const D=E(k)||a,le=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let Te=0,Ce=le.length;Te<Ce;Te++){const Be=le[Te];if(R(Be,D)){const nt=k.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ke=i.get(Be).__webglTexture;t.bindTexture(nt,ke),P(nt),t.unbindTexture()}}}function We(k){if(a&&k.samples>0&&je(k)===!1){const D=k.isWebGLMultipleRenderTargets?k.texture:[k.texture],le=k.width,Te=k.height;let Ce=n.COLOR_BUFFER_BIT;const Be=[],nt=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ke=i.get(k),pe=k.isWebGLMultipleRenderTargets===!0;if(pe)for(let Ve=0;Ve<D.length;Ve++)t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ve,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ve,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ke.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ke.__webglFramebuffer);for(let Ve=0;Ve<D.length;Ve++){Be.push(n.COLOR_ATTACHMENT0+Ve),k.depthBuffer&&Be.push(nt);const W=ke.__ignoreDepthValues!==void 0?ke.__ignoreDepthValues:!1;if(W===!1&&(k.depthBuffer&&(Ce|=n.DEPTH_BUFFER_BIT),k.stencilBuffer&&(Ce|=n.STENCIL_BUFFER_BIT)),pe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ke.__webglColorRenderbuffer[Ve]),W===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[nt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[nt])),pe){const he=i.get(D[Ve]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,he,0)}n.blitFramebuffer(0,0,le,Te,0,0,le,Te,Ce,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Be)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),pe)for(let Ve=0;Ve<D.length;Ve++){t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ve,n.RENDERBUFFER,ke.__webglColorRenderbuffer[Ve]);const W=i.get(D[Ve]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ke.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ve,n.TEXTURE_2D,W,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ke.__webglMultisampledFramebuffer)}}function Qe(k){return Math.min(h,k.samples)}function je(k){const D=i.get(k);return a&&k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function st(k){const D=o.render.frame;y.get(k)!==D&&(y.set(k,D),k.update())}function Mt(k,D){const le=k.colorSpace,Te=k.format,Ce=k.type;return k.isCompressedTexture===!0||k.format===Hg||le!==$r&&le!==na&&(le===gt?a===!1?e.has("EXT_sRGB")===!0&&Te===Ii?(k.format=Hg,k.minFilter=ln,k.generateMipmaps=!1):D=hS.sRGBToLinear(D):(Te!==Ii||Ce!==ro)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",le)),D}this.allocateTextureUnit=I,this.resetTextureUnits=te,this.setTexture2D=z,this.setTexture2DArray=$,this.setTexture3D=Q,this.setTextureCube=ee,this.rebindTextures=Ae,this.setupRenderTarget=Ne,this.updateRenderTargetMipmap=Le,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=ae,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=je}function jL(n,e,t){const i=t.isWebGL2;function r(s,o=na){let a;if(s===ro)return n.UNSIGNED_BYTE;if(s===hL)return n.UNSIGNED_SHORT_4_4_4_4;if(s===pL)return n.UNSIGNED_SHORT_5_5_5_1;if(s===uL)return n.BYTE;if(s===fL)return n.SHORT;if(s===aS)return n.UNSIGNED_SHORT;if(s===dL)return n.INT;if(s===Wo)return n.UNSIGNED_INT;if(s===Js)return n.FLOAT;if(s===du)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===mL)return n.ALPHA;if(s===Ii)return n.RGBA;if(s===gL)return n.LUMINANCE;if(s===vL)return n.LUMINANCE_ALPHA;if(s===ta)return n.DEPTH_COMPONENT;if(s===_l)return n.DEPTH_STENCIL;if(s===Hg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===yL)return n.RED;if(s===xL)return n.RED_INTEGER;if(s===_L)return n.RG;if(s===AL)return n.RG_INTEGER;if(s===SL)return n.RGBA_INTEGER;if(s===ig||s===rg||s===sg||s===og)if(o===gt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===ig)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===rg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===sg)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===og)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ig)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===rg)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===sg)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===og)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===j_||s===X_||s===J_||s===K_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===j_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===X_)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===J_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===K_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===ML)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Y_||s===Q_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Y_)return o===gt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Q_)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Z_||s===q_||s===$_||s===e1||s===t1||s===n1||s===i1||s===r1||s===s1||s===o1||s===a1||s===l1||s===c1||s===u1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Z_)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===q_)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===$_)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===e1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===t1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===n1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===i1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===r1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===s1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===o1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===a1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===l1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===c1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===u1)return o===gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===ag)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===ag)return o===gt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===EL||s===f1||s===d1||s===h1)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===ag)return a.COMPRESSED_RED_RGTC1_EXT;if(s===f1)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===d1)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===h1)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===fl?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class XL extends Xt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ks extends Bt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const K5={type:"move"};class tx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ks,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ks,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ks,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const M of e.hand.values()){const A=t.getJointPose(M,i),g=this._getHandJoint(u,M);A!==null&&(g.matrix.fromArray(A.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=A.radius),g.visible=A!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;u.inputState.pinching&&p>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(K5)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Ks;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class JL extends sn{constructor(e,t,i,r,s,o,a,l,u,d){if(d=d!==void 0?d:ta,d!==ta&&d!==_l)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===ta&&(i=Wo),i===void 0&&d===_l&&(i=fl),super(null,r,s,o,a,l,d,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:vn,this.minFilter=l!==void 0?l:vn,this.flipY=!1,this.generateMipmaps=!1}}class Y5 extends Ts{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,u=null,d=null,h=null,p=null,m=null,y=null;const M=t.getContextAttributes();let A=null,g=null;const x=[],S=[],E=new Set,T=new Map,R=new Xt;R.layers.enable(1),R.viewport=new Ht;const P=new Xt;P.layers.enable(2),P.viewport=new Ht;const B=[R,P],b=new XL;b.layers.enable(1),b.layers.enable(2);let L=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let ie=x[ee];return ie===void 0&&(ie=new tx,x[ee]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(ee){let ie=x[ee];return ie===void 0&&(ie=new tx,x[ee]=ie),ie.getGripSpace()},this.getHand=function(ee){let ie=x[ee];return ie===void 0&&(ie=new tx,x[ee]=ie),ie.getHandSpace()};function J(ee){const ie=S.indexOf(ee.inputSource);if(ie===-1)return;const we=x[ie];we!==void 0&&(we.update(ee.inputSource,ee.frame,u||o),we.dispatchEvent({type:ee.type,data:ee.inputSource}))}function G(){r.removeEventListener("select",J),r.removeEventListener("selectstart",J),r.removeEventListener("selectend",J),r.removeEventListener("squeeze",J),r.removeEventListener("squeezestart",J),r.removeEventListener("squeezeend",J),r.removeEventListener("end",G),r.removeEventListener("inputsourceschange",K);for(let ee=0;ee<x.length;ee++){const ie=S[ee];ie!==null&&(S[ee]=null,x[ee].disconnect(ie))}L=null,U=null,e.setRenderTarget(A),m=null,p=null,h=null,r=null,g=null,Q.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){s=ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){a=ee,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ee){u=ee},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(ee){if(r=ee,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",J),r.addEventListener("selectstart",J),r.addEventListener("selectend",J),r.addEventListener("squeeze",J),r.addEventListener("squeezestart",J),r.addEventListener("squeezeend",J),r.addEventListener("end",G),r.addEventListener("inputsourceschange",K),M.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ie={antialias:r.renderState.layers===void 0?M.antialias:!0,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,ie),r.updateRenderState({baseLayer:m}),g=new es(m.framebufferWidth,m.framebufferHeight,{format:Ii,type:ro,colorSpace:e.outputColorSpace,stencilBuffer:M.stencil})}else{let ie=null,we=null,xe=null;M.depth&&(xe=M.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ie=M.stencil?_l:ta,we=M.stencil?fl:Wo);const V={colorFormat:t.RGBA8,depthFormat:xe,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(V),r.updateRenderState({layers:[p]}),g=new es(p.textureWidth,p.textureHeight,{format:Ii,type:ro,depthTexture:new JL(p.textureWidth,p.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,ie),stencilBuffer:M.stencil,colorSpace:e.outputColorSpace,samples:M.antialias?4:0});const Xe=e.properties.get(g);Xe.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await r.requestReferenceSpace(a),Q.setContext(r),Q.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function K(ee){for(let ie=0;ie<ee.removed.length;ie++){const we=ee.removed[ie],xe=S.indexOf(we);xe>=0&&(S[xe]=null,x[xe].disconnect(we))}for(let ie=0;ie<ee.added.length;ie++){const we=ee.added[ie];let xe=S.indexOf(we);if(xe===-1){for(let Xe=0;Xe<x.length;Xe++)if(Xe>=S.length){S.push(we),xe=Xe;break}else if(S[Xe]===null){S[Xe]=we,xe=Xe;break}if(xe===-1)break}const V=x[xe];V&&V.connect(we)}}const j=new F,se=new F;function te(ee,ie,we){j.setFromMatrixPosition(ie.matrixWorld),se.setFromMatrixPosition(we.matrixWorld);const xe=j.distanceTo(se),V=ie.projectionMatrix.elements,Xe=we.projectionMatrix.elements,Ke=V[14]/(V[10]-1),_e=V[14]/(V[10]+1),Ee=(V[9]+1)/V[5],ge=(V[9]-1)/V[5],ae=(V[8]-1)/V[0],Ae=(Xe[8]+1)/Xe[0],Ne=Ke*ae,Le=Ke*Ae,We=xe/(-ae+Ae),Qe=We*-ae;ie.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(Qe),ee.translateZ(We),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const je=Ke+We,st=_e+We,Mt=Ne-Qe,k=Le+(xe-Qe),D=Ee*_e/st*je,le=ge*_e/st*je;ee.projectionMatrix.makePerspective(Mt,k,D,le,je,st),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}function I(ee,ie){ie===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(ie.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(r===null)return;b.near=P.near=R.near=ee.near,b.far=P.far=R.far=ee.far,(L!==b.near||U!==b.far)&&(r.updateRenderState({depthNear:b.near,depthFar:b.far}),L=b.near,U=b.far);const ie=ee.parent,we=b.cameras;I(b,ie);for(let xe=0;xe<we.length;xe++)I(we[xe],ie);we.length===2?te(b,R,P):b.projectionMatrix.copy(R.projectionMatrix),H(ee,b,ie)};function H(ee,ie,we){we===null?ee.matrix.copy(ie.matrixWorld):(ee.matrix.copy(we.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(ie.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0);const xe=ee.children;for(let V=0,Xe=xe.length;V<Xe;V++)xe[V].updateMatrixWorld(!0);ee.projectionMatrix.copy(ie.projectionMatrix),ee.projectionMatrixInverse.copy(ie.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=pu*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return b},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ee){l=ee,p!==null&&(p.fixedFoveation=ee),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ee)},this.getPlanes=function(){return E};let z=null;function $(ee,ie){if(d=ie.getViewerPose(u||o),y=ie,d!==null){const we=d.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let xe=!1;we.length!==b.cameras.length&&(b.cameras.length=0,xe=!0);for(let V=0;V<we.length;V++){const Xe=we[V];let Ke=null;if(m!==null)Ke=m.getViewport(Xe);else{const Ee=h.getViewSubImage(p,Xe);Ke=Ee.viewport,V===0&&(e.setRenderTargetTextures(g,Ee.colorTexture,p.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(g))}let _e=B[V];_e===void 0&&(_e=new Xt,_e.layers.enable(V),_e.viewport=new Ht,B[V]=_e),_e.matrix.fromArray(Xe.transform.matrix),_e.matrix.decompose(_e.position,_e.quaternion,_e.scale),_e.projectionMatrix.fromArray(Xe.projectionMatrix),_e.projectionMatrixInverse.copy(_e.projectionMatrix).invert(),_e.viewport.set(Ke.x,Ke.y,Ke.width,Ke.height),V===0&&(b.matrix.copy(_e.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale)),xe===!0&&b.cameras.push(_e)}}for(let we=0;we<x.length;we++){const xe=S[we],V=x[we];xe!==null&&V!==void 0&&V.update(xe,ie,u||o)}if(z&&z(ee,ie),ie.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:ie.detectedPlanes});let we=null;for(const xe of E)ie.detectedPlanes.has(xe)||(we===null&&(we=[]),we.push(xe));if(we!==null)for(const xe of we)E.delete(xe),T.delete(xe),i.dispatchEvent({type:"planeremoved",data:xe});for(const xe of ie.detectedPlanes)if(!E.has(xe))E.add(xe),T.set(xe,ie.lastChangedTime),i.dispatchEvent({type:"planeadded",data:xe});else{const V=T.get(xe);xe.lastChangedTime>V&&(T.set(xe,xe.lastChangedTime),i.dispatchEvent({type:"planechanged",data:xe}))}}y=null}const Q=new zL;Q.setAnimationLoop($),this.setAnimationLoop=function(ee){z=ee},this.dispose=function(){}}}function Q5(n,e){function t(A,g){A.matrixAutoUpdate===!0&&A.updateMatrix(),g.value.copy(A.matrix)}function i(A,g){g.color.getRGB(A.fogColor.value,kL(n)),g.isFog?(A.fogNear.value=g.near,A.fogFar.value=g.far):g.isFogExp2&&(A.fogDensity.value=g.density)}function r(A,g,x,S,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(A,g):g.isMeshToonMaterial?(s(A,g),h(A,g)):g.isMeshPhongMaterial?(s(A,g),d(A,g)):g.isMeshStandardMaterial?(s(A,g),p(A,g),g.isMeshPhysicalMaterial&&m(A,g,E)):g.isMeshMatcapMaterial?(s(A,g),y(A,g)):g.isMeshDepthMaterial?s(A,g):g.isMeshDistanceMaterial?(s(A,g),M(A,g)):g.isMeshNormalMaterial?s(A,g):g.isLineBasicMaterial?(o(A,g),g.isLineDashedMaterial&&a(A,g)):g.isPointsMaterial?l(A,g,x,S):g.isSpriteMaterial?u(A,g):g.isShadowMaterial?(A.color.value.copy(g.color),A.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(A,g){A.opacity.value=g.opacity,g.color&&A.diffuse.value.copy(g.color),g.emissive&&A.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap,t(g.alphaMap,A.alphaMapTransform)),g.bumpMap&&(A.bumpMap.value=g.bumpMap,t(g.bumpMap,A.bumpMapTransform),A.bumpScale.value=g.bumpScale,g.side===Si&&(A.bumpScale.value*=-1)),g.normalMap&&(A.normalMap.value=g.normalMap,t(g.normalMap,A.normalMapTransform),A.normalScale.value.copy(g.normalScale),g.side===Si&&A.normalScale.value.negate()),g.displacementMap&&(A.displacementMap.value=g.displacementMap,t(g.displacementMap,A.displacementMapTransform),A.displacementScale.value=g.displacementScale,A.displacementBias.value=g.displacementBias),g.emissiveMap&&(A.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,A.emissiveMapTransform)),g.specularMap&&(A.specularMap.value=g.specularMap,t(g.specularMap,A.specularMapTransform)),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest);const x=e.get(g).envMap;if(x&&(A.envMap.value=x,A.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=g.reflectivity,A.ior.value=g.ior,A.refractionRatio.value=g.refractionRatio),g.lightMap){A.lightMap.value=g.lightMap;const S=n.useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=g.lightMapIntensity*S,t(g.lightMap,A.lightMapTransform)}g.aoMap&&(A.aoMap.value=g.aoMap,A.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,A.aoMapTransform))}function o(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform))}function a(A,g){A.dashSize.value=g.dashSize,A.totalSize.value=g.dashSize+g.gapSize,A.scale.value=g.scale}function l(A,g,x,S){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.size.value=g.size*x,A.scale.value=S*.5,g.map&&(A.map.value=g.map,t(g.map,A.uvTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function u(A,g){A.diffuse.value.copy(g.color),A.opacity.value=g.opacity,A.rotation.value=g.rotation,g.map&&(A.map.value=g.map,t(g.map,A.mapTransform)),g.alphaMap&&(A.alphaMap.value=g.alphaMap),g.alphaTest>0&&(A.alphaTest.value=g.alphaTest)}function d(A,g){A.specular.value.copy(g.specular),A.shininess.value=Math.max(g.shininess,1e-4)}function h(A,g){g.gradientMap&&(A.gradientMap.value=g.gradientMap)}function p(A,g){A.metalness.value=g.metalness,g.metalnessMap&&(A.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,A.metalnessMapTransform)),A.roughness.value=g.roughness,g.roughnessMap&&(A.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,A.roughnessMapTransform)),e.get(g).envMap&&(A.envMapIntensity.value=g.envMapIntensity)}function m(A,g,x){A.ior.value=g.ior,g.sheen>0&&(A.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),A.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(A.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,A.sheenColorMapTransform)),g.sheenRoughnessMap&&(A.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,A.sheenRoughnessMapTransform))),g.clearcoat>0&&(A.clearcoat.value=g.clearcoat,A.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(A.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,A.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(A.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Si&&A.clearcoatNormalScale.value.negate())),g.iridescence>0&&(A.iridescence.value=g.iridescence,A.iridescenceIOR.value=g.iridescenceIOR,A.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(A.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,A.iridescenceMapTransform)),g.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),g.transmission>0&&(A.transmission.value=g.transmission,A.transmissionSamplerMap.value=x.texture,A.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(A.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,A.transmissionMapTransform)),A.thickness.value=g.thickness,g.thicknessMap&&(A.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=g.attenuationDistance,A.attenuationColor.value.copy(g.attenuationColor)),A.specularIntensity.value=g.specularIntensity,A.specularColor.value.copy(g.specularColor),g.specularColorMap&&(A.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,A.specularColorMapTransform)),g.specularIntensityMap&&(A.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,A.specularIntensityMapTransform))}function y(A,g){g.matcap&&(A.matcap.value=g.matcap)}function M(A,g){const x=e.get(g).light;A.referencePosition.value.setFromMatrixPosition(x.matrixWorld),A.nearDistance.value=x.shadow.camera.near,A.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Z5(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,S){const E=S.program;i.uniformBlockBinding(x,E)}function u(x,S){let E=r[x.id];E===void 0&&(y(x),E=d(x),r[x.id]=E,x.addEventListener("dispose",A));const T=S.program;i.updateUBOMapping(x,T);const R=e.render.frame;s[x.id]!==R&&(p(x),s[x.id]=R)}function d(x){const S=h();x.__bindingPointIndex=S;const E=n.createBuffer(),T=x.__size,R=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,T,R),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,E),E}function h(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const S=r[x.id],E=x.uniforms,T=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let R=0,P=E.length;R<P;R++){const B=E[R];if(m(B,R,T)===!0){const b=B.__offset,L=Array.isArray(B.value)?B.value:[B.value];let U=0;for(let J=0;J<L.length;J++){const G=L[J],K=M(G);typeof G=="number"?(B.__data[0]=G,n.bufferSubData(n.UNIFORM_BUFFER,b+U,B.__data)):G.isMatrix3?(B.__data[0]=G.elements[0],B.__data[1]=G.elements[1],B.__data[2]=G.elements[2],B.__data[3]=G.elements[0],B.__data[4]=G.elements[3],B.__data[5]=G.elements[4],B.__data[6]=G.elements[5],B.__data[7]=G.elements[0],B.__data[8]=G.elements[6],B.__data[9]=G.elements[7],B.__data[10]=G.elements[8],B.__data[11]=G.elements[0]):(G.toArray(B.__data,U),U+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,b,B.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,S,E){const T=x.value;if(E[S]===void 0){if(typeof T=="number")E[S]=T;else{const R=Array.isArray(T)?T:[T],P=[];for(let B=0;B<R.length;B++)P.push(R[B].clone());E[S]=P}return!0}else if(typeof T=="number"){if(E[S]!==T)return E[S]=T,!0}else{const R=Array.isArray(E[S])?E[S]:[E[S]],P=Array.isArray(T)?T:[T];for(let B=0;B<R.length;B++){const b=R[B];if(b.equals(P[B])===!1)return b.copy(P[B]),!0}}return!1}function y(x){const S=x.uniforms;let E=0;const T=16;let R=0;for(let P=0,B=S.length;P<B;P++){const b=S[P],L={boundary:0,storage:0},U=Array.isArray(b.value)?b.value:[b.value];for(let J=0,G=U.length;J<G;J++){const K=U[J],j=M(K);L.boundary+=j.boundary,L.storage+=j.storage}if(b.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),b.__offset=E,P>0){R=E%T;const J=T-R;R!==0&&J-L.boundary<0&&(E+=T-R,b.__offset=E)}E+=L.storage}return R=E%T,R>0&&(E+=T-R),x.__size=E,x.__cache={},this}function M(x){const S={boundary:0,storage:0};return typeof x=="number"?(S.boundary=4,S.storage=4):x.isVector2?(S.boundary=8,S.storage=8):x.isVector3||x.isColor?(S.boundary=16,S.storage=12):x.isVector4?(S.boundary=16,S.storage=16):x.isMatrix3?(S.boundary=48,S.storage=48):x.isMatrix4?(S.boundary=64,S.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),S}function A(x){const S=x.target;S.removeEventListener("dispose",A);const E=o.indexOf(S.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function g(){for(const x in r)n.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:l,update:u,dispose:g}}function q5(){const n=Pd("canvas");return n.style.display="block",n}class SS{constructor(e={}){const{canvas:t=q5(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;let m=null,y=null;const M=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=gt,this.useLegacyLights=!0,this.toneMapping=Qr,this.toneMappingExposure=1;const g=this;let x=!1,S=0,E=0,T=null,R=-1,P=null;const B=new Ht,b=new Ht;let L=null,U=t.width,J=t.height,G=1,K=null,j=null;const se=new Ht(0,0,U,J),te=new Ht(0,0,U,J);let I=!1;const H=new R0;let z=!1,$=!1,Q=null;const ee=new lt,ie=new F,we={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return T===null?G:1}let V=i;function Xe(N,oe){for(let me=0;me<N.length;me++){const ne=N[me],ve=t.getContext(ne,oe);if(ve!==null)return ve}return null}try{const N={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${M0}`),t.addEventListener("webglcontextlost",Re,!1),t.addEventListener("webglcontextrestored",et,!1),t.addEventListener("webglcontextcreationerror",dt,!1),V===null){const oe=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&oe.shift(),V=Xe(oe,N),V===null)throw Xe(oe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}V.getShaderPrecisionFormat===void 0&&(V.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}let Ke,_e,Ee,ge,ae,Ae,Ne,Le,We,Qe,je,st,Mt,k,D,le,Te,Ce,Be,nt,ke,pe,Ve,W;function he(){Ke=new pG(V),_e=new lG(V,Ke,e),Ke.init(_e),pe=new jL(V,Ke,_e),Ee=new X5(V,Ke,_e),ge=new vG(V),ae=new D5,Ae=new J5(V,Ke,Ee,ae,_e,pe,ge),Ne=new uG(g),Le=new hG(g),We=new R4(V,_e),Ve=new oG(V,Ke,We,_e),Qe=new mG(V,We,ge,Ve),je=new AG(V,Qe,We,ge),Be=new _G(V,_e,Ae),le=new cG(ae),st=new I5(g,Ne,Le,Ke,_e,Ve,le),Mt=new Q5(g,ae),k=new N5,D=new G5(Ke,_e),Ce=new sG(g,Ne,Le,Ee,je,p,l),Te=new j5(g,je,_e),W=new Z5(V,ge,_e,Ee),nt=new aG(V,Ke,ge,_e),ke=new gG(V,Ke,ge,_e),ge.programs=st.programs,g.capabilities=_e,g.extensions=Ke,g.properties=ae,g.renderLists=k,g.shadowMap=Te,g.state=Ee,g.info=ge}he();const Se=new Y5(g,V);this.xr=Se,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const N=Ke.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=Ke.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(N){N!==void 0&&(G=N,this.setSize(U,J,!1))},this.getSize=function(N){return N.set(U,J)},this.setSize=function(N,oe,me=!0){if(Se.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=N,J=oe,t.width=Math.floor(N*G),t.height=Math.floor(oe*G),me===!0&&(t.style.width=N+"px",t.style.height=oe+"px"),this.setViewport(0,0,N,oe)},this.getDrawingBufferSize=function(N){return N.set(U*G,J*G).floor()},this.setDrawingBufferSize=function(N,oe,me){U=N,J=oe,G=me,t.width=Math.floor(N*me),t.height=Math.floor(oe*me),this.setViewport(0,0,N,oe)},this.getCurrentViewport=function(N){return N.copy(B)},this.getViewport=function(N){return N.copy(se)},this.setViewport=function(N,oe,me,ne){N.isVector4?se.set(N.x,N.y,N.z,N.w):se.set(N,oe,me,ne),Ee.viewport(B.copy(se).multiplyScalar(G).floor())},this.getScissor=function(N){return N.copy(te)},this.setScissor=function(N,oe,me,ne){N.isVector4?te.set(N.x,N.y,N.z,N.w):te.set(N,oe,me,ne),Ee.scissor(b.copy(te).multiplyScalar(G).floor())},this.getScissorTest=function(){return I},this.setScissorTest=function(N){Ee.setScissorTest(I=N)},this.setOpaqueSort=function(N){K=N},this.setTransparentSort=function(N){j=N},this.getClearColor=function(N){return N.copy(Ce.getClearColor())},this.setClearColor=function(){Ce.setClearColor.apply(Ce,arguments)},this.getClearAlpha=function(){return Ce.getClearAlpha()},this.setClearAlpha=function(){Ce.setClearAlpha.apply(Ce,arguments)},this.clear=function(N=!0,oe=!0,me=!0){let ne=0;N&&(ne|=V.COLOR_BUFFER_BIT),oe&&(ne|=V.DEPTH_BUFFER_BIT),me&&(ne|=V.STENCIL_BUFFER_BIT),V.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Re,!1),t.removeEventListener("webglcontextrestored",et,!1),t.removeEventListener("webglcontextcreationerror",dt,!1),k.dispose(),D.dispose(),ae.dispose(),Ne.dispose(),Le.dispose(),je.dispose(),Ve.dispose(),W.dispose(),st.dispose(),Se.dispose(),Se.removeEventListener("sessionstart",Ze),Se.removeEventListener("sessionend",Ot),Q&&(Q.dispose(),Q=null),kt.stop()};function Re(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function et(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const N=ge.autoReset,oe=Te.enabled,me=Te.autoUpdate,ne=Te.needsUpdate,ve=Te.type;he(),ge.autoReset=N,Te.enabled=oe,Te.autoUpdate=me,Te.needsUpdate=ne,Te.type=ve}function dt(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function Vt(N){const oe=N.target;oe.removeEventListener("dispose",Vt),X(oe)}function X(N){fe(N),ae.remove(N)}function fe(N){const oe=ae.get(N).programs;oe!==void 0&&(oe.forEach(function(me){st.releaseProgram(me)}),N.isShaderMaterial&&st.releaseShaderCache(N))}this.renderBufferDirect=function(N,oe,me,ne,ve,tt){oe===null&&(oe=we);const rt=ve.isMesh&&ve.matrixWorld.determinant()<0,at=bh(N,oe,me,ne,ve);Ee.setMaterial(ne,rt);let ht=me.index,_t=1;ne.wireframe===!0&&(ht=Qe.getWireframeAttribute(me),_t=2);const At=me.drawRange,Et=me.attributes.position;let Ut=At.start*_t,Kn=(At.start+At.count)*_t;tt!==null&&(Ut=Math.max(Ut,tt.start*_t),Kn=Math.min(Kn,(tt.start+tt.count)*_t)),ht!==null?(Ut=Math.max(Ut,0),Kn=Math.min(Kn,ht.count)):Et!=null&&(Ut=Math.max(Ut,0),Kn=Math.min(Kn,Et.count));const Ui=Kn-Ut;if(Ui<0||Ui===1/0)return;Ve.setup(ve,ne,at,me,ht);let Lr,Jt=nt;if(ht!==null&&(Lr=We.get(ht),Jt=ke,Jt.setIndex(Lr)),ve.isMesh)ne.wireframe===!0?(Ee.setLineWidth(ne.wireframeLinewidth*xe()),Jt.setMode(V.LINES)):Jt.setMode(V.TRIANGLES);else if(ve.isLine){let wt=ne.linewidth;wt===void 0&&(wt=1),Ee.setLineWidth(wt*xe()),ve.isLineSegments?Jt.setMode(V.LINES):ve.isLineLoop?Jt.setMode(V.LINE_LOOP):Jt.setMode(V.LINE_STRIP)}else ve.isPoints?Jt.setMode(V.POINTS):ve.isSprite&&Jt.setMode(V.TRIANGLES);if(ve.isInstancedMesh)Jt.renderInstances(Ut,Ui,ve.count);else if(me.isInstancedBufferGeometry){const wt=me._maxInstanceCount!==void 0?me._maxInstanceCount:1/0,Ma=Math.min(me.instanceCount,wt);Jt.renderInstances(Ut,Ui,Ma)}else Jt.render(Ut,Ui)},this.compile=function(N,oe){function me(ne,ve,tt){ne.transparent===!0&&ne.side===wr&&ne.forceSinglePass===!1?(ne.side=Si,ne.needsUpdate=!0,Nl(ne,ve,tt),ne.side=Ms,ne.needsUpdate=!0,Nl(ne,ve,tt),ne.side=wr):Nl(ne,ve,tt)}y=D.get(N),y.init(),A.push(y),N.traverseVisible(function(ne){ne.isLight&&ne.layers.test(oe.layers)&&(y.pushLight(ne),ne.castShadow&&y.pushShadow(ne))}),y.setupLights(g.useLegacyLights),N.traverse(function(ne){const ve=ne.material;if(ve)if(Array.isArray(ve))for(let tt=0;tt<ve.length;tt++){const rt=ve[tt];me(rt,N,ne)}else me(ve,N,ne)}),A.pop(),y=null};let Me=null;function Ue(N){Me&&Me(N)}function Ze(){kt.stop()}function Ot(){kt.start()}const kt=new zL;kt.setAnimationLoop(Ue),typeof self<"u"&&kt.setContext(self),this.setAnimationLoop=function(N){Me=N,Se.setAnimationLoop(N),N===null?kt.stop():kt.start()},Se.addEventListener("sessionstart",Ze),Se.addEventListener("sessionend",Ot),this.render=function(N,oe){if(oe!==void 0&&oe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;N.matrixWorldAutoUpdate===!0&&N.updateMatrixWorld(),oe.parent===null&&oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Se.enabled===!0&&Se.isPresenting===!0&&(Se.cameraAutoUpdate===!0&&Se.updateCamera(oe),oe=Se.getCamera()),N.isScene===!0&&N.onBeforeRender(g,N,oe,T),y=D.get(N,A.length),y.init(),A.push(y),ee.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),H.setFromProjectionMatrix(ee),$=this.localClippingEnabled,z=le.init(this.clippingPlanes,$),m=k.get(N,M.length),m.init(),M.push(m),kn(N,oe,0,g.sortObjects),m.finish(),g.sortObjects===!0&&m.sort(K,j),z===!0&&le.beginShadows();const me=y.state.shadowsArray;if(Te.render(me,N,oe),z===!0&&le.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ce.render(m,N),y.setupLights(g.useLegacyLights),oe.isArrayCamera){const ne=oe.cameras;for(let ve=0,tt=ne.length;ve<tt;ve++){const rt=ne[ve];Br(m,N,rt,rt.viewport)}}else Br(m,N,oe);T!==null&&(Ae.updateMultisampleRenderTarget(T),Ae.updateRenderTargetMipmap(T)),N.isScene===!0&&N.onAfterRender(g,N,oe),Ve.resetDefaultState(),R=-1,P=null,A.pop(),A.length>0?y=A[A.length-1]:y=null,M.pop(),M.length>0?m=M[M.length-1]:m=null};function kn(N,oe,me,ne){if(N.visible===!1)return;if(N.layers.test(oe.layers)){if(N.isGroup)me=N.renderOrder;else if(N.isLOD)N.autoUpdate===!0&&N.update(oe);else if(N.isLight)y.pushLight(N),N.castShadow&&y.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||H.intersectsSprite(N)){ne&&ie.setFromMatrixPosition(N.matrixWorld).applyMatrix4(ee);const rt=je.update(N),at=N.material;at.visible&&m.push(N,rt,at,me,ie.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(!N.frustumCulled||H.intersectsObject(N))){N.isSkinnedMesh&&N.skeleton.frame!==ge.render.frame&&(N.skeleton.update(),N.skeleton.frame=ge.render.frame);const rt=je.update(N),at=N.material;if(ne&&(rt.boundingSphere===null&&rt.computeBoundingSphere(),ie.copy(rt.boundingSphere.center).applyMatrix4(N.matrixWorld).applyMatrix4(ee)),Array.isArray(at)){const ht=rt.groups;for(let _t=0,At=ht.length;_t<At;_t++){const Et=ht[_t],Ut=at[Et.materialIndex];Ut&&Ut.visible&&m.push(N,rt,Ut,me,ie.z,Et)}}else at.visible&&m.push(N,rt,at,me,ie.z,null)}}const tt=N.children;for(let rt=0,at=tt.length;rt<at;rt++)kn(tt[rt],oe,me,ne)}function Br(N,oe,me,ne){const ve=N.opaque,tt=N.transmissive,rt=N.transparent;y.setupLightsView(me),z===!0&&le.setGlobalState(g.clippingPlanes,me),tt.length>0&&en(ve,tt,oe,me),ne&&Ee.viewport(B.copy(ne)),ve.length>0&&pi(ve,oe,me),tt.length>0&&pi(tt,oe,me),rt.length>0&&pi(rt,oe,me),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function en(N,oe,me,ne){if(Q===null){const at=_e.isWebGL2;Q=new es(1024,1024,{generateMipmaps:!0,type:Ke.has("EXT_color_buffer_half_float")?du:ro,minFilter:Es,samples:at&&a===!0?4:0})}const ve=g.getRenderTarget();g.setRenderTarget(Q),g.clear();const tt=g.toneMapping;g.toneMapping=Qr,pi(N,me,ne),Ae.updateMultisampleRenderTarget(Q),Ae.updateRenderTargetMipmap(Q);let rt=!1;for(let at=0,ht=oe.length;at<ht;at++){const _t=oe[at],At=_t.object,Et=_t.geometry,Ut=_t.material,Kn=_t.group;if(Ut.side===wr&&At.layers.test(ne.layers)){const Ui=Ut.side;Ut.side=Si,Ut.needsUpdate=!0,ar(At,me,ne,Et,Ut,Kn),Ut.side=Ui,Ut.needsUpdate=!0,rt=!0}}rt===!0&&(Ae.updateMultisampleRenderTarget(Q),Ae.updateRenderTargetMipmap(Q)),g.setRenderTarget(ve),g.toneMapping=tt}function pi(N,oe,me){const ne=oe.isScene===!0?oe.overrideMaterial:null;for(let ve=0,tt=N.length;ve<tt;ve++){const rt=N[ve],at=rt.object,ht=rt.geometry,_t=ne===null?rt.material:ne,At=rt.group;at.layers.test(me.layers)&&ar(at,oe,me,ht,_t,At)}}function ar(N,oe,me,ne,ve,tt){N.onBeforeRender(g,oe,me,ne,ve,tt),N.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),ve.onBeforeRender(g,oe,me,ne,N,tt),ve.transparent===!0&&ve.side===wr&&ve.forceSinglePass===!1?(ve.side=Si,ve.needsUpdate=!0,g.renderBufferDirect(me,oe,ne,ve,N,tt),ve.side=Ms,ve.needsUpdate=!0,g.renderBufferDirect(me,oe,ne,ve,N,tt),ve.side=wr):g.renderBufferDirect(me,oe,ne,ve,N,tt),N.onAfterRender(g,oe,me,ne,ve,tt)}function Nl(N,oe,me){oe.isScene!==!0&&(oe=we);const ne=ae.get(N),ve=y.state.lights,tt=y.state.shadowsArray,rt=ve.state.version,at=st.getParameters(N,ve.state,tt,oe,me),ht=st.getProgramCacheKey(at);let _t=ne.programs;ne.environment=N.isMeshStandardMaterial?oe.environment:null,ne.fog=oe.fog,ne.envMap=(N.isMeshStandardMaterial?Le:Ne).get(N.envMap||ne.environment),_t===void 0&&(N.addEventListener("dispose",Vt),_t=new Map,ne.programs=_t);let At=_t.get(ht);if(At!==void 0){if(ne.currentProgram===At&&ne.lightsStateVersion===rt)return Ch(N,at),At}else at.uniforms=st.getUniforms(N),N.onBuild(me,at,g),N.onBeforeCompile(at,g),At=st.acquireProgram(at,ht),_t.set(ht,At),ne.uniforms=at.uniforms;const Et=ne.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||N.clipping===!0)&&(Et.clippingPlanes=le.uniform),Ch(N,at),ne.needsLights=nv(N),ne.lightsStateVersion=rt,ne.needsLights&&(Et.ambientLightColor.value=ve.state.ambient,Et.lightProbe.value=ve.state.probe,Et.directionalLights.value=ve.state.directional,Et.directionalLightShadows.value=ve.state.directionalShadow,Et.spotLights.value=ve.state.spot,Et.spotLightShadows.value=ve.state.spotShadow,Et.rectAreaLights.value=ve.state.rectArea,Et.ltc_1.value=ve.state.rectAreaLTC1,Et.ltc_2.value=ve.state.rectAreaLTC2,Et.pointLights.value=ve.state.point,Et.pointLightShadows.value=ve.state.pointShadow,Et.hemisphereLights.value=ve.state.hemi,Et.directionalShadowMap.value=ve.state.directionalShadowMap,Et.directionalShadowMatrix.value=ve.state.directionalShadowMatrix,Et.spotShadowMap.value=ve.state.spotShadowMap,Et.spotLightMatrix.value=ve.state.spotLightMatrix,Et.spotLightMap.value=ve.state.spotLightMap,Et.pointShadowMap.value=ve.state.pointShadowMap,Et.pointShadowMatrix.value=ve.state.pointShadowMatrix);const Ut=At.getUniforms(),Kn=ug.seqWithValue(Ut.seq,Et);return ne.currentProgram=At,ne.uniformsList=Kn,At}function Ch(N,oe){const me=ae.get(N);me.outputColorSpace=oe.outputColorSpace,me.instancing=oe.instancing,me.skinning=oe.skinning,me.morphTargets=oe.morphTargets,me.morphNormals=oe.morphNormals,me.morphColors=oe.morphColors,me.morphTargetsCount=oe.morphTargetsCount,me.numClippingPlanes=oe.numClippingPlanes,me.numIntersection=oe.numClipIntersection,me.vertexAlphas=oe.vertexAlphas,me.vertexTangents=oe.vertexTangents,me.toneMapping=oe.toneMapping}function bh(N,oe,me,ne,ve){oe.isScene!==!0&&(oe=we),Ae.resetTextureUnits();const tt=oe.fog,rt=ne.isMeshStandardMaterial?oe.environment:null,at=T===null?g.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:$r,ht=(ne.isMeshStandardMaterial?Le:Ne).get(ne.envMap||rt),_t=ne.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,At=!!ne.normalMap&&!!me.attributes.tangent,Et=!!me.morphAttributes.position,Ut=!!me.morphAttributes.normal,Kn=!!me.morphAttributes.color,Ui=ne.toneMapped?g.toneMapping:Qr,Lr=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,Jt=Lr!==void 0?Lr.length:0,wt=ae.get(ne),Ma=y.state.lights;if(z===!0&&($===!0||N!==P)){const Wt=N===P&&ne.id===R;le.setState(ne,N,Wt)}let Mn=!1;ne.version===wt.__version?(wt.needsLights&&wt.lightsStateVersion!==Ma.state.version||wt.outputColorSpace!==at||ve.isInstancedMesh&&wt.instancing===!1||!ve.isInstancedMesh&&wt.instancing===!0||ve.isSkinnedMesh&&wt.skinning===!1||!ve.isSkinnedMesh&&wt.skinning===!0||wt.envMap!==ht||ne.fog===!0&&wt.fog!==tt||wt.numClippingPlanes!==void 0&&(wt.numClippingPlanes!==le.numPlanes||wt.numIntersection!==le.numIntersection)||wt.vertexAlphas!==_t||wt.vertexTangents!==At||wt.morphTargets!==Et||wt.morphNormals!==Ut||wt.morphColors!==Kn||wt.toneMapping!==Ui||_e.isWebGL2===!0&&wt.morphTargetsCount!==Jt)&&(Mn=!0):(Mn=!0,wt.__version=ne.version);let Ir=wt.currentProgram;Mn===!0&&(Ir=Nl(ne,oe,ve));let Cs=!1,Ti=!1,zt=!1;const pt=Ir.getUniforms(),ti=wt.uniforms;if(Ee.useProgram(Ir.program)&&(Cs=!0,Ti=!0,zt=!0),ne.id!==R&&(R=ne.id,Ti=!0),Cs||P!==N){if(pt.setValue(V,"projectionMatrix",N.projectionMatrix),_e.logarithmicDepthBuffer&&pt.setValue(V,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),P!==N&&(P=N,Ti=!0,zt=!0),ne.isShaderMaterial||ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshStandardMaterial||ne.envMap){const Wt=pt.map.cameraPosition;Wt!==void 0&&Wt.setValue(V,ie.setFromMatrixPosition(N.matrixWorld))}(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&pt.setValue(V,"isOrthographic",N.isOrthographicCamera===!0),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial||ne.isShadowMaterial||ve.isSkinnedMesh)&&pt.setValue(V,"viewMatrix",N.matrixWorldInverse)}if(ve.isSkinnedMesh){pt.setOptional(V,ve,"bindMatrix"),pt.setOptional(V,ve,"bindMatrixInverse");const Wt=ve.skeleton;Wt&&(_e.floatVertexTextures?(Wt.boneTexture===null&&Wt.computeBoneTexture(),pt.setValue(V,"boneTexture",Wt.boneTexture,Ae),pt.setValue(V,"boneTextureSize",Wt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const En=me.morphAttributes;if((En.position!==void 0||En.normal!==void 0||En.color!==void 0&&_e.isWebGL2===!0)&&Be.update(ve,me,Ir),(Ti||wt.receiveShadow!==ve.receiveShadow)&&(wt.receiveShadow=ve.receiveShadow,pt.setValue(V,"receiveShadow",ve.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(ti.envMap.value=ht,ti.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),Ti&&(pt.setValue(V,"toneMappingExposure",g.toneMappingExposure),wt.needsLights&&Ou(ti,zt),tt&&ne.fog===!0&&Mt.refreshFogUniforms(ti,tt),Mt.refreshMaterialUniforms(ti,ne,G,J,Q),ug.upload(V,wt.uniformsList,ti,Ae)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(ug.upload(V,wt.uniformsList,ti,Ae),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&pt.setValue(V,"center",ve.center),pt.setValue(V,"modelViewMatrix",ve.modelViewMatrix),pt.setValue(V,"normalMatrix",ve.normalMatrix),pt.setValue(V,"modelMatrix",ve.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const Wt=ne.uniformsGroups;for(let Dr=0,mo=Wt.length;Dr<mo;Dr++)if(_e.isWebGL2){const Yn=Wt[Dr];W.update(Yn,Ir),W.bind(Yn,Ir)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ir}function Ou(N,oe){N.ambientLightColor.needsUpdate=oe,N.lightProbe.needsUpdate=oe,N.directionalLights.needsUpdate=oe,N.directionalLightShadows.needsUpdate=oe,N.pointLights.needsUpdate=oe,N.pointLightShadows.needsUpdate=oe,N.spotLights.needsUpdate=oe,N.spotLightShadows.needsUpdate=oe,N.rectAreaLights.needsUpdate=oe,N.hemisphereLights.needsUpdate=oe}function nv(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&N.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(N,oe,me){ae.get(N.texture).__webglTexture=oe,ae.get(N.depthTexture).__webglTexture=me;const ne=ae.get(N);ne.__hasExternalTextures=!0,ne.__hasExternalTextures&&(ne.__autoAllocateDepthBuffer=me===void 0,ne.__autoAllocateDepthBuffer||Ke.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,oe){const me=ae.get(N);me.__webglFramebuffer=oe,me.__useDefaultFramebuffer=oe===void 0},this.setRenderTarget=function(N,oe=0,me=0){T=N,S=oe,E=me;let ne=!0,ve=null,tt=!1,rt=!1;if(N){const ht=ae.get(N);ht.__useDefaultFramebuffer!==void 0?(Ee.bindFramebuffer(V.FRAMEBUFFER,null),ne=!1):ht.__webglFramebuffer===void 0?Ae.setupRenderTarget(N):ht.__hasExternalTextures&&Ae.rebindTextures(N,ae.get(N.texture).__webglTexture,ae.get(N.depthTexture).__webglTexture);const _t=N.texture;(_t.isData3DTexture||_t.isDataArrayTexture||_t.isCompressedArrayTexture)&&(rt=!0);const At=ae.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(ve=At[oe],tt=!0):_e.isWebGL2&&N.samples>0&&Ae.useMultisampledRTT(N)===!1?ve=ae.get(N).__webglMultisampledFramebuffer:ve=At,B.copy(N.viewport),b.copy(N.scissor),L=N.scissorTest}else B.copy(se).multiplyScalar(G).floor(),b.copy(te).multiplyScalar(G).floor(),L=I;if(Ee.bindFramebuffer(V.FRAMEBUFFER,ve)&&_e.drawBuffers&&ne&&Ee.drawBuffers(N,ve),Ee.viewport(B),Ee.scissor(b),Ee.setScissorTest(L),tt){const ht=ae.get(N.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+oe,ht.__webglTexture,me)}else if(rt){const ht=ae.get(N.texture),_t=oe||0;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,ht.__webglTexture,me||0,_t)}R=-1},this.readRenderTargetPixels=function(N,oe,me,ne,ve,tt,rt){if(!(N&&N.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let at=ae.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&rt!==void 0&&(at=at[rt]),at){Ee.bindFramebuffer(V.FRAMEBUFFER,at);try{const ht=N.texture,_t=ht.format,At=ht.type;if(_t!==Ii&&pe.convert(_t)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Et=At===du&&(Ke.has("EXT_color_buffer_half_float")||_e.isWebGL2&&Ke.has("EXT_color_buffer_float"));if(At!==ro&&pe.convert(At)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_TYPE)&&!(At===Js&&(_e.isWebGL2||Ke.has("OES_texture_float")||Ke.has("WEBGL_color_buffer_float")))&&!Et){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}oe>=0&&oe<=N.width-ne&&me>=0&&me<=N.height-ve&&V.readPixels(oe,me,ne,ve,pe.convert(_t),pe.convert(At),tt)}finally{const ht=T!==null?ae.get(T).__webglFramebuffer:null;Ee.bindFramebuffer(V.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(N,oe,me=0){const ne=Math.pow(2,-me),ve=Math.floor(oe.image.width*ne),tt=Math.floor(oe.image.height*ne);Ae.setTexture2D(oe,0),V.copyTexSubImage2D(V.TEXTURE_2D,me,0,0,N.x,N.y,ve,tt),Ee.unbindTexture()},this.copyTextureToTexture=function(N,oe,me,ne=0){const ve=oe.image.width,tt=oe.image.height,rt=pe.convert(me.format),at=pe.convert(me.type);Ae.setTexture2D(me,0),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,me.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,me.unpackAlignment),oe.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,ne,N.x,N.y,ve,tt,rt,at,oe.image.data):oe.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,ne,N.x,N.y,oe.mipmaps[0].width,oe.mipmaps[0].height,rt,oe.mipmaps[0].data):V.texSubImage2D(V.TEXTURE_2D,ne,N.x,N.y,rt,at,oe.image),ne===0&&me.generateMipmaps&&V.generateMipmap(V.TEXTURE_2D),Ee.unbindTexture()},this.copyTextureToTexture3D=function(N,oe,me,ne,ve=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const tt=N.max.x-N.min.x+1,rt=N.max.y-N.min.y+1,at=N.max.z-N.min.z+1,ht=pe.convert(ne.format),_t=pe.convert(ne.type);let At;if(ne.isData3DTexture)Ae.setTexture3D(ne,0),At=V.TEXTURE_3D;else if(ne.isDataArrayTexture)Ae.setTexture2DArray(ne,0),At=V.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,ne.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,ne.unpackAlignment);const Et=V.getParameter(V.UNPACK_ROW_LENGTH),Ut=V.getParameter(V.UNPACK_IMAGE_HEIGHT),Kn=V.getParameter(V.UNPACK_SKIP_PIXELS),Ui=V.getParameter(V.UNPACK_SKIP_ROWS),Lr=V.getParameter(V.UNPACK_SKIP_IMAGES),Jt=me.isCompressedTexture?me.mipmaps[0]:me.image;V.pixelStorei(V.UNPACK_ROW_LENGTH,Jt.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Jt.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,N.min.x),V.pixelStorei(V.UNPACK_SKIP_ROWS,N.min.y),V.pixelStorei(V.UNPACK_SKIP_IMAGES,N.min.z),me.isDataTexture||me.isData3DTexture?V.texSubImage3D(At,ve,oe.x,oe.y,oe.z,tt,rt,at,ht,_t,Jt.data):me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),V.compressedTexSubImage3D(At,ve,oe.x,oe.y,oe.z,tt,rt,at,ht,Jt.data)):V.texSubImage3D(At,ve,oe.x,oe.y,oe.z,tt,rt,at,ht,_t,Jt),V.pixelStorei(V.UNPACK_ROW_LENGTH,Et),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Ut),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Kn),V.pixelStorei(V.UNPACK_SKIP_ROWS,Ui),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Lr),ve===0&&ne.generateMipmaps&&V.generateMipmap(At),Ee.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?Ae.setTextureCube(N,0):N.isData3DTexture?Ae.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?Ae.setTexture2DArray(N,0):Ae.setTexture2D(N,0),Ee.unbindTexture()},this.resetState=function(){S=0,E=0,T=null,Ee.reset(),Ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===gt?qi:uS}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===qi?gt:$r}}class KL extends SS{}KL.prototype.isWebGL1Renderer=!0;class B0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new De(e),this.density=t}clone(){return new B0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class L0{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new De(e),this.near=t,this.far=i}clone(){return new L0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Gg extends Bt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class nh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Rd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$i()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$i()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$i()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vi=new F;class ua{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.applyMatrix4(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.applyNormalMatrix(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.transformDirection(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}setX(e,t){return this.normalized&&(t=xt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=xt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=xt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=xt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ki(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ki(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ki(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ki(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=xt(t,this.array),i=xt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=xt(t,this.array),i=xt(i,this.array),r=xt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=xt(t,this.array),i=xt(i,this.array),r=xt(r,this.array),s=xt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Nt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ua(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class MS extends Pn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let dc;const gf=new F,hc=new F,pc=new F,mc=new ye,vf=new ye,YL=new lt,om=new F,yf=new F,am=new F,xC=new ye,nx=new ye,_C=new ye;class QL extends Bt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",dc===void 0){dc=new mt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new nh(t,5);dc.setIndex([0,1,2,0,2,3]),dc.setAttribute("position",new ua(i,3,0,!1)),dc.setAttribute("uv",new ua(i,2,3,!1))}this.geometry=dc,this.material=e!==void 0?e:new MS,this.center=new ye(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),hc.setFromMatrixScale(this.matrixWorld),YL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),pc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&hc.multiplyScalar(-pc.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;lm(om.set(-.5,-.5,0),pc,o,hc,r,s),lm(yf.set(.5,-.5,0),pc,o,hc,r,s),lm(am.set(.5,.5,0),pc,o,hc,r,s),xC.set(0,0),nx.set(1,0),_C.set(1,1);let a=e.ray.intersectTriangle(om,yf,am,!1,gf);if(a===null&&(lm(yf.set(-.5,.5,0),pc,o,hc,r,s),nx.set(0,1),a=e.ray.intersectTriangle(om,am,yf,!1,gf),a===null))return;const l=e.ray.origin.distanceTo(gf);l<e.near||l>e.far||t.push({distance:l,point:gf.clone(),uv:Li.getInterpolation(gf,om,yf,am,xC,nx,_C,new ye),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function lm(n,e,t,i,r,s){mc.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(vf.x=s*mc.x-r*mc.y,vf.y=r*mc.x+s*mc.y):vf.copy(mc),n.copy(e),n.x+=vf.x,n.y+=vf.y,n.applyMatrix4(YL)}const cm=new F,AC=new F;class ZL extends Bt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){cm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(cm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){cm.setFromMatrixPosition(e.matrixWorld),AC.setFromMatrixPosition(this.matrixWorld);const i=cm.distanceTo(AC)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const SC=new F,MC=new Ht,EC=new Ht,$5=new F,wC=new lt,gc=new F;class ES extends jn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new lt,this.bindMatrixInverse=new lt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ts),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)gc.fromBufferAttribute(t,i),this.applyBoneTransform(i,gc),this.boundingBox.expandByPoint(gc)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ns),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)gc.fromBufferAttribute(t,i),this.applyBoneTransform(i,gc),this.boundingSphere.expandByPoint(gc)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ht,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;MC.fromBufferAttribute(r.attributes.skinIndex,e),EC.fromBufferAttribute(r.attributes.skinWeight,e),SC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=EC.getComponent(s);if(o!==0){const a=MC.getComponent(s);wC.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector($5.copy(SC).applyMatrix4(wC),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class I0 extends Bt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class eu extends sn{constructor(e=null,t=1,i=1,r,s,o,a,l,u=vn,d=vn,h,p){super(null,o,a,l,u,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TC=new lt,eV=new lt;class ih{constructor(e=[],t=[]){this.uuid=$i(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new lt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new lt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:eV;TC.multiplyMatrices(a,t[s]),TC.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new ih(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=IL(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new eu(t,e,e,Ii,Js);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new I0),this.bones.push(o),this.boneInverses.push(new lt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class gu extends Nt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const vc=new lt,CC=new lt,um=[],bC=new ts,tV=new lt,xf=new jn,_f=new ns;class wS extends jn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new gu(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,tV)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ts),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,vc),bC.copy(e.boundingBox).applyMatrix4(vc),this.boundingBox.union(bC)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ns),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,vc),_f.copy(e.boundingSphere).applyMatrix4(vc),this.boundingSphere.union(_f)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(xf.geometry=this.geometry,xf.material=this.material,xf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_f.copy(this.boundingSphere),_f.applyMatrix4(i),e.ray.intersectsSphere(_f)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,vc),CC.multiplyMatrices(i,vc),xf.matrixWorld=CC,xf.raycast(e,um);for(let o=0,a=um.length;o<a;o++){const l=um[o];l.instanceId=s,l.object=this,t.push(l)}um.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new gu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class hi extends Pn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new De(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const RC=new F,PC=new F,BC=new lt,ix=new qd,fm=new ns;class so extends Bt{constructor(e=new mt,t=new hi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)RC.fromBufferAttribute(t,r-1),PC.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=RC.distanceTo(PC);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),fm.copy(i.boundingSphere),fm.applyMatrix4(r),fm.radius+=s,e.ray.intersectsSphere(fm)===!1)return;BC.copy(r).invert(),ix.copy(e.ray).applyMatrix4(BC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new F,d=new F,h=new F,p=new F,m=this.isLineSegments?2:1,y=i.index,A=i.attributes.position;if(y!==null){const g=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let S=g,E=x-1;S<E;S+=m){const T=y.getX(S),R=y.getX(S+1);if(u.fromBufferAttribute(A,T),d.fromBufferAttribute(A,R),ix.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const B=e.ray.origin.distanceTo(p);B<e.near||B>e.far||t.push({distance:B,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),x=Math.min(A.count,o.start+o.count);for(let S=g,E=x-1;S<E;S+=m){if(u.fromBufferAttribute(A,S),d.fromBufferAttribute(A,S+1),ix.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(p);R<e.near||R>e.far||t.push({distance:R,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const LC=new F,IC=new F;class is extends so{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)LC.fromBufferAttribute(t,r),IC.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+LC.distanceTo(IC);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class TS extends so{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class D0 extends Pn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const DC=new lt,y1=new qd,dm=new ns,hm=new F;class CS extends Bt{constructor(e=new mt,t=new D0){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),dm.copy(i.boundingSphere),dm.applyMatrix4(r),dm.radius+=s,e.ray.intersectsSphere(dm)===!1)return;DC.copy(r).invert(),y1.copy(e.ray).applyMatrix4(DC);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=i.index,h=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let y=p,M=m;y<M;y++){const A=u.getX(y);hm.fromBufferAttribute(h,A),FC(hm,A,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,M=m;y<M;y++)hm.fromBufferAttribute(h,y),FC(hm,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function FC(n,e,t,i,r,s,o){const a=y1.distanceSqToPoint(n);if(a<t){const l=new F;y1.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class nV extends sn{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ln,this.magFilter=s!==void 0?s:ln,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class iV extends sn{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=vn,this.minFilter=vn,this.generateMipmaps=!1,this.needsUpdate=!0}}class bS extends sn{constructor(e,t,i,r,s,o,a,l,u,d,h,p){super(null,o,a,l,u,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class rV extends bS{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=qn}}class sV extends sn{constructor(e,t,i,r,s,o,a,l,u){super(e,t,i,r,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class rs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-o,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new ye:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new F,r=[],s=[],o=[],a=new F,l=new lt;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new F)}s[0]=new F,o[0]=new F;let u=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=u&&(u=d,i.set(1,0,0)),h<=u&&(u=h,i.set(0,1,0)),p<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(xn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(xn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class F0 extends rs{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new ye,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*d-m*h+this.aX,u=p*h+m*d+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class qL extends F0{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function RS(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){r(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,d,h){let p=(o-s)/u-(a-s)/(u+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const pm=new F,rx=new RS,sx=new RS,ox=new RS;class $L extends rs{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new F){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,d;this.closed||a>0?u=r[(a-1)%s]:(pm.subVectors(r[0],r[1]).add(r[0]),u=pm);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(pm.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=pm),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(h),m),M=Math.pow(h.distanceToSquared(p),m),A=Math.pow(p.distanceToSquared(d),m);M<1e-4&&(M=1),y<1e-4&&(y=M),A<1e-4&&(A=M),rx.initNonuniformCatmullRom(u.x,h.x,p.x,d.x,y,M,A),sx.initNonuniformCatmullRom(u.y,h.y,p.y,d.y,y,M,A),ox.initNonuniformCatmullRom(u.z,h.z,p.z,d.z,y,M,A)}else this.curveType==="catmullrom"&&(rx.initCatmullRom(u.x,h.x,p.x,d.x,this.tension),sx.initCatmullRom(u.y,h.y,p.y,d.y,this.tension),ox.initCatmullRom(u.z,h.z,p.z,d.z,this.tension));return i.set(rx.calc(l),sx.calc(l),ox.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new F().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function NC(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function oV(n,e){const t=1-n;return t*t*e}function aV(n,e){return 2*(1-n)*n*e}function lV(n,e){return n*n*e}function Zf(n,e,t,i){return oV(n,e)+aV(n,t)+lV(n,i)}function cV(n,e){const t=1-n;return t*t*t*e}function uV(n,e){const t=1-n;return 3*t*t*n*e}function fV(n,e){return 3*(1-n)*n*n*e}function dV(n,e){return n*n*n*e}function qf(n,e,t,i,r){return cV(n,e)+uV(n,t)+fV(n,i)+dV(n,r)}class PS extends rs{constructor(e=new ye,t=new ye,i=new ye,r=new ye){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ye){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(qf(e,r.x,s.x,o.x,a.x),qf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eI extends rs{constructor(e=new F,t=new F,i=new F,r=new F){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(qf(e,r.x,s.x,o.x,a.x),qf(e,r.y,s.y,o.y,a.y),qf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class N0 extends rs{constructor(e=new ye,t=new ye){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ye){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ye){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tI extends rs{constructor(e=new F,t=new F){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new F){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new F){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BS extends rs{constructor(e=new ye,t=new ye,i=new ye){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ye){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Zf(e,r.x,s.x,o.x),Zf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LS extends rs{constructor(e=new F,t=new F,i=new F){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Zf(e,r.x,s.x,o.x),Zf(e,r.y,s.y,o.y),Zf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IS extends rs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ye){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],u=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(NC(a,l.x,u.x,d.x,h.x),NC(a,l.y,u.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ye().fromArray(r))}return this}}var DS=Object.freeze({__proto__:null,ArcCurve:qL,CatmullRomCurve3:$L,CubicBezierCurve:PS,CubicBezierCurve3:eI,EllipseCurve:F0,LineCurve:N0,LineCurve3:tI,QuadraticBezierCurve:BS,QuadraticBezierCurve3:LS,SplineCurve:IS});class nI extends rs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new N0(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const d=l[u];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new DS[r.type]().fromJSON(r))}return this}}class Bd extends nI{constructor(e){super(),this.type="Path",this.currentPoint=new ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new N0(this.currentPoint.clone(),new ye(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new BS(this.currentPoint.clone(),new ye(e,t),new ye(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new PS(this.currentPoint.clone(),new ye(e,t),new ye(i,r),new ye(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new IS(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const u=new F0(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Lu extends mt{constructor(e=[new ye(0,-.5),new ye(.5,0),new ye(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=xn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],d=1/t,h=new F,p=new ye,m=new F,y=new F,M=new F;let A=0,g=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:A=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-A,m.z=g*0,M.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(M.x,M.y,M.z);break;default:A=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-A,m.z=g*0,y.copy(m),m.x+=M.x,m.y+=M.y,m.z+=M.z,m.normalize(),l.push(m.x,m.y,m.z),M.copy(y)}for(let x=0;x<=t;x++){const S=i+x*d*r,E=Math.sin(S),T=Math.cos(S);for(let R=0;R<=e.length-1;R++){h.x=e[R].x*E,h.y=e[R].y,h.z=e[R].x*T,o.push(h.x,h.y,h.z),p.x=x/t,p.y=R/(e.length-1),a.push(p.x,p.y);const P=l[3*R+0]*E,B=l[3*R+1],b=l[3*R+0]*T;u.push(P,B,b)}}for(let x=0;x<t;x++)for(let S=0;S<e.length-1;S++){const E=S+x*e.length,T=E,R=E+e.length,P=E+e.length+1,B=E+1;s.push(T,R,B),s.push(P,B,R)}this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("uv",new Je(a,2)),this.setAttribute("normal",new Je(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lu(e.points,e.segments,e.phiStart,e.phiLength)}}class rh extends Lu{constructor(e=1,t=1,i=4,r=8){const s=new Bd;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new rh(e.radius,e.length,e.capSegments,e.radialSegments)}}class sh extends mt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new F,d=new ye;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("normal",new Je(a,3)),this.setAttribute("uv",new Je(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sh(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Pl extends mt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let y=0;const M=[],A=i/2;let g=0;x(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(d),this.setAttribute("position",new Je(h,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function x(){const E=new F,T=new F;let R=0;const P=(t-e)/i;for(let B=0;B<=s;B++){const b=[],L=B/s,U=L*(t-e)+e;for(let J=0;J<=r;J++){const G=J/r,K=G*l+a,j=Math.sin(K),se=Math.cos(K);T.x=U*j,T.y=-L*i+A,T.z=U*se,h.push(T.x,T.y,T.z),E.set(j,P,se).normalize(),p.push(E.x,E.y,E.z),m.push(G,1-L),b.push(y++)}M.push(b)}for(let B=0;B<r;B++)for(let b=0;b<s;b++){const L=M[b][B],U=M[b+1][B],J=M[b+1][B+1],G=M[b][B+1];d.push(L,U,G),d.push(U,J,G),R+=6}u.addGroup(g,R,0),g+=R}function S(E){const T=y,R=new ye,P=new F;let B=0;const b=E===!0?e:t,L=E===!0?1:-1;for(let J=1;J<=r;J++)h.push(0,A*L,0),p.push(0,L,0),m.push(.5,.5),y++;const U=y;for(let J=0;J<=r;J++){const K=J/r*l+a,j=Math.cos(K),se=Math.sin(K);P.x=b*se,P.y=A*L,P.z=b*j,h.push(P.x,P.y,P.z),p.push(0,L,0),R.x=j*.5+.5,R.y=se*.5*L+.5,m.push(R.x,R.y),y++}for(let J=0;J<r;J++){const G=T+J,K=U+J;E===!0?d.push(K,K+1,G):d.push(K+1,K,G),B+=3}u.addGroup(g,B,E===!0?1:2),g+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class oh extends Pl{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new oh(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fo extends mt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),u(i),d(),this.setAttribute("position",new Je(s,3)),this.setAttribute("normal",new Je(s.slice(),3)),this.setAttribute("uv",new Je(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const S=new F,E=new F,T=new F;for(let R=0;R<t.length;R+=3)m(t[R+0],S),m(t[R+1],E),m(t[R+2],T),l(S,E,T,x)}function l(x,S,E,T){const R=T+1,P=[];for(let B=0;B<=R;B++){P[B]=[];const b=x.clone().lerp(E,B/R),L=S.clone().lerp(E,B/R),U=R-B;for(let J=0;J<=U;J++)J===0&&B===R?P[B][J]=b:P[B][J]=b.clone().lerp(L,J/U)}for(let B=0;B<R;B++)for(let b=0;b<2*(R-B)-1;b++){const L=Math.floor(b/2);b%2===0?(p(P[B][L+1]),p(P[B+1][L]),p(P[B][L])):(p(P[B][L+1]),p(P[B+1][L+1]),p(P[B+1][L]))}}function u(x){const S=new F;for(let E=0;E<s.length;E+=3)S.x=s[E+0],S.y=s[E+1],S.z=s[E+2],S.normalize().multiplyScalar(x),s[E+0]=S.x,s[E+1]=S.y,s[E+2]=S.z}function d(){const x=new F;for(let S=0;S<s.length;S+=3){x.x=s[S+0],x.y=s[S+1],x.z=s[S+2];const E=A(x)/2/Math.PI+.5,T=g(x)/Math.PI+.5;o.push(E,1-T)}y(),h()}function h(){for(let x=0;x<o.length;x+=6){const S=o[x+0],E=o[x+2],T=o[x+4],R=Math.max(S,E,T),P=Math.min(S,E,T);R>.9&&P<.1&&(S<.2&&(o[x+0]+=1),E<.2&&(o[x+2]+=1),T<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,S){const E=x*3;S.x=e[E+0],S.y=e[E+1],S.z=e[E+2]}function y(){const x=new F,S=new F,E=new F,T=new F,R=new ye,P=new ye,B=new ye;for(let b=0,L=0;b<s.length;b+=9,L+=6){x.set(s[b+0],s[b+1],s[b+2]),S.set(s[b+3],s[b+4],s[b+5]),E.set(s[b+6],s[b+7],s[b+8]),R.set(o[L+0],o[L+1]),P.set(o[L+2],o[L+3]),B.set(o[L+4],o[L+5]),T.copy(x).add(S).add(E).divideScalar(3);const U=A(T);M(R,L+0,x,U),M(P,L+2,S,U),M(B,L+4,E,U)}}function M(x,S,E,T){T<0&&x.x===1&&(o[S]=x.x-1),E.x===0&&E.z===0&&(o[S]=T/2/Math.PI+.5)}function A(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fo(e.vertices,e.indices,e.radius,e.details)}}class ah extends fo{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ah(e.radius,e.detail)}}const mm=new F,gm=new F,ax=new F,vm=new Li;class iI extends mt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(dl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:M,b:A,c:g}=vm;if(M.fromBufferAttribute(a,u[0]),A.fromBufferAttribute(a,u[1]),g.fromBufferAttribute(a,u[2]),vm.getNormal(ax),h[0]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,h[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,h[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let x=0;x<3;x++){const S=(x+1)%3,E=h[x],T=h[S],R=vm[d[x]],P=vm[d[S]],B=`${E}_${T}`,b=`${T}_${E}`;b in p&&p[b]?(ax.dot(p[b].normal)<=s&&(m.push(R.x,R.y,R.z),m.push(P.x,P.y,P.z)),p[b]=null):B in p||(p[B]={index0:u[x],index1:u[S],normal:ax.clone()})}}for(const y in p)if(p[y]){const{index0:M,index1:A}=p[y];mm.fromBufferAttribute(a,M),gm.fromBufferAttribute(a,A),m.push(mm.x,mm.y,mm.z),m.push(gm.x,gm.y,gm.z)}this.setAttribute("position",new Je(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class pl extends Bd{constructor(e){super(e),this.uuid=$i(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Bd().fromJSON(r))}return this}}const hV={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=rI(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,d,h,p,m;if(i&&(s=yV(n,e,s,t)),n.length>80*t){a=u=n[0],l=d=n[1];for(let y=t;y<r;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p);m=Math.max(u-a,d-l),m=m!==0?32767/m:0}return Ld(s,o,t,a,l,m,0),o}};function rI(n,e,t,i,r){let s,o;if(r===RV(n,e,t,i)>0)for(s=e;s<t;s+=i)o=OC(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=OC(s,n[s],n[s+1],o);return o&&O0(o,o.next)&&(Dd(o),o=o.next),o}function Sl(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(O0(t,t.next)||cn(t.prev,t,t.next)===0)){if(Dd(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Ld(n,e,t,i,r,s,o){if(!n)return;!o&&s&&MV(n,i,r,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?mV(n,i,r,s):pV(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),Dd(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=gV(Sl(n),e,t),Ld(n,e,t,i,r,s,2)):o===2&&vV(n,e,t,i,r,s):Ld(Sl(n),e,t,i,r,s,1);break}}}function pV(n){const e=n.prev,t=n,i=n.next;if(cn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,u=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=m&&Oc(r,a,s,l,o,u,y.x,y.y)&&cn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function mV(n,e,t,i){const r=n.prev,s=n,o=n.next;if(cn(r,s,o)>=0)return!1;const a=r.x,l=s.x,u=o.x,d=r.y,h=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,y=d<h?d<p?d:p:h<p?h:p,M=a>l?a>u?a:u:l>u?l:u,A=d>h?d>p?d:p:h>p?h:p,g=x1(m,y,e,t,i),x=x1(M,A,e,t,i);let S=n.prevZ,E=n.nextZ;for(;S&&S.z>=g&&E&&E.z<=x;){if(S.x>=m&&S.x<=M&&S.y>=y&&S.y<=A&&S!==r&&S!==o&&Oc(a,d,l,h,u,p,S.x,S.y)&&cn(S.prev,S,S.next)>=0||(S=S.prevZ,E.x>=m&&E.x<=M&&E.y>=y&&E.y<=A&&E!==r&&E!==o&&Oc(a,d,l,h,u,p,E.x,E.y)&&cn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=M&&S.y>=y&&S.y<=A&&S!==r&&S!==o&&Oc(a,d,l,h,u,p,S.x,S.y)&&cn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;E&&E.z<=x;){if(E.x>=m&&E.x<=M&&E.y>=y&&E.y<=A&&E!==r&&E!==o&&Oc(a,d,l,h,u,p,E.x,E.y)&&cn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function gV(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!O0(r,s)&&sI(r,i,i.next,s)&&Id(r,s)&&Id(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Dd(i),Dd(i.next),i=n=s),i=i.next}while(i!==n);return Sl(i)}function vV(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&TV(o,a)){let l=oI(o,a);o=Sl(o,o.next),l=Sl(l,l.next),Ld(o,e,t,i,r,s,0),Ld(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function yV(n,e,t,i){const r=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,u=rI(n,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(wV(u));for(r.sort(xV),s=0;s<r.length;s++)t=_V(r[s],t);return t}function xV(n,e){return n.x-e.x}function _V(n,e){const t=AV(n,e);if(!t)return e;const i=oI(t,n);return Sl(i,i.next),Sl(t,t.next)}function AV(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Oc(o<u?s:i,o,l,u,o<u?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Id(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&SV(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function SV(n,e){return cn(n.prev,n,e.prev)<0&&cn(e.next,n,n.next)<0}function MV(n,e,t,i){let r=n;do r.z===0&&(r.z=x1(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,EV(r)}function EV(n){let e,t,i,r,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,u*=2}while(o>1);return n}function x1(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function wV(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Oc(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function TV(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!CV(n,e)&&(Id(n,e)&&Id(e,n)&&bV(n,e)&&(cn(n.prev,n,e.prev)||cn(n,e.prev,e))||O0(n,e)&&cn(n.prev,n,n.next)>0&&cn(e.prev,e,e.next)>0)}function cn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function O0(n,e){return n.x===e.x&&n.y===e.y}function sI(n,e,t,i){const r=xm(cn(n,e,t)),s=xm(cn(n,e,i)),o=xm(cn(t,i,n)),a=xm(cn(t,i,e));return!!(r!==s&&o!==a||r===0&&ym(n,t,e)||s===0&&ym(n,i,e)||o===0&&ym(t,n,i)||a===0&&ym(t,e,i))}function ym(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function xm(n){return n>0?1:n<0?-1:0}function CV(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&sI(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Id(n,e){return cn(n.prev,n,n.next)<0?cn(n,e,n.next)>=0&&cn(n,n.prev,e)>=0:cn(n,e,n.prev)<0||cn(n,n.next,e)<0}function bV(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function oI(n,e){const t=new _1(n.i,n.x,n.y),i=new _1(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function OC(n,e,t,i){const r=new _1(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Dd(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function _1(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function RV(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class As{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return As.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];kC(e),UC(i,e);let o=e.length;t.forEach(kC);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,UC(i,t[l]);const a=hV.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function kC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function UC(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class lh extends mt{constructor(e=new pl([new ye(.5,.5),new ye(-.5,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Je(r,3)),this.setAttribute("uv",new Je(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,M=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:PV;let S,E=!1,T,R,P,B;g&&(S=g.getSpacedPoints(d),E=!0,p=!1,T=g.computeFrenetFrames(d,!1),R=new F,P=new F,B=new F),p||(A=0,m=0,y=0,M=0);const b=a.extractPoints(u);let L=b.shape;const U=b.holes;if(!As.isClockWise(L)){L=L.reverse();for(let ge=0,ae=U.length;ge<ae;ge++){const Ae=U[ge];As.isClockWise(Ae)&&(U[ge]=Ae.reverse())}}const G=As.triangulateShape(L,U),K=L;for(let ge=0,ae=U.length;ge<ae;ge++){const Ae=U[ge];L=L.concat(Ae)}function j(ge,ae,Ae){return ae||console.error("THREE.ExtrudeGeometry: vec does not exist"),ge.clone().addScaledVector(ae,Ae)}const se=L.length,te=G.length;function I(ge,ae,Ae){let Ne,Le,We;const Qe=ge.x-ae.x,je=ge.y-ae.y,st=Ae.x-ge.x,Mt=Ae.y-ge.y,k=Qe*Qe+je*je,D=Qe*Mt-je*st;if(Math.abs(D)>Number.EPSILON){const le=Math.sqrt(k),Te=Math.sqrt(st*st+Mt*Mt),Ce=ae.x-je/le,Be=ae.y+Qe/le,nt=Ae.x-Mt/Te,ke=Ae.y+st/Te,pe=((nt-Ce)*Mt-(ke-Be)*st)/(Qe*Mt-je*st);Ne=Ce+Qe*pe-ge.x,Le=Be+je*pe-ge.y;const Ve=Ne*Ne+Le*Le;if(Ve<=2)return new ye(Ne,Le);We=Math.sqrt(Ve/2)}else{let le=!1;Qe>Number.EPSILON?st>Number.EPSILON&&(le=!0):Qe<-Number.EPSILON?st<-Number.EPSILON&&(le=!0):Math.sign(je)===Math.sign(Mt)&&(le=!0),le?(Ne=-je,Le=Qe,We=Math.sqrt(k)):(Ne=Qe,Le=je,We=Math.sqrt(k/2))}return new ye(Ne/We,Le/We)}const H=[];for(let ge=0,ae=K.length,Ae=ae-1,Ne=ge+1;ge<ae;ge++,Ae++,Ne++)Ae===ae&&(Ae=0),Ne===ae&&(Ne=0),H[ge]=I(K[ge],K[Ae],K[Ne]);const z=[];let $,Q=H.concat();for(let ge=0,ae=U.length;ge<ae;ge++){const Ae=U[ge];$=[];for(let Ne=0,Le=Ae.length,We=Le-1,Qe=Ne+1;Ne<Le;Ne++,We++,Qe++)We===Le&&(We=0),Qe===Le&&(Qe=0),$[Ne]=I(Ae[Ne],Ae[We],Ae[Qe]);z.push($),Q=Q.concat($)}for(let ge=0;ge<A;ge++){const ae=ge/A,Ae=m*Math.cos(ae*Math.PI/2),Ne=y*Math.sin(ae*Math.PI/2)+M;for(let Le=0,We=K.length;Le<We;Le++){const Qe=j(K[Le],H[Le],Ne);V(Qe.x,Qe.y,-Ae)}for(let Le=0,We=U.length;Le<We;Le++){const Qe=U[Le];$=z[Le];for(let je=0,st=Qe.length;je<st;je++){const Mt=j(Qe[je],$[je],Ne);V(Mt.x,Mt.y,-Ae)}}}const ee=y+M;for(let ge=0;ge<se;ge++){const ae=p?j(L[ge],Q[ge],ee):L[ge];E?(P.copy(T.normals[0]).multiplyScalar(ae.x),R.copy(T.binormals[0]).multiplyScalar(ae.y),B.copy(S[0]).add(P).add(R),V(B.x,B.y,B.z)):V(ae.x,ae.y,0)}for(let ge=1;ge<=d;ge++)for(let ae=0;ae<se;ae++){const Ae=p?j(L[ae],Q[ae],ee):L[ae];E?(P.copy(T.normals[ge]).multiplyScalar(Ae.x),R.copy(T.binormals[ge]).multiplyScalar(Ae.y),B.copy(S[ge]).add(P).add(R),V(B.x,B.y,B.z)):V(Ae.x,Ae.y,h/d*ge)}for(let ge=A-1;ge>=0;ge--){const ae=ge/A,Ae=m*Math.cos(ae*Math.PI/2),Ne=y*Math.sin(ae*Math.PI/2)+M;for(let Le=0,We=K.length;Le<We;Le++){const Qe=j(K[Le],H[Le],Ne);V(Qe.x,Qe.y,h+Ae)}for(let Le=0,We=U.length;Le<We;Le++){const Qe=U[Le];$=z[Le];for(let je=0,st=Qe.length;je<st;je++){const Mt=j(Qe[je],$[je],Ne);E?V(Mt.x,Mt.y+S[d-1].y,S[d-1].x+Ae):V(Mt.x,Mt.y,h+Ae)}}}ie(),we();function ie(){const ge=r.length/3;if(p){let ae=0,Ae=se*ae;for(let Ne=0;Ne<te;Ne++){const Le=G[Ne];Xe(Le[2]+Ae,Le[1]+Ae,Le[0]+Ae)}ae=d+A*2,Ae=se*ae;for(let Ne=0;Ne<te;Ne++){const Le=G[Ne];Xe(Le[0]+Ae,Le[1]+Ae,Le[2]+Ae)}}else{for(let ae=0;ae<te;ae++){const Ae=G[ae];Xe(Ae[2],Ae[1],Ae[0])}for(let ae=0;ae<te;ae++){const Ae=G[ae];Xe(Ae[0]+se*d,Ae[1]+se*d,Ae[2]+se*d)}}i.addGroup(ge,r.length/3-ge,0)}function we(){const ge=r.length/3;let ae=0;xe(K,ae),ae+=K.length;for(let Ae=0,Ne=U.length;Ae<Ne;Ae++){const Le=U[Ae];xe(Le,ae),ae+=Le.length}i.addGroup(ge,r.length/3-ge,1)}function xe(ge,ae){let Ae=ge.length;for(;--Ae>=0;){const Ne=Ae;let Le=Ae-1;Le<0&&(Le=ge.length-1);for(let We=0,Qe=d+A*2;We<Qe;We++){const je=se*We,st=se*(We+1),Mt=ae+Ne+je,k=ae+Le+je,D=ae+Le+st,le=ae+Ne+st;Ke(Mt,k,D,le)}}}function V(ge,ae,Ae){l.push(ge),l.push(ae),l.push(Ae)}function Xe(ge,ae,Ae){_e(ge),_e(ae),_e(Ae);const Ne=r.length/3,Le=x.generateTopUV(i,r,Ne-3,Ne-2,Ne-1);Ee(Le[0]),Ee(Le[1]),Ee(Le[2])}function Ke(ge,ae,Ae,Ne){_e(ge),_e(ae),_e(Ne),_e(ae),_e(Ae),_e(Ne);const Le=r.length/3,We=x.generateSideWallUV(i,r,Le-6,Le-3,Le-2,Le-1);Ee(We[0]),Ee(We[1]),Ee(We[3]),Ee(We[1]),Ee(We[2]),Ee(We[3])}function _e(ge){r.push(l[ge*3+0]),r.push(l[ge*3+1]),r.push(l[ge*3+2])}function Ee(ge){s.push(ge.x),s.push(ge.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return BV(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new DS[r.type]().fromJSON(r)),new lh(i,e.options)}}const PV={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],d=e[r*3+1];return[new ye(s,o),new ye(a,l),new ye(u,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],M=e[s*3],A=e[s*3+1],g=e[s*3+2];return Math.abs(a-d)<Math.abs(o-u)?[new ye(o,1-l),new ye(u,1-h),new ye(p,1-y),new ye(M,1-g)]:[new ye(a,1-l),new ye(d,1-h),new ye(m,1-y),new ye(A,1-g)]}};function BV(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class ch extends fo{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ch(e.radius,e.detail)}}class Iu extends fo{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Iu(e.radius,e.detail)}}class uh extends mt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],d=[];let h=e;const p=(t-e)/r,m=new F,y=new ye;for(let M=0;M<=r;M++){for(let A=0;A<=i;A++){const g=s+A/i*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,d.push(y.x,y.y)}h+=p}for(let M=0;M<r;M++){const A=M*(i+1);for(let g=0;g<i;g++){const x=g+A,S=x,E=x+i+1,T=x+i+2,R=x+1;a.push(S,E,R),a.push(E,T,R)}}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(u,3)),this.setAttribute("uv",new Je(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uh(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class fh extends mt{constructor(e=new pl([new ye(0,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Je(r,3)),this.setAttribute("normal",new Je(s,3)),this.setAttribute("uv",new Je(o,2));function u(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const y=p.holes;As.isClockWise(m)===!1&&(m=m.reverse());for(let A=0,g=y.length;A<g;A++){const x=y[A];As.isClockWise(x)===!0&&(y[A]=x.reverse())}const M=As.triangulateShape(m,y);for(let A=0,g=y.length;A<g;A++){const x=y[A];m=m.concat(x)}for(let A=0,g=m.length;A<g;A++){const x=m[A];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let A=0,g=M.length;A<g;A++){const x=M[A],S=x[0]+h,E=x[1]+h,T=x[2]+h;i.push(S,E,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return LV(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new fh(i,e.curveSegments)}}function LV(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Du extends mt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let u=0;const d=[],h=new F,p=new F,m=[],y=[],M=[],A=[];for(let g=0;g<=i;g++){const x=[],S=g/i;let E=0;g===0&&o===0?E=.5/t:g===i&&l===Math.PI&&(E=-.5/t);for(let T=0;T<=t;T++){const R=T/t;h.x=-e*Math.cos(r+R*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(r+R*s)*Math.sin(o+S*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),M.push(p.x,p.y,p.z),A.push(R+E,1-S),x.push(u++)}d.push(x)}for(let g=0;g<i;g++)for(let x=0;x<t;x++){const S=d[g][x+1],E=d[g][x],T=d[g+1][x],R=d[g+1][x+1];(g!==0||o>0)&&m.push(S,E,R),(g!==i-1||l<Math.PI)&&m.push(E,T,R)}this.setIndex(m),this.setAttribute("position",new Je(y,3)),this.setAttribute("normal",new Je(M,3)),this.setAttribute("uv",new Je(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Du(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class dh extends fo{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dh(e.radius,e.detail)}}class hh extends mt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],u=[],d=new F,h=new F,p=new F;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const M=y/r*s,A=m/i*Math.PI*2;h.x=(e+t*Math.cos(A))*Math.cos(M),h.y=(e+t*Math.cos(A))*Math.sin(M),h.z=t*Math.sin(A),a.push(h.x,h.y,h.z),d.x=e*Math.cos(M),d.y=e*Math.sin(M),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),u.push(y/r),u.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const M=(r+1)*m+y-1,A=(r+1)*(m-1)+y-1,g=(r+1)*(m-1)+y,x=(r+1)*m+y;o.push(M,A,x),o.push(A,g,x)}this.setIndex(o),this.setAttribute("position",new Je(a,3)),this.setAttribute("normal",new Je(l,3)),this.setAttribute("uv",new Je(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hh(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ph extends mt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],d=[],h=new F,p=new F,m=new F,y=new F,M=new F,A=new F,g=new F;for(let S=0;S<=i;++S){const E=S/i*s*Math.PI*2;x(E,s,o,e,m),x(E+.01,s,o,e,y),A.subVectors(y,m),g.addVectors(y,m),M.crossVectors(A,g),g.crossVectors(M,A),M.normalize(),g.normalize();for(let T=0;T<=r;++T){const R=T/r*Math.PI*2,P=-t*Math.cos(R),B=t*Math.sin(R);h.x=m.x+(P*g.x+B*M.x),h.y=m.y+(P*g.y+B*M.y),h.z=m.z+(P*g.z+B*M.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),d.push(S/i),d.push(T/r)}}for(let S=1;S<=i;S++)for(let E=1;E<=r;E++){const T=(r+1)*(S-1)+(E-1),R=(r+1)*S+(E-1),P=(r+1)*S+E,B=(r+1)*(S-1)+E;a.push(T,R,B),a.push(R,P,B)}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(u,3)),this.setAttribute("uv",new Je(d,2));function x(S,E,T,R,P){const B=Math.cos(S),b=Math.sin(S),L=T/E*S,U=Math.cos(L);P.x=R*(2+U)*.5*B,P.y=R*(2+U)*b*.5,P.z=R*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ph(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class mh extends mt{constructor(e=new LS(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,u=new ye;let d=new F;const h=[],p=[],m=[],y=[];M(),this.setIndex(y),this.setAttribute("position",new Je(h,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function M(){for(let S=0;S<t;S++)A(S);A(s===!1?t:0),x(),g()}function A(S){d=e.getPointAt(S/t,d);const E=o.normals[S],T=o.binormals[S];for(let R=0;R<=r;R++){const P=R/r*Math.PI*2,B=Math.sin(P),b=-Math.cos(P);l.x=b*E.x+B*T.x,l.y=b*E.y+B*T.y,l.z=b*E.z+B*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let E=1;E<=r;E++){const T=(r+1)*(S-1)+(E-1),R=(r+1)*S+(E-1),P=(r+1)*S+E,B=(r+1)*(S-1)+E;y.push(T,R,B),y.push(R,P,B)}}function x(){for(let S=0;S<=t;S++)for(let E=0;E<=r;E++)u.x=S/t,u.y=E/r,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new mh(new DS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class aI extends mt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const h=l[u],p=h.start,m=h.count;for(let y=p,M=p+m;y<M;y+=3)for(let A=0;A<3;A++){const g=a.getX(y+A),x=a.getX(y+(A+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,x),zC(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const d=3*a+u,h=3*a+(u+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),zC(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Je(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function zC(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var HC=Object.freeze({__proto__:null,BoxGeometry:_a,CapsuleGeometry:rh,CircleGeometry:sh,ConeGeometry:oh,CylinderGeometry:Pl,DodecahedronGeometry:ah,EdgesGeometry:iI,ExtrudeGeometry:lh,IcosahedronGeometry:ch,LatheGeometry:Lu,OctahedronGeometry:Iu,PlaneGeometry:Pu,PolyhedronGeometry:fo,RingGeometry:uh,ShapeGeometry:fh,SphereGeometry:Du,TetrahedronGeometry:dh,TorusGeometry:hh,TorusKnotGeometry:ph,TubeGeometry:mh,WireframeGeometry:aI});class lI extends Pn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new De(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class cI extends ws{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class gh extends Pn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new De(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xa,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ho extends gh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new De(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new De(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new De(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class uI extends Pn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new De(16777215),this.specular=new De(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xa,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Zd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fI extends Pn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new De(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xa,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class dI extends Pn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xa,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class hI extends Pn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xa,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Zd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pI extends Pn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new De(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xa,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mI extends hi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ar(n,e,t){return FS(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function rl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function FS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function gI(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function A1(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function NS(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function IV(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*r;if(!(y<t||y>=i)){h.push(u.times[m]);for(let M=0;M<d;++M)p.push(u.values[m*d+M])}}h.length!==0&&(u.times=rl(h,u.times.constructor),u.values=rl(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function DV(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(u===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let M;if(s<=a.times[0]){const g=d,x=h-d;M=Ar(a.values,g,x)}else if(s>=a.times[y]){const g=y*h+d,x=g+h-d;M=Ar(a.values,g,x)}else{const g=a.createInterpolant(),x=d,S=h-d;g.evaluate(s),M=Ar(g.resultBuffer,x,S)}l==="quaternion"&&new Jn().fromArray(M).normalize().conjugate().toArray(M);const A=u.times.length;for(let g=0;g<A;++g){const x=g*m+p;if(l==="quaternion")Jn.multiplyQuaternionsFlat(u.values,x,M,0,u.values,x);else{const S=m-p*2;for(let E=0;E<S;++E)u.values[x+E]-=M[E]}}}return n.blendMode=lS,n}const FV={arraySlice:Ar,convertArray:rl,isTypedArray:FS,getKeyframeOrder:gI,sortedArray:A1,flattenJSON:NS,subclip:IV,makeClipAdditive:DV};class Fu{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class vI extends Fu{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:tl,endingEnd:tl}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case nl:s=e,a=2*t-i;break;case bd:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case nl:o=e,l=2*i-t;break;case bd:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const u=(i-t)*.5,d=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),M=y*y,A=M*y,g=-p*A+2*p*M-p*y,x=(1+p)*A+(-1.5-2*p)*M+(-.5+p)*y+1,S=(-1-m)*A+(1.5+m)*M+.5*y,E=m*A-m*M;for(let T=0;T!==a;++T)s[T]=g*o[d+T]+x*o[u+T]+S*o[l+T]+E*o[h+T];return s}}class OS extends Fu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*d;return s}}class yI extends Fu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ss{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=rl(t,this.TimeBufferType),this.values=rl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:rl(e.times,Array),values:rl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new yI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new OS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vI(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case hu:t=this.InterpolantFactoryMethodDiscrete;break;case Al:t=this.InterpolantFactoryMethodLinear;break;case lg:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return hu;case this.InterpolantFactoryMethodLinear:return Al;case this.InterpolantFactoryMethodSmooth:return lg}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ar(i,s,o),this.values=Ar(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&FS(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Ar(this.times),t=Ar(this.values),i=this.getValueSize(),r=this.getInterpolation()===lg,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let y=0;y!==i;++y){const M=t[h+y];if(M!==t[p+y]||M!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,u=0;u!==i;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Ar(e,0,o),this.values=Ar(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Ar(this.times,0),t=Ar(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ss.prototype.TimeBufferType=Float32Array;ss.prototype.ValueBufferType=Float32Array;ss.prototype.DefaultInterpolation=Al;class Bl extends ss{}Bl.prototype.ValueTypeName="bool";Bl.prototype.ValueBufferType=Array;Bl.prototype.DefaultInterpolation=hu;Bl.prototype.InterpolantFactoryMethodLinear=void 0;Bl.prototype.InterpolantFactoryMethodSmooth=void 0;class kS extends ss{}kS.prototype.ValueTypeName="color";class vu extends ss{}vu.prototype.ValueTypeName="number";class xI extends Fu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let u=e*a;for(let d=u+a;u!==d;u+=4)Jn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class fa extends ss{InterpolantFactoryMethodLinear(e){return new xI(this.times,this.values,this.getValueSize(),e)}}fa.prototype.ValueTypeName="quaternion";fa.prototype.DefaultInterpolation=Al;fa.prototype.InterpolantFactoryMethodSmooth=void 0;class Ll extends ss{}Ll.prototype.ValueTypeName="string";Ll.prototype.ValueBufferType=Array;Ll.prototype.DefaultInterpolation=hu;Ll.prototype.InterpolantFactoryMethodLinear=void 0;Ll.prototype.InterpolantFactoryMethodSmooth=void 0;class yu extends ss{}yu.prototype.ValueTypeName="vector";class xu{constructor(e,t=-1,i,r=C0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=$i(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(OV(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(ss.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const d=gI(l);l=A1(l,1,d),u=A1(u,1,d),!r&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new vu(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(u)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,y,M){if(m.length!==0){const A=[],g=[];NS(m,A,g,y),A.length!==0&&M.push(new h(p,A,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let M=0;M<p[y].morphTargets.length;M++)m[p[y].morphTargets[M]]=-1;for(const M in m){const A=[],g=[];for(let x=0;x!==p[y].morphTargets.length;++x){const S=p[y];A.push(S.time),g.push(S.morphTarget===M?1:0)}r.push(new vu(".morphTargetInfluence["+M+"]",A,g))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(yu,m+".position",p,"pos",r),i(fa,m+".quaternion",p,"rot",r),i(yu,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function NV(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vu;case"vector":case"vector2":case"vector3":case"vector4":return yu;case"color":return kS;case"quaternion":return fa;case"bool":case"boolean":return Bl;case"string":return Ll}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function OV(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=NV(n.type);if(n.times===void 0){const t=[],i=[];NS(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ml={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class US{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],y=u[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const kc=new US;let wi=class{constructor(e){this.manager=e!==void 0?e:kc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const zs={};class kV extends Error{constructor(e,t){super(e),this.response=t}}class nr extends wi{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ml.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(zs[e]!==void 0){zs[e].push({onLoad:t,onProgress:i,onError:r});return}zs[e]=[],zs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=zs[e],h=u.body.getReader(),p=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let M=0;const A=new ReadableStream({start(g){x();function x(){h.read().then(({done:S,value:E})=>{if(S)g.close();else{M+=E.byteLength;const T=new ProgressEvent("progress",{lengthComputable:y,loaded:M,total:m});for(let R=0,P=d.length;R<P;R++){const B=d[R];B.onProgress&&B.onProgress(T)}g.enqueue(E),x()}})}}});return new Response(A)}else throw new kV(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{Ml.add(e,u);const d=zs[e];delete zs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=zs[e];if(d===void 0)throw this.manager.itemError(e),u;delete zs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class UV extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new nr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=xu.parse(e[i]);t.push(r)}return t}}class zV extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new bS,l=new nr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=ln),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let M=0;M<p.mipmapCount;M++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+M]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=ln),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Fd extends wi{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ml.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Pd("img");function l(){d(),Ml.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class HV extends wi{constructor(e){super(e)}load(e,t,i,r){const s=new th,o=new Fd(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(d){s.images[u]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class GV extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new eu,a=new nr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:qn,o.wrapT=u.wrapT!==void 0?u.wrapT:qn,o.magFilter=u.magFilter!==void 0?u.magFilter:ln,o.minFilter=u.minFilter!==void 0?u.minFilter:ln,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Es),u.mipmapCount===1&&(o.minFilter=ln),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},i,r),o}}class _I extends wi{constructor(e){super(e)}load(e,t,i,r){const s=new sn,o=new Fd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Aa extends Bt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new De(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class AI extends Aa{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new De(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const lx=new lt,GC=new F,VC=new F;class zS{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ye(512,512),this.map=null,this.mapPass=null,this.matrix=new lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new R0,this._frameExtents=new ye(1,1),this._viewportCount=1,this._viewports=[new Ht(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;GC.setFromMatrixPosition(e.matrixWorld),t.position.copy(GC),VC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(VC),t.updateMatrixWorld(),lx.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lx),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(lx)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class VV extends zS{constructor(){super(new Xt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=pu*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class HS extends Aa{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new VV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const WC=new lt,Af=new F,cx=new F;class WV extends zS{constructor(){super(new Xt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ye(4,2),this._viewportCount=6,this._viewports=[new Ht(2,1,1,1),new Ht(0,1,1,1),new Ht(3,1,1,1),new Ht(1,1,1,1),new Ht(3,0,1,1),new Ht(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Af.setFromMatrixPosition(e.matrixWorld),i.position.copy(Af),cx.copy(i.position),cx.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(cx),i.updateMatrixWorld(),r.makeTranslation(-Af.x,-Af.y,-Af.z),WC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WC)}}class GS extends Aa{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new WV}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class jV extends zS{constructor(){super(new Zr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class VS extends Aa{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bt.DEFAULT_UP),this.updateMatrix(),this.target=new Bt,this.shadow=new jV}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class SI extends Aa{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class MI extends Aa{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class EI{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class k0 extends Aa{constructor(e=new EI,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class U0 extends wi{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new nr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=U0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new De().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new De().setHex(o.value);break;case"v2":r.uniforms[s].value=new ye().fromArray(o.value);break;case"v3":r.uniforms[s].value=new F().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Ht().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Ct().fromArray(o.value);break;case"m4":r.uniforms[s].value=new lt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ye().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ye().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:lI,SpriteMaterial:MS,RawShaderMaterial:cI,ShaderMaterial:ws,PointsMaterial:D0,MeshPhysicalMaterial:ho,MeshStandardMaterial:gh,MeshPhongMaterial:uI,MeshToonMaterial:fI,MeshNormalMaterial:dI,MeshLambertMaterial:hI,MeshDepthMaterial:_S,MeshDistanceMaterial:AS,MeshBasicMaterial:Yi,MeshMatcapMaterial:pI,LineDashedMaterial:mI,LineBasicMaterial:hi,Material:Pn};return new t[e]}}class _u{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class wI extends mt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class TI extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new nr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const A=m.interleavedBuffers[y],g=s(m,A.buffer),x=Fc(A.type,g),S=new nh(x,A.stride);return S.uuid=A.uuid,t[y]=S,S}function s(m,y){if(i[y]!==void 0)return i[y];const A=m.arrayBuffers[y],g=new Uint32Array(A).buffer;return i[y]=g,g}const o=e.isInstancedBufferGeometry?new wI:new mt,a=e.data.index;if(a!==void 0){const m=Fc(a.type,a.array);o.setIndex(new Nt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let M;if(y.isInterleavedBufferAttribute){const A=r(e.data,y.data);M=new ua(A,y.itemSize,y.offset,y.normalized)}else{const A=Fc(y.type,y.array),g=y.isInstancedBufferAttribute?gu:Nt;M=new g(A,y.itemSize,y.normalized)}y.name!==void 0&&(M.name=y.name),y.usage!==void 0&&M.setUsage(y.usage),y.updateRange!==void 0&&(M.updateRange.offset=y.updateRange.offset,M.updateRange.count=y.updateRange.count),o.setAttribute(m,M)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],M=[];for(let A=0,g=y.length;A<g;A++){const x=y[A];let S;if(x.isInterleavedBufferAttribute){const E=r(e.data,x.data);S=new ua(E,x.itemSize,x.offset,x.normalized)}else{const E=Fc(x.type,x.array);S=new Nt(E,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),M.push(S)}o.morphAttributes[m]=M}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const M=h[m];o.addGroup(M.start,M.count,M.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new F;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new ns(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class XV extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?_u.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new nr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?_u.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new nr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new pl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new ih().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new TI;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in HC?a=HC[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new U0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=xu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return o(d)}else return l.data?{data:Fc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new US(t);s=new Fd(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,M=p.length;y<M;y++){const A=p[y],g=a(A);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new eu(g.data,g.width,g.height)))}r[h.uuid]=new il(m)}else{const m=a(h.url);r[h.uuid]=new il(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Fc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Fd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new eu(y.data,y.width,y.height)))}i[l.uuid]=new il(d)}else{const d=await s(l.url);i[l.uuid]=new il(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let d;Array.isArray(u)?(d=new th,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new eu:d=new sn,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,JV)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],jC),d.wrapT=i(a.wrap[1],jC)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,XC)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,XC)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,M=p.length;y<M;y++){const A=p[y];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),m.push(i[A])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function u(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new Gg,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new De(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new L0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new B0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Xt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Zr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new SI(e.color,e.intensity);break;case"DirectionalLight":o=new VS(e.color,e.intensity);break;case"PointLight":o=new GS(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new MI(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new HS(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new AI(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new k0().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new ES(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new jn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new wS(d,h,p),o.instanceMatrix=new gu(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new gu(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new ZL;break;case"Line":o=new so(a(e.geometry),l(e.material));break;case"LineLoop":o=new TS(a(e.geometry),l(e.material));break;case"LineSegments":o=new is(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new CS(a(e.geometry),l(e.material));break;case"Sprite":o=new QL(l(e.material));break;case"Group":o=new Ks;break;case"Bone":o=new I0;break;default:o=new Bt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],M=o.getObjectByProperty("uuid",y.object);M!==void 0&&o.addLevel(M,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const JV={UVMapping:w0,CubeReflectionMapping:aa,CubeRefractionMapping:la,EquirectangularReflectionMapping:wd,EquirectangularRefractionMapping:Td,CubeUVReflectionMapping:Ru},jC={RepeatWrapping:ca,ClampToEdgeWrapping:qn,MirroredRepeatWrapping:fu},XC={NearestFilter:vn,NearestMipmapNearestFilter:Cd,NearestMipmapLinearFilter:qc,LinearFilter:ln,LinearMipmapNearestFilter:T0,LinearMipmapLinearFilter:Es};class CI extends wi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ml.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Ml.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let _m;class WS{static getContext(){return _m===void 0&&(_m=new(window.AudioContext||window.webkitAudioContext)),_m}static setContext(e){_m=e}}class KV extends wi{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new nr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);WS.getContext().decodeAudioData(u,function(h){t(h)},a)}catch(u){a(u)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class YV extends k0{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new De().set(e),s=new De().set(t),o=new F(r.r,r.g,r.b),a=new F(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class QV extends k0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new De().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const JC=new lt,KC=new lt,Na=new lt;class ZV{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Na.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(dl*t.fov*.5)/t.zoom;let a,l;KC.elements[12]=-r,JC.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Na.elements[0]=2*t.near/(l-a),Na.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Na),a=-o*t.aspect-s,l=o*t.aspect-s,Na.elements[0]=2*t.near/(l-a),Na.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Na)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(KC),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(JC)}}class jS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=YC(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=YC();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function YC(){return(typeof performance>"u"?Date:performance).now()}const Oa=new F,QC=new Jn,qV=new F,ka=new F;class $V extends Bt{constructor(){super(),this.type="AudioListener",this.context=WS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new jS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Oa,QC,qV),ka.set(0,0,-1).applyQuaternion(QC),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Oa.x,r),t.positionY.linearRampToValueAtTime(Oa.y,r),t.positionZ.linearRampToValueAtTime(Oa.z,r),t.forwardX.linearRampToValueAtTime(ka.x,r),t.forwardY.linearRampToValueAtTime(ka.y,r),t.forwardZ.linearRampToValueAtTime(ka.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Oa.x,Oa.y,Oa.z),t.setOrientation(ka.x,ka.y,ka.z,i.x,i.y,i.z)}}class bI extends Bt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ua=new F,ZC=new Jn,e9=new F,za=new F;class t9 extends bI{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ua,ZC,e9),za.set(0,0,1).applyQuaternion(ZC);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ua.x,i),t.positionY.linearRampToValueAtTime(Ua.y,i),t.positionZ.linearRampToValueAtTime(Ua.z,i),t.orientationX.linearRampToValueAtTime(za.x,i),t.orientationY.linearRampToValueAtTime(za.y,i),t.orientationZ.linearRampToValueAtTime(za.z,i)}else t.setPosition(Ua.x,Ua.y,Ua.z),t.setOrientation(za.x,za.y,za.z)}}class n9{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class RI{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Jn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Jn.multiplyQuaternionsFlat(e,o,e,t,e,i),Jn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const XS="\\[\\]\\.:\\/",i9=new RegExp("["+XS+"]","g"),JS="[^"+XS+"]",r9="[^"+XS.replace("\\.","")+"]",s9=/((?:WC+[\/:])*)/.source.replace("WC",JS),o9=/(WCOD+)?/.source.replace("WCOD",r9),a9=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",JS),l9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",JS),c9=new RegExp("^"+s9+o9+a9+l9+"$"),u9=["material","materials","bones","map"];class f9{constructor(e,t,i){const r=i||Rt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Rt{constructor(e,t,i){this.path=t,this.parsedPath=i||Rt.parseTrackName(t),this.node=Rt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Rt.Composite(e,t,i):new Rt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(i9,"")}static parseTrackName(e){const t=c9.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);u9.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Rt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[r];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rt.Composite=f9;Rt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rt.prototype.GetterByBindingType=[Rt.prototype._getValue_direct,Rt.prototype._getValue_array,Rt.prototype._getValue_arrayElement,Rt.prototype._getValue_toArray];Rt.prototype.SetterByBindingTypeAndVersioning=[[Rt.prototype._setValue_direct,Rt.prototype._setValue_direct_setNeedsUpdate,Rt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_array,Rt.prototype._setValue_array_setNeedsUpdate,Rt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_arrayElement,Rt.prototype._setValue_arrayElement_setNeedsUpdate,Rt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_fromArray,Rt.prototype._setValue_fromArray_setNeedsUpdate,Rt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class d9{constructor(){this.isAnimationObjectGroup=!0,this.uuid=$i(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let M=0,A=o;M!==A;++M)s[M].push(new Rt(p,i[M],r[M]))}else if(y<u){a=e[y];const M=--u,A=e[M];t[A.uuid]=y,e[y]=A,t[m]=M,e[M]=p;for(let g=0,x=o;g!==x;++g){const S=s[g],E=S[M];let T=S[y];S[y]=E,T===void 0&&(T=new Rt(p,i[g],r[g])),S[M]=T}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[u]=h,e[h]=l;for(let m=0,y=r;m!==y;++m){const M=i[m],A=M[h],g=M[d];M[d]=A,M[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],y=--o,M=e[y];t[m.uuid]=h,e[h]=m,t[M.uuid]=p,e[p]=M,e.pop();for(let A=0,g=r;A!==g;++A){const x=i[A],S=x[p],E=x[y];x[h]=S,x[p]=E,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,M=r;y!==M;++y){const A=i[y];A[h]=A[p],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,h=new Array(u);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const y=l[p];h[p]=new Rt(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class PI{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:tl,endingEnd:tl};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);a[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=TL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case lS:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulateAdditive(a);break;case C0:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===CL;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===wL){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=nl,r.endingEnd=nl):(e?r.endingStart=this.zeroSlopeAtStart?nl:tl:r.endingStart=bd,t?r.endingEnd=this.zeroSlopeAtEnd?nl:tl:r.endingEnd=bd)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const h9=new Float32Array(1);class p9 extends Ts{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const M=t&&t._propertyBindings[h].binding.parsedPath;y=new RI(Rt.create(i,m,M),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new OS(new Float32Array(2),new Float32Array(2),1,h9),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?xu.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(o!==null?i=o.blendMode:i=C0),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new PI(this,o,t,i);return this._bindAction(d,u),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?xu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const d=u._cacheIndex,h=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class KS{constructor(e){this.value=e}clone(){return new KS(this.value.clone===void 0?this.value:this.value.clone())}}let m9=0;class g9 extends Ts{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:m9++}),this.name="",this.usage=Rd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class v9 extends nh{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class y9{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class BI{constructor(e,t,i=0,r=1/0){this.ray=new qd(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new hl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return S1(e,this,i,t),i.sort(qC),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)S1(e[r],this,i,t);return i.sort(qC),i}}function qC(n,e){return n.distance-e.distance}function S1(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)S1(r[s],e,t,!0)}}class M1{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(xn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class x9{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const $C=new ye;class _9{constructor(e=new ye(1/0,1/0),t=new ye(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=$C.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,$C).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const eb=new F,Am=new F;class A9{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){eb.subVectors(e,this.start),Am.subVectors(this.end,this.start);const i=Am.dot(Am);let s=Am.dot(eb)/i;return t&&(s=xn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const tb=new F;class S9 extends Bt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new mt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Je(r,3));const s=new hi({fog:!1,toneMapped:!1});this.cone=new is(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),tb.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(tb),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ro=new F,Sm=new lt,ux=new lt;class M9 extends is{constructor(e){const t=LI(e),i=new mt,r=[],s=[],o=new De(0,0,1),a=new De(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Je(r,3)),i.setAttribute("color",new Je(s,3));const l=new hi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");ux.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Sm.multiplyMatrices(ux,a.matrixWorld),Ro.setFromMatrixPosition(Sm),r.setXYZ(o,Ro.x,Ro.y,Ro.z),Sm.multiplyMatrices(ux,a.parent.matrixWorld),Ro.setFromMatrixPosition(Sm),r.setXYZ(o+1,Ro.x,Ro.y,Ro.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function LI(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,LI(n.children[t]));return e}class E9 extends jn{constructor(e,t,i){const r=new Du(t,4,2),s=new Yi({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const w9=new F,nb=new De,ib=new De;class T9 extends Bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Iu(t);r.rotateY(Math.PI*.5),this.material=new Yi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Nt(o,3)),this.add(new jn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");nb.copy(this.light.color),ib.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?nb:ib;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(w9.setFromMatrixPosition(this.light.matrixWorld).negate())}}class C9 extends is{constructor(e=10,t=10,i=4473924,r=8947848){i=new De(i),r=new De(r);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const M=p===s?i:r;M.toArray(u,m),m+=3,M.toArray(u,m),m+=3,M.toArray(u,m),m+=3,M.toArray(u,m),m+=3}const d=new mt;d.setAttribute("position",new Je(l,3)),d.setAttribute("color",new Je(u,3));const h=new hi({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class b9 extends is{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new De(s),o=new De(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const M=h&1?s:o;l.push(M.r,M.g,M.b),l.push(M.r,M.g,M.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let y=0;y<r;y++){let M=y/r*(Math.PI*2),A=Math.sin(M)*m,g=Math.cos(M)*m;a.push(A,0,g),l.push(p.r,p.g,p.b),M=(y+1)/r*(Math.PI*2),A=Math.sin(M)*m,g=Math.cos(M)*m,a.push(A,0,g),l.push(p.r,p.g,p.b)}}const u=new mt;u.setAttribute("position",new Je(a,3)),u.setAttribute("color",new Je(l,3));const d=new hi({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const rb=new F,Mm=new F,sb=new F;class R9 extends Bt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new mt;r.setAttribute("position",new Je([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new hi({fog:!1,toneMapped:!1});this.lightPlane=new so(r,s),this.add(this.lightPlane),r=new mt,r.setAttribute("position",new Je([0,0,0,0,0,1],3)),this.targetLine=new so(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),rb.setFromMatrixPosition(this.light.matrixWorld),Mm.setFromMatrixPosition(this.light.target.matrixWorld),sb.subVectors(Mm,rb),this.lightPlane.lookAt(Mm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Mm),this.targetLine.scale.z=sb.length()}}const Em=new F,mn=new eh;class P9 extends is{constructor(e){const t=new mt,i=new hi({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,M){l(y),l(M)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Je(r,3)),t.setAttribute("color",new Je(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new De(16755200),d=new De(16711680),h=new De(43775),p=new De(16777215),m=new De(3355443);this.setColors(u,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;mn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),An("c",t,e,mn,0,0,-1),An("t",t,e,mn,0,0,1),An("n1",t,e,mn,-i,-r,-1),An("n2",t,e,mn,i,-r,-1),An("n3",t,e,mn,-i,r,-1),An("n4",t,e,mn,i,r,-1),An("f1",t,e,mn,-i,-r,1),An("f2",t,e,mn,i,-r,1),An("f3",t,e,mn,-i,r,1),An("f4",t,e,mn,i,r,1),An("u1",t,e,mn,i*.7,r*1.1,-1),An("u2",t,e,mn,-i*.7,r*1.1,-1),An("u3",t,e,mn,0,r*2,-1),An("cf1",t,e,mn,-i,0,1),An("cf2",t,e,mn,i,0,1),An("cf3",t,e,mn,0,-r,1),An("cf4",t,e,mn,0,r,1),An("cn1",t,e,mn,-i,0,-1),An("cn2",t,e,mn,i,0,-1),An("cn3",t,e,mn,0,-r,-1),An("cn4",t,e,mn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function An(n,e,t,i,r,s,o){Em.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,d=a.length;u<d;u++)l.setXYZ(a[u],Em.x,Em.y,Em.z)}}const wm=new ts;class B9 extends is{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new mt;s.setIndex(new Nt(i,1)),s.setAttribute("position",new Nt(r,3)),super(s,new hi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&wm.setFromObject(this.object),wm.isEmpty())return;const t=wm.min,i=wm.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class L9 extends is{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new mt;s.setIndex(new Nt(i,1)),s.setAttribute("position",new Je(r,3)),super(s,new hi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class I9 extends so{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new mt;o.setAttribute("position",new Je(s,3)),o.computeBoundingSphere(),super(o,new hi({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new mt;l.setAttribute("position",new Je(a,3)),l.computeBoundingSphere(),this.add(new jn(l,new Yi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ob=new F;let Tm,fx;class D9 extends Bt{constructor(e=new F(0,0,1),t=new F(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Tm===void 0&&(Tm=new mt,Tm.setAttribute("position",new Je([0,0,0,0,1,0],3)),fx=new Pl(0,.5,1,5,1),fx.translate(0,-.5,0)),this.position.copy(t),this.line=new so(Tm,new hi({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new jn(fx,new Yi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ob.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ob,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class F9 extends is{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new mt;r.setAttribute("position",new Je(t,3)),r.setAttribute("color",new Je(i,3));const s=new hi({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new De,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class N9{constructor(){this.type="ShapePath",this.color=new De,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Bd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const x=[];for(let S=0,E=g.length;S<E;S++){const T=g[S],R=new pl;R.curves=T.curves,x.push(R)}return x}function i(g,x){const S=x.length;let E=!1;for(let T=S-1,R=0;R<S;T=R++){let P=x[T],B=x[R],b=B.x-P.x,L=B.y-P.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(P=x[R],b=-b,B=x[T],L=-L),g.y<P.y||g.y>B.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const U=L*(g.x-P.x)-b*(g.y-P.y);if(U===0)return!0;if(U<0)continue;E=!E}}else{if(g.y!==P.y)continue;if(B.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=B.x)return!0}}return E}const r=As.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new pl,l.curves=a.curves,u.push(l),u;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],y=0,M;p[y]=void 0,m[y]=[];for(let g=0,x=s.length;g<x;g++)a=s[g],M=a.getPoints(),o=r(M),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new pl,p:M},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:M[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,x=0;for(let S=0,E=p.length;S<E;S++)h[S]=[];for(let S=0,E=p.length;S<E;S++){const T=m[S];for(let R=0;R<T.length;R++){const P=T[R];let B=!0;for(let b=0;b<p.length;b++)i(P.p,p[b].p)&&(S!==b&&x++,B?(B=!1,h[b].push(P)):g=!0);B&&h[S].push(P)}}x>0&&g===!1&&(m=h)}let A;for(let g=0,x=p.length;g<x;g++){l=p[g].s,u.push(l),A=m[g];for(let S=0,E=A.length;S<E;S++)l.holes.push(A[S].h)}return u}}class O9 extends _a{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class k9 extends rh{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class U9 extends sh{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class z9 extends oh{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class H9 extends Pl{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class G9 extends ah{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class V9 extends lh{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class W9 extends ch{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class j9 extends Lu{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class X9 extends Iu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class J9 extends Pu{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class K9 extends fo{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class Y9 extends uh{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class Q9 extends fh{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class Z9 extends Du{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class q9 extends dh{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class $9 extends hh{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class e8 extends ph{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class t8 extends mh{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:M0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=M0);const n8=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:oS,AddEquation:Ya,AddOperation:sL,AdditiveAnimationBlendMode:lS,AdditiveBlending:z_,AlphaFormat:mL,AlwaysDepth:qB,AlwaysStencilFunc:LL,AmbientLight:SI,AmbientLightProbe:QV,AnimationAction:PI,AnimationClip:xu,AnimationLoader:UV,AnimationMixer:p9,AnimationObjectGroup:d9,AnimationUtils:FV,ArcCurve:qL,ArrayCamera:XL,ArrowHelper:D9,Audio:bI,AudioAnalyser:n9,AudioContext:WS,AudioListener:$V,AudioLoader:KV,AxesHelper:F9,BackSide:Si,BasicDepthPacking:RL,BasicShadowMap:kB,Bone:I0,BooleanKeyframeTrack:Bl,Box2:_9,Box3:ts,Box3Helper:L9,BoxBufferGeometry:O9,BoxGeometry:_a,BoxHelper:B9,BufferAttribute:Nt,BufferGeometry:mt,BufferGeometryLoader:TI,ByteType:uL,Cache:Ml,Camera:eh,CameraHelper:P9,CanvasTexture:sV,CapsuleBufferGeometry:k9,CapsuleGeometry:rh,CatmullRomCurve3:$L,CineonToneMapping:lL,CircleBufferGeometry:U9,CircleGeometry:sh,ClampToEdgeWrapping:qn,Clock:jS,Color:De,ColorKeyframeTrack:kS,ColorManagement:xr,CompressedArrayTexture:rV,CompressedTexture:bS,CompressedTextureLoader:zV,ConeBufferGeometry:z9,ConeGeometry:oh,CubeCamera:vS,CubeReflectionMapping:aa,CubeRefractionMapping:la,CubeTexture:th,CubeTextureLoader:HV,CubeUVReflectionMapping:Ru,CubicBezierCurve:PS,CubicBezierCurve3:eI,CubicInterpolant:vI,CullFaceBack:U_,CullFaceFront:OB,CullFaceFrontBack:oU,CullFaceNone:NB,Curve:rs,CurvePath:nI,CustomBlending:UB,CustomToneMapping:cL,CylinderBufferGeometry:H9,CylinderGeometry:Pl,Cylindrical:x9,Data3DTexture:pS,DataArrayTexture:b0,DataTexture:eu,DataTextureLoader:GV,DataUtils:p4,DecrementStencilOp:mU,DecrementWrapStencilOp:vU,DefaultLoadingManager:kc,DepthFormat:ta,DepthStencilFormat:_l,DepthTexture:JL,DirectionalLight:VS,DirectionalLightHelper:R9,DiscreteInterpolant:yI,DisplayP3ColorSpace:fS,DodecahedronBufferGeometry:G9,DodecahedronGeometry:ah,DoubleSide:wr,DstAlphaFactor:XB,DstColorFactor:KB,DynamicCopyUsage:LU,DynamicDrawUsage:TU,DynamicReadUsage:RU,EdgesGeometry:iI,EllipseCurve:F0,EqualDepth:eL,EqualStencilFunc:AU,EquirectangularReflectionMapping:wd,EquirectangularRefractionMapping:Td,Euler:$d,EventDispatcher:Ts,ExtrudeBufferGeometry:V9,ExtrudeGeometry:lh,FileLoader:nr,Float16BufferAttribute:_4,Float32BufferAttribute:Je,Float64BufferAttribute:A4,FloatType:Js,Fog:L0,FogExp2:B0,FramebufferTexture:iV,FrontSide:Ms,Frustum:R0,GLBufferAttribute:y9,GLSL1:DU,GLSL3:p1,GreaterDepth:nL,GreaterEqualDepth:tL,GreaterEqualStencilFunc:wU,GreaterStencilFunc:MU,GridHelper:C9,Group:Ks,HalfFloatType:du,HemisphereLight:AI,HemisphereLightHelper:T9,HemisphereLightProbe:YV,IcosahedronBufferGeometry:W9,IcosahedronGeometry:ch,ImageBitmapLoader:CI,ImageLoader:Fd,ImageUtils:hS,IncrementStencilOp:pU,IncrementWrapStencilOp:gU,InstancedBufferAttribute:gu,InstancedBufferGeometry:wI,InstancedInterleavedBuffer:v9,InstancedMesh:wS,Int16BufferAttribute:y4,Int32BufferAttribute:x4,Int8BufferAttribute:m4,IntType:dL,InterleavedBuffer:nh,InterleavedBufferAttribute:ua,Interpolant:Fu,InterpolateDiscrete:hu,InterpolateLinear:Al,InterpolateSmooth:lg,InvertStencilOp:yU,KeepStencilOp:cg,KeyframeTrack:ss,LOD:ZL,LatheBufferGeometry:j9,LatheGeometry:Lu,Layers:hl,LessDepth:$B,LessEqualDepth:Ug,LessEqualStencilFunc:SU,LessStencilFunc:_U,Light:Aa,LightProbe:k0,Line:so,Line3:A9,LineBasicMaterial:hi,LineCurve:N0,LineCurve3:tI,LineDashedMaterial:mI,LineLoop:TS,LineSegments:is,LinearEncoding:uS,LinearFilter:ln,LinearInterpolant:OS,LinearMipMapLinearFilter:fU,LinearMipMapNearestFilter:uU,LinearMipmapLinearFilter:Es,LinearMipmapNearestFilter:T0,LinearSRGBColorSpace:$r,LinearToneMapping:oL,Loader:wi,LoaderUtils:_u,LoadingManager:US,LoopOnce:wL,LoopPingPong:CL,LoopRepeat:TL,LuminanceAlphaFormat:vL,LuminanceFormat:gL,MOUSE:Wa,Material:Pn,MaterialLoader:U0,MathUtils:FL,Matrix3:Ct,Matrix4:lt,MaxEquation:W_,Mesh:jn,MeshBasicMaterial:Yi,MeshDepthMaterial:_S,MeshDistanceMaterial:AS,MeshLambertMaterial:hI,MeshMatcapMaterial:pI,MeshNormalMaterial:dI,MeshPhongMaterial:uI,MeshPhysicalMaterial:ho,MeshStandardMaterial:gh,MeshToonMaterial:fI,MinEquation:V_,MirroredRepeatWrapping:fu,MixOperation:rL,MultiplyBlending:G_,MultiplyOperation:Zd,NearestFilter:vn,NearestMipMapLinearFilter:cU,NearestMipMapNearestFilter:lU,NearestMipmapLinearFilter:qc,NearestMipmapNearestFilter:Cd,NeverDepth:ZB,NeverStencilFunc:xU,NoBlending:Zs,NoColorSpace:na,NoToneMapping:Qr,NormalAnimationBlendMode:C0,NormalBlending:ul,NotEqualDepth:iL,NotEqualStencilFunc:EU,NumberKeyframeTrack:vu,Object3D:Bt,ObjectLoader:XV,ObjectSpaceNormalMap:BL,OctahedronBufferGeometry:X9,OctahedronGeometry:Iu,OneFactor:VB,OneMinusDstAlphaFactor:JB,OneMinusDstColorFactor:YB,OneMinusSrcAlphaFactor:sS,OneMinusSrcColorFactor:jB,OrthographicCamera:Zr,PCFShadowMap:E0,PCFSoftShadowMap:Kf,PMREMGenerator:g1,Path:Bd,PerspectiveCamera:Xt,Plane:Oo,PlaneBufferGeometry:J9,PlaneGeometry:Pu,PlaneHelper:I9,PointLight:GS,PointLightHelper:E9,Points:CS,PointsMaterial:D0,PolarGridHelper:b9,PolyhedronBufferGeometry:K9,PolyhedronGeometry:fo,PositionalAudio:t9,PropertyBinding:Rt,PropertyMixer:RI,QuadraticBezierCurve:BS,QuadraticBezierCurve3:LS,Quaternion:Jn,QuaternionKeyframeTrack:fa,QuaternionLinearInterpolant:xI,RED_GREEN_RGTC2_Format:d1,RED_RGTC1_Format:EL,REVISION:M0,RGBADepthPacking:PL,RGBAFormat:Ii,RGBAIntegerFormat:SL,RGBA_ASTC_10x10_Format:l1,RGBA_ASTC_10x5_Format:s1,RGBA_ASTC_10x6_Format:o1,RGBA_ASTC_10x8_Format:a1,RGBA_ASTC_12x10_Format:c1,RGBA_ASTC_12x12_Format:u1,RGBA_ASTC_4x4_Format:Z_,RGBA_ASTC_5x4_Format:q_,RGBA_ASTC_5x5_Format:$_,RGBA_ASTC_6x5_Format:e1,RGBA_ASTC_6x6_Format:t1,RGBA_ASTC_8x5_Format:n1,RGBA_ASTC_8x6_Format:i1,RGBA_ASTC_8x8_Format:r1,RGBA_BPTC_Format:ag,RGBA_ETC2_EAC_Format:Q_,RGBA_PVRTC_2BPPV1_Format:K_,RGBA_PVRTC_4BPPV1_Format:J_,RGBA_S3TC_DXT1_Format:rg,RGBA_S3TC_DXT3_Format:sg,RGBA_S3TC_DXT5_Format:og,RGB_ETC1_Format:ML,RGB_ETC2_Format:Y_,RGB_PVRTC_2BPPV1_Format:X_,RGB_PVRTC_4BPPV1_Format:j_,RGB_S3TC_DXT1_Format:ig,RGFormat:_L,RGIntegerFormat:AL,RawShaderMaterial:cI,Ray:qd,Raycaster:BI,RectAreaLight:MI,RedFormat:yL,RedIntegerFormat:xL,ReinhardToneMapping:aL,RepeatWrapping:ca,ReplaceStencilOp:hU,ReverseSubtractEquation:HB,RingBufferGeometry:Y9,RingGeometry:uh,SIGNED_RED_GREEN_RGTC2_Format:h1,SIGNED_RED_RGTC1_Format:f1,SRGBColorSpace:gt,Scene:Gg,ShaderChunk:yt,ShaderLib:Xr,ShaderMaterial:ws,ShadowMaterial:lI,Shape:pl,ShapeBufferGeometry:Q9,ShapeGeometry:fh,ShapePath:N9,ShapeUtils:As,ShortType:fL,Skeleton:ih,SkeletonHelper:M9,SkinnedMesh:ES,Source:il,Sphere:ns,SphereBufferGeometry:Z9,SphereGeometry:Du,Spherical:M1,SphericalHarmonics3:EI,SplineCurve:IS,SpotLight:HS,SpotLightHelper:S9,Sprite:QL,SpriteMaterial:MS,SrcAlphaFactor:rS,SrcAlphaSaturateFactor:QB,SrcColorFactor:WB,StaticCopyUsage:BU,StaticDrawUsage:Rd,StaticReadUsage:bU,StereoCamera:ZV,StreamCopyUsage:IU,StreamDrawUsage:CU,StreamReadUsage:PU,StringKeyframeTrack:Ll,SubtractEquation:zB,SubtractiveBlending:H_,TOUCH:ja,TangentSpaceNormalMap:xa,TetrahedronBufferGeometry:q9,TetrahedronGeometry:dh,Texture:sn,TextureLoader:_I,TorusBufferGeometry:$9,TorusGeometry:hh,TorusKnotBufferGeometry:e8,TorusKnotGeometry:ph,Triangle:Li,TriangleFanDrawMode:zg,TriangleStripDrawMode:cS,TrianglesDrawMode:bL,TubeBufferGeometry:t8,TubeGeometry:mh,TwoPassDoubleSide:aU,UVMapping:w0,Uint16BufferAttribute:mS,Uint32BufferAttribute:gS,Uint8BufferAttribute:g4,Uint8ClampedBufferAttribute:v4,Uniform:KS,UniformsGroup:g9,UniformsLib:Ie,UniformsUtils:UL,UnsignedByteType:ro,UnsignedInt248Type:fl,UnsignedIntType:Wo,UnsignedShort4444Type:hL,UnsignedShort5551Type:pL,UnsignedShortType:aS,VSMShadowMap:Vr,Vector2:ye,Vector3:F,Vector4:Ht,VectorKeyframeTrack:yu,VideoTexture:nV,WebGL1Renderer:KL,WebGL3DRenderTarget:i4,WebGLArrayRenderTarget:n4,WebGLCubeRenderTarget:yS,WebGLMultipleRenderTargets:r4,WebGLRenderTarget:es,WebGLRenderer:SS,WebGLUtils:jL,WireframeGeometry:aI,WrapAroundEnding:bd,ZeroCurvatureEnding:tl,ZeroFactor:GB,ZeroSlopeEnding:nl,ZeroStencilOp:dU,_SRGBAFormat:Hg,sRGBEncoding:qi},Symbol.toStringTag,{value:"Module"}));var II={exports:{}},Il={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Il.ConcurrentRoot=1;Il.ContinuousEventPriority=4;Il.DefaultEventPriority=16;Il.DiscreteEventPriority=1;Il.IdleEventPriority=536870912;Il.LegacyRoot=0;II.exports=Il;var Uc=II.exports;function i8(n){let e;const t=new Set,i=(u,d)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(u,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const M=p;u(p=y,M)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(u,d,h)=>d||h?s(u,d,h):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(i,r,l),l}const r8=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ab=r8?q.useEffect:q.useLayoutEffect;function DI(n){const e=typeof n=="function"?i8(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=q.useReducer(A=>A+1,0),o=e.getState(),a=q.useRef(o),l=q.useRef(i),u=q.useRef(r),d=q.useRef(!1),h=q.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||u.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),ab(()=>{m&&(h.current=p),a.current=o,l.current=i,u.current=r,d.current=!1});const y=q.useRef(o);ab(()=>{const A=()=>{try{const x=e.getState(),S=l.current(x);u.current(h.current,S)||(a.current=x,h.current=S,s())}catch{d.current=!0,s()}},g=e.subscribe(A);return e.getState()!==y.current&&A(),g},[]);const M=m?p:h.current;return q.useDebugValue(M),M};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var FI={exports:{}},dx={exports:{}},hx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function s8(){return lb||(lb=1,function(n){function e(I,H){var z=I.length;I.push(H);e:for(;0<z;){var $=z-1>>>1,Q=I[$];if(0<r(Q,H))I[$]=H,I[z]=Q,z=$;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var H=I[0],z=I.pop();if(z!==H){I[0]=z;e:for(var $=0,Q=I.length,ee=Q>>>1;$<ee;){var ie=2*($+1)-1,we=I[ie],xe=ie+1,V=I[xe];if(0>r(we,z))xe<Q&&0>r(V,we)?(I[$]=V,I[xe]=z,$=xe):(I[$]=we,I[ie]=z,$=ie);else if(xe<Q&&0>r(V,z))I[$]=V,I[xe]=z,$=xe;else break e}}return H}function r(I,H){var z=I.sortIndex-H.sortIndex;return z!==0?z:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var H=t(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=I)i(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function E(I){if(M=!1,S(I),!y)if(t(l)!==null)y=!0,se(T);else{var H=t(u);H!==null&&te(E,H.startTime-I)}}function T(I,H){y=!1,M&&(M=!1,g(B),B=-1),m=!0;var z=p;try{for(S(H),h=t(l);h!==null&&(!(h.expirationTime>H)||I&&!U());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var Q=$(h.expirationTime<=H);H=n.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(l)&&i(l),S(H)}else i(l);h=t(l)}if(h!==null)var ee=!0;else{var ie=t(u);ie!==null&&te(E,ie.startTime-H),ee=!1}return ee}finally{h=null,p=z,m=!1}}var R=!1,P=null,B=-1,b=5,L=-1;function U(){return!(n.unstable_now()-L<b)}function J(){if(P!==null){var I=n.unstable_now();L=I;var H=!0;try{H=P(!0,I)}finally{H?G():(R=!1,P=null)}}else R=!1}var G;if(typeof x=="function")G=function(){x(J)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,j=K.port2;K.port1.onmessage=J,G=function(){j.postMessage(null)}}else G=function(){A(J,0)};function se(I){P=I,R||(R=!0,G())}function te(I,H){B=A(function(){I(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,se(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var z=p;p=H;try{return I()}finally{p=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=p;p=I;try{return H()}finally{p=z}},n.unstable_scheduleCallback=function(I,H,z){var $=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?$+z:$):z=$,I){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,I={id:d++,callback:H,priorityLevel:I,startTime:z,expirationTime:Q,sortIndex:-1},z>$?(I.sortIndex=z,e(u,I),t(l)===null&&I===t(u)&&(M?(g(B),B=-1):M=!0,te(E,z-$))):(I.sortIndex=Q,e(l,I),y||m||(y=!0,se(T))),I},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(I){var H=p;return function(){var z=p;p=H;try{return I.apply(this,arguments)}finally{p=z}}}}(hx)),hx}var cb;function o8(){return cb||(cb=1,dx.exports=s8()),dx.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a8=function(e){var t={},i=q,r=o8(),s=Object.assign;function o(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),T=Symbol.iterator;function R(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}function P(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case A:return"Suspense";case g:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case M:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case x:return f=c.displayName||null,f!==null?f:P(c.type)||"Memo";case S:f=c._payload,c=c._init;try{return P(c(f))}catch{}}return null}function B(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function b(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,f.flags&4098&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function L(c){if(b(c)!==c)throw Error(o(188))}function U(c){var f=c.alternate;if(!f){if(f=b(c),f===null)throw Error(o(188));return f!==c?null:c}for(var v=c,_=f;;){var w=v.return;if(w===null)break;var C=w.alternate;if(C===null){if(_=w.return,_!==null){v=_;continue}break}if(w.child===C.child){for(C=w.child;C;){if(C===v)return L(w),c;if(C===_)return L(w),f;C=C.sibling}throw Error(o(188))}if(v.return!==_.return)v=w,_=C;else{for(var O=!1,Y=w.child;Y;){if(Y===v){O=!0,v=w,_=C;break}if(Y===_){O=!0,_=w,v=C;break}Y=Y.sibling}if(!O){for(Y=C.child;Y;){if(Y===v){O=!0,v=C,_=w;break}if(Y===_){O=!0,_=C,v=w;break}Y=Y.sibling}if(!O)throw Error(o(189))}}if(v.alternate!==_)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?c:f}function J(c){return c=U(c),c!==null?G(c):null}function G(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=G(c);if(f!==null)return f;c=c.sibling}return null}function K(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=K(c);if(f!==null)return f}c=c.sibling}return null}var j=Array.isArray,se=e.getPublicInstance,te=e.getRootHostContext,I=e.getChildHostContext,H=e.prepareForCommit,z=e.resetAfterCommit,$=e.createInstance,Q=e.appendInitialChild,ee=e.finalizeInitialChildren,ie=e.prepareUpdate,we=e.shouldSetTextContent,xe=e.createTextInstance,V=e.scheduleTimeout,Xe=e.cancelTimeout,Ke=e.noTimeout,_e=e.isPrimaryRenderer,Ee=e.supportsMutation,ge=e.supportsPersistence,ae=e.supportsHydration,Ae=e.getInstanceFromNode,Ne=e.preparePortalMount,Le=e.getCurrentEventPriority,We=e.detachDeletedInstance,Qe=e.supportsMicrotasks,je=e.scheduleMicrotask,st=e.supportsTestSelectors,Mt=e.findFiberRoot,k=e.getBoundingRect,D=e.getTextContent,le=e.isHiddenSubtree,Te=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,Be=e.setupIntersectionObserver,nt=e.appendChild,ke=e.appendChildToContainer,pe=e.commitTextUpdate,Ve=e.commitMount,W=e.commitUpdate,he=e.insertBefore,Se=e.insertInContainerBefore,Re=e.removeChild,et=e.removeChildFromContainer,dt=e.resetTextContent,Vt=e.hideInstance,X=e.hideTextInstance,fe=e.unhideInstance,Me=e.unhideTextInstance,Ue=e.clearContainer,Ze=e.cloneInstance,Ot=e.createContainerChildSet,kt=e.appendChildToContainerChildSet,kn=e.finalizeContainerChildren,Br=e.replaceContainerChildren,en=e.cloneHiddenInstance,pi=e.cloneHiddenTextInstance,ar=e.canHydrateInstance,Nl=e.canHydrateTextInstance,Ch=e.canHydrateSuspenseInstance,bh=e.isSuspenseInstancePending,Ou=e.isSuspenseInstanceFallback,nv=e.registerSuspenseInstanceRetry,N=e.getNextHydratableSibling,oe=e.getFirstHydratableChild,me=e.getFirstHydratableChildWithinContainer,ne=e.getFirstHydratableChildWithinSuspenseInstance,ve=e.hydrateInstance,tt=e.hydrateTextInstance,rt=e.hydrateSuspenseInstance,at=e.getNextHydratableInstanceAfterSuspenseInstance,ht=e.commitHydratedContainer,_t=e.commitHydratedSuspenseInstance,At=e.clearSuspenseBoundary,Et=e.clearSuspenseBoundaryFromContainer,Ut=e.shouldDeleteUnhydratedTailInstances,Kn=e.didNotMatchHydratedContainerTextInstance,Ui=e.didNotMatchHydratedTextInstance,Lr;function Jt(c){if(Lr===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);Lr=f&&f[1]||""}return`
`+Lr+c}var wt=!1;function Ma(c,f){if(!c||wt)return"";wt=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Pe){var _=Pe}Reflect.construct(c,[],f)}else{try{f.call()}catch(Pe){_=Pe}c.call(f.prototype)}else{try{throw Error()}catch(Pe){_=Pe}c()}}catch(Pe){if(Pe&&_&&typeof Pe.stack=="string"){for(var w=Pe.stack.split(`
`),C=_.stack.split(`
`),O=w.length-1,Y=C.length-1;1<=O&&0<=Y&&w[O]!==C[Y];)Y--;for(;1<=O&&0<=Y;O--,Y--)if(w[O]!==C[Y]){if(O!==1||Y!==1)do if(O--,Y--,0>Y||w[O]!==C[Y]){var de=`
`+w[O].replace(" at new "," at ");return c.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",c.displayName)),de}while(1<=O&&0<=Y);break}}}finally{wt=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?Jt(c):""}var Mn=Object.prototype.hasOwnProperty,Ir=[],Cs=-1;function Ti(c){return{current:c}}function zt(c){0>Cs||(c.current=Ir[Cs],Ir[Cs]=null,Cs--)}function pt(c,f){Cs++,Ir[Cs]=c.current,c.current=f}var ti={},En=Ti(ti),Wt=Ti(!1),Dr=ti;function mo(c,f){var v=c.type.contextTypes;if(!v)return ti;var _=c.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===f)return _.__reactInternalMemoizedMaskedChildContext;var w={},C;for(C in v)w[C]=f[C];return _&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=w),w}function Yn(c){return c=c.childContextTypes,c!=null}function Rh(){zt(Wt),zt(En)}function UM(c,f,v){if(En.current!==ti)throw Error(o(168));pt(En,f),pt(Wt,v)}function zM(c,f,v){var _=c.stateNode;if(f=f.childContextTypes,typeof _.getChildContext!="function")return v;_=_.getChildContext();for(var w in _)if(!(w in f))throw Error(o(108,B(c)||"Unknown",w));return s({},v,_)}function Ph(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||ti,Dr=En.current,pt(En,c),pt(Wt,Wt.current),!0}function HM(c,f,v){var _=c.stateNode;if(!_)throw Error(o(169));v?(c=zM(c,f,Dr),_.__reactInternalMemoizedMergedChildContext=c,zt(Wt),zt(En),pt(En,c)):zt(Wt),pt(Wt,v)}var Fr=Math.clz32?Math.clz32:pF,dF=Math.log,hF=Math.LN2;function pF(c){return c>>>=0,c===0?32:31-(dF(c)/hF|0)|0}var Bh=64,Lh=4194304;function ku(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ih(c,f){var v=c.pendingLanes;if(v===0)return 0;var _=0,w=c.suspendedLanes,C=c.pingedLanes,O=v&268435455;if(O!==0){var Y=O&~w;Y!==0?_=ku(Y):(C&=O,C!==0&&(_=ku(C)))}else O=v&~w,O!==0?_=ku(O):C!==0&&(_=ku(C));if(_===0)return 0;if(f!==0&&f!==_&&!(f&w)&&(w=_&-_,C=f&-f,w>=C||w===16&&(C&4194240)!==0))return f;if(_&4&&(_|=v&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=_;0<f;)v=31-Fr(f),w=1<<v,_|=c[v],f&=~w;return _}function mF(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gF(c,f){for(var v=c.suspendedLanes,_=c.pingedLanes,w=c.expirationTimes,C=c.pendingLanes;0<C;){var O=31-Fr(C),Y=1<<O,de=w[O];de===-1?(!(Y&v)||Y&_)&&(w[O]=mF(Y,f)):de<=f&&(c.expiredLanes|=Y),C&=~Y}}function iv(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function rv(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function Uu(c,f,v){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-Fr(f),c[f]=v}function vF(c,f){var v=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var _=c.eventTimes;for(c=c.expirationTimes;0<v;){var w=31-Fr(v),C=1<<w;f[w]=0,_[w]=-1,c[w]=-1,v&=~C}}function sv(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var _=31-Fr(v),w=1<<_;w&f|c[_]&f&&(c[_]|=f),v&=~w}}var It=0;function GM(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var ov=r.unstable_scheduleCallback,VM=r.unstable_cancelCallback,yF=r.unstable_shouldYield,xF=r.unstable_requestPaint,Un=r.unstable_now,av=r.unstable_ImmediatePriority,_F=r.unstable_UserBlockingPriority,lv=r.unstable_NormalPriority,AF=r.unstable_IdlePriority,Dh=null,os=null;function SF(c){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Dh,c,void 0,(c.current.flags&128)===128)}catch{}}function MF(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var as=typeof Object.is=="function"?Object.is:MF,bs=null,Fh=!1,cv=!1;function WM(c){bs===null?bs=[c]:bs.push(c)}function EF(c){Fh=!0,WM(c)}function ls(){if(!cv&&bs!==null){cv=!0;var c=0,f=It;try{var v=bs;for(It=1;c<v.length;c++){var _=v[c];do _=_(!0);while(_!==null)}bs=null,Fh=!1}catch(w){throw bs!==null&&(bs=bs.slice(c+1)),ov(av,ls),w}finally{It=f,cv=!1}}return null}var wF=a.ReactCurrentBatchConfig;function Nh(c,f){if(as(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),_=Object.keys(f);if(v.length!==_.length)return!1;for(_=0;_<v.length;_++){var w=v[_];if(!Mn.call(f,w)||!as(c[w],f[w]))return!1}return!0}function TF(c){switch(c.tag){case 5:return Jt(c.type);case 16:return Jt("Lazy");case 13:return Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 2:case 15:return c=Ma(c.type,!1),c;case 11:return c=Ma(c.type.render,!1),c;case 1:return c=Ma(c.type,!0),c;default:return""}}function Nr(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var v in c)f[v]===void 0&&(f[v]=c[v]);return f}return f}var Oh=Ti(null),kh=null,Ol=null,uv=null;function fv(){uv=Ol=kh=null}function jM(c,f,v){_e?(pt(Oh,f._currentValue),f._currentValue=v):(pt(Oh,f._currentValue2),f._currentValue2=v)}function dv(c){var f=Oh.current;zt(Oh),_e?c._currentValue=f:c._currentValue2=f}function hv(c,f,v){for(;c!==null;){var _=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,_!==null&&(_.childLanes|=f)):_!==null&&(_.childLanes&f)!==f&&(_.childLanes|=f),c===v)break;c=c.return}}function kl(c,f){kh=c,uv=Ol=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&f&&(Gi=!0),c.firstContext=null)}function lr(c){var f=_e?c._currentValue:c._currentValue2;if(uv!==c)if(c={context:c,memoizedValue:f,next:null},Ol===null){if(kh===null)throw Error(o(308));Ol=c,kh.dependencies={lanes:0,firstContext:c}}else Ol=Ol.next=c;return f}var cs=null,go=!1;function pv(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XM(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Rs(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function vo(c,f){var v=c.updateQueue;v!==null&&(v=v.shared,wn!==null&&c.mode&1&&!(St&2)?(c=v.interleaved,c===null?(f.next=f,cs===null?cs=[v]:cs.push(v)):(f.next=c.next,c.next=f),v.interleaved=f):(c=v.pending,c===null?f.next=f:(f.next=c.next,c.next=f),v.pending=f))}function Uh(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var _=f.lanes;_&=c.pendingLanes,v|=_,f.lanes=v,sv(c,v)}}function JM(c,f){var v=c.updateQueue,_=c.alternate;if(_!==null&&(_=_.updateQueue,v===_)){var w=null,C=null;if(v=v.firstBaseUpdate,v!==null){do{var O={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};C===null?w=C=O:C=C.next=O,v=v.next}while(v!==null);C===null?w=C=f:C=C.next=f}else w=C=f;v={baseState:_.baseState,firstBaseUpdate:w,lastBaseUpdate:C,shared:_.shared,effects:_.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}function zh(c,f,v,_){var w=c.updateQueue;go=!1;var C=w.firstBaseUpdate,O=w.lastBaseUpdate,Y=w.shared.pending;if(Y!==null){w.shared.pending=null;var de=Y,Pe=de.next;de.next=null,O===null?C=Pe:O.next=Pe,O=de;var Ge=c.alternate;Ge!==null&&(Ge=Ge.updateQueue,Y=Ge.lastBaseUpdate,Y!==O&&(Y===null?Ge.firstBaseUpdate=Pe:Y.next=Pe,Ge.lastBaseUpdate=de))}if(C!==null){var ct=w.baseState;O=0,Ge=Pe=de=null,Y=C;do{var it=Y.lane,jt=Y.eventTime;if((_&it)===it){Ge!==null&&(Ge=Ge.next={eventTime:jt,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var $e=c,si=Y;switch(it=f,jt=v,si.tag){case 1:if($e=si.payload,typeof $e=="function"){ct=$e.call(jt,ct,it);break e}ct=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=si.payload,it=typeof $e=="function"?$e.call(jt,ct,it):$e,it==null)break e;ct=s({},ct,it);break e;case 2:go=!0}}Y.callback!==null&&Y.lane!==0&&(c.flags|=64,it=w.effects,it===null?w.effects=[Y]:it.push(Y))}else jt={eventTime:jt,lane:it,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ge===null?(Pe=Ge=jt,de=ct):Ge=Ge.next=jt,O|=it;if(Y=Y.next,Y===null){if(Y=w.shared.pending,Y===null)break;it=Y,Y=it.next,it.next=null,w.lastBaseUpdate=it,w.shared.pending=null}}while(1);if(Ge===null&&(de=ct),w.baseState=de,w.firstBaseUpdate=Pe,w.lastBaseUpdate=Ge,f=w.shared.interleaved,f!==null){w=f;do O|=w.lane,w=w.next;while(w!==f)}else C===null&&(w.shared.lanes=0);Jl|=O,c.lanes=O,c.memoizedState=ct}}function KM(c,f,v){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var _=c[f],w=_.callback;if(w!==null){if(_.callback=null,_=v,typeof w!="function")throw Error(o(191,w));w.call(_)}}}var YM=new i.Component().refs;function mv(c,f,v,_){f=c.memoizedState,v=v(_,f),v=v==null?f:s({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var Hh={isMounted:function(c){return(c=c._reactInternals)?b(c)===c:!1},enqueueSetState:function(c,f,v){c=c._reactInternals;var _=gi(),w=_o(c),C=Rs(_,w);C.payload=f,v!=null&&(C.callback=v),vo(c,C),f=hr(c,w,_),f!==null&&Uh(f,c,w)},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var _=gi(),w=_o(c),C=Rs(_,w);C.tag=1,C.payload=f,v!=null&&(C.callback=v),vo(c,C),f=hr(c,w,_),f!==null&&Uh(f,c,w)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=gi(),_=_o(c),w=Rs(v,_);w.tag=2,f!=null&&(w.callback=f),vo(c,w),f=hr(c,_,v),f!==null&&Uh(f,c,_)}};function QM(c,f,v,_,w,C,O){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(_,C,O):f.prototype&&f.prototype.isPureReactComponent?!Nh(v,_)||!Nh(w,C):!0}function ZM(c,f,v){var _=!1,w=ti,C=f.contextType;return typeof C=="object"&&C!==null?C=lr(C):(w=Yn(f)?Dr:En.current,_=f.contextTypes,C=(_=_!=null)?mo(c,w):ti),f=new f(v,C),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Hh,c.stateNode=f,f._reactInternals=c,_&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=w,c.__reactInternalMemoizedMaskedChildContext=C),f}function qM(c,f,v,_){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,_),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,_),f.state!==c&&Hh.enqueueReplaceState(f,f.state,null)}function gv(c,f,v,_){var w=c.stateNode;w.props=v,w.state=c.memoizedState,w.refs=YM,pv(c);var C=f.contextType;typeof C=="object"&&C!==null?w.context=lr(C):(C=Yn(f)?Dr:En.current,w.context=mo(c,C)),w.state=c.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(mv(c,f,C,v),w.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(f=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),f!==w.state&&Hh.enqueueReplaceState(w,w.state,null),zh(c,v,w,_),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308)}var Ul=[],zl=0,Gh=null,Vh=0,cr=[],ur=0,Ea=null,Ps=1,Bs="";function wa(c,f){Ul[zl++]=Vh,Ul[zl++]=Gh,Gh=c,Vh=f}function $M(c,f,v){cr[ur++]=Ps,cr[ur++]=Bs,cr[ur++]=Ea,Ea=c;var _=Ps;c=Bs;var w=32-Fr(_)-1;_&=~(1<<w),v+=1;var C=32-Fr(f)+w;if(30<C){var O=w-w%5;C=(_&(1<<O)-1).toString(32),_>>=O,w-=O,Ps=1<<32-Fr(f)+w|v<<w|_,Bs=C+c}else Ps=1<<C|v<<w|_,Bs=c}function vv(c){c.return!==null&&(wa(c,1),$M(c,1,0))}function yv(c){for(;c===Gh;)Gh=Ul[--zl],Ul[zl]=null,Vh=Ul[--zl],Ul[zl]=null;for(;c===Ea;)Ea=cr[--ur],cr[ur]=null,Bs=cr[--ur],cr[ur]=null,Ps=cr[--ur],cr[ur]=null}var zi=null,Hi=null,tn=!1,zu=!1,Or=null;function eE(c,f){var v=pr(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=c,f=c.deletions,f===null?(c.deletions=[v],c.flags|=16):f.push(v)}function tE(c,f){switch(c.tag){case 5:return f=ar(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,zi=c,Hi=oe(f),!0):!1;case 6:return f=Nl(f,c.pendingProps),f!==null?(c.stateNode=f,zi=c,Hi=null,!0):!1;case 13:if(f=Ch(f),f!==null){var v=Ea!==null?{id:Ps,overflow:Bs}:null;return c.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=pr(18,null,null,0),v.stateNode=f,v.return=c,c.child=v,zi=c,Hi=null,!0}return!1;default:return!1}}function xv(c){return(c.mode&1)!==0&&(c.flags&128)===0}function _v(c){if(tn){var f=Hi;if(f){var v=f;if(!tE(c,f)){if(xv(c))throw Error(o(418));f=N(v);var _=zi;f&&tE(c,f)?eE(_,v):(c.flags=c.flags&-4097|2,tn=!1,zi=c)}}else{if(xv(c))throw Error(o(418));c.flags=c.flags&-4097|2,tn=!1,zi=c}}}function nE(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;zi=c}function Hu(c){if(!ae||c!==zi)return!1;if(!tn)return nE(c),tn=!0,!1;if(c.tag!==3&&(c.tag!==5||Ut(c.type)&&!we(c.type,c.memoizedProps))){var f=Hi;if(f){if(xv(c)){for(c=Hi;c;)c=N(c);throw Error(o(418))}for(;f;)eE(c,f),f=N(f)}}if(nE(c),c.tag===13){if(!ae)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Hi=at(c)}else Hi=zi?N(c.stateNode):null;return!0}function Hl(){ae&&(Hi=zi=null,zu=tn=!1)}function Av(c){Or===null?Or=[c]:Or.push(c)}function Gu(c,f,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var _=v.stateNode}if(!_)throw Error(o(147,c));var w=_,C=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===C?f.ref:(f=function(O){var Y=w.refs;Y===YM&&(Y=w.refs={}),O===null?delete Y[C]:Y[C]=O},f._stringRef=C,f)}if(typeof c!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,c))}return c}function Wh(c,f){throw c=Object.prototype.toString.call(f),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function iE(c){var f=c._init;return f(c._payload)}function rE(c){function f(re,Z){if(c){var ue=re.deletions;ue===null?(re.deletions=[Z],re.flags|=16):ue.push(Z)}}function v(re,Z){if(!c)return null;for(;Z!==null;)f(re,Z),Z=Z.sibling;return null}function _(re,Z){for(re=new Map;Z!==null;)Z.key!==null?re.set(Z.key,Z):re.set(Z.index,Z),Z=Z.sibling;return re}function w(re,Z){return re=So(re,Z),re.index=0,re.sibling=null,re}function C(re,Z,ue){return re.index=ue,c?(ue=re.alternate,ue!==null?(ue=ue.index,ue<Z?(re.flags|=2,Z):ue):(re.flags|=2,Z)):(re.flags|=1048576,Z)}function O(re){return c&&re.alternate===null&&(re.flags|=2),re}function Y(re,Z,ue,Oe){return Z===null||Z.tag!==6?(Z=ry(ue,re.mode,Oe),Z.return=re,Z):(Z=w(Z,ue),Z.return=re,Z)}function de(re,Z,ue,Oe){var qe=ue.type;return qe===d?Ge(re,Z,ue.props.children,Oe,ue.key):Z!==null&&(Z.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===S&&iE(qe)===Z.type)?(Oe=w(Z,ue.props),Oe.ref=Gu(re,Z,ue),Oe.return=re,Oe):(Oe=Ap(ue.type,ue.key,ue.props,null,re.mode,Oe),Oe.ref=Gu(re,Z,ue),Oe.return=re,Oe)}function Pe(re,Z,ue,Oe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ue.containerInfo||Z.stateNode.implementation!==ue.implementation?(Z=sy(ue,re.mode,Oe),Z.return=re,Z):(Z=w(Z,ue.children||[]),Z.return=re,Z)}function Ge(re,Z,ue,Oe,qe){return Z===null||Z.tag!==7?(Z=La(ue,re.mode,Oe,qe),Z.return=re,Z):(Z=w(Z,ue),Z.return=re,Z)}function ct(re,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=ry(""+Z,re.mode,ue),Z.return=re,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return ue=Ap(Z.type,Z.key,Z.props,null,re.mode,ue),ue.ref=Gu(re,null,Z),ue.return=re,ue;case u:return Z=sy(Z,re.mode,ue),Z.return=re,Z;case S:var Oe=Z._init;return ct(re,Oe(Z._payload),ue)}if(j(Z)||R(Z))return Z=La(Z,re.mode,ue,null),Z.return=re,Z;Wh(re,Z)}return null}function it(re,Z,ue,Oe){var qe=Z!==null?Z.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return qe!==null?null:Y(re,Z,""+ue,Oe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return ue.key===qe?de(re,Z,ue,Oe):null;case u:return ue.key===qe?Pe(re,Z,ue,Oe):null;case S:return qe=ue._init,it(re,Z,qe(ue._payload),Oe)}if(j(ue)||R(ue))return qe!==null?null:Ge(re,Z,ue,Oe,null);Wh(re,ue)}return null}function jt(re,Z,ue,Oe,qe){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return re=re.get(ue)||null,Y(Z,re,""+Oe,qe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case l:return re=re.get(Oe.key===null?ue:Oe.key)||null,de(Z,re,Oe,qe);case u:return re=re.get(Oe.key===null?ue:Oe.key)||null,Pe(Z,re,Oe,qe);case S:var vt=Oe._init;return jt(re,Z,ue,vt(Oe._payload),qe)}if(j(Oe)||R(Oe))return re=re.get(ue)||null,Ge(Z,re,Oe,qe,null);Wh(Z,Oe)}return null}function $e(re,Z,ue,Oe){for(var qe=null,vt=null,ut=Z,Dt=Z=0,Hn=null;ut!==null&&Dt<ue.length;Dt++){ut.index>Dt?(Hn=ut,ut=null):Hn=ut.sibling;var Ft=it(re,ut,ue[Dt],Oe);if(Ft===null){ut===null&&(ut=Hn);break}c&&ut&&Ft.alternate===null&&f(re,ut),Z=C(Ft,Z,Dt),vt===null?qe=Ft:vt.sibling=Ft,vt=Ft,ut=Hn}if(Dt===ue.length)return v(re,ut),tn&&wa(re,Dt),qe;if(ut===null){for(;Dt<ue.length;Dt++)ut=ct(re,ue[Dt],Oe),ut!==null&&(Z=C(ut,Z,Dt),vt===null?qe=ut:vt.sibling=ut,vt=ut);return tn&&wa(re,Dt),qe}for(ut=_(re,ut);Dt<ue.length;Dt++)Hn=jt(ut,re,Dt,ue[Dt],Oe),Hn!==null&&(c&&Hn.alternate!==null&&ut.delete(Hn.key===null?Dt:Hn.key),Z=C(Hn,Z,Dt),vt===null?qe=Hn:vt.sibling=Hn,vt=Hn);return c&&ut.forEach(function(Mo){return f(re,Mo)}),tn&&wa(re,Dt),qe}function si(re,Z,ue,Oe){var qe=R(ue);if(typeof qe!="function")throw Error(o(150));if(ue=qe.call(ue),ue==null)throw Error(o(151));for(var vt=qe=null,ut=Z,Dt=Z=0,Hn=null,Ft=ue.next();ut!==null&&!Ft.done;Dt++,Ft=ue.next()){ut.index>Dt?(Hn=ut,ut=null):Hn=ut.sibling;var Mo=it(re,ut,Ft.value,Oe);if(Mo===null){ut===null&&(ut=Hn);break}c&&ut&&Mo.alternate===null&&f(re,ut),Z=C(Mo,Z,Dt),vt===null?qe=Mo:vt.sibling=Mo,vt=Mo,ut=Hn}if(Ft.done)return v(re,ut),tn&&wa(re,Dt),qe;if(ut===null){for(;!Ft.done;Dt++,Ft=ue.next())Ft=ct(re,Ft.value,Oe),Ft!==null&&(Z=C(Ft,Z,Dt),vt===null?qe=Ft:vt.sibling=Ft,vt=Ft);return tn&&wa(re,Dt),qe}for(ut=_(re,ut);!Ft.done;Dt++,Ft=ue.next())Ft=jt(ut,re,Dt,Ft.value,Oe),Ft!==null&&(c&&Ft.alternate!==null&&ut.delete(Ft.key===null?Dt:Ft.key),Z=C(Ft,Z,Dt),vt===null?qe=Ft:vt.sibling=Ft,vt=Ft);return c&&ut.forEach(function(nN){return f(re,nN)}),tn&&wa(re,Dt),qe}function mr(re,Z,ue,Oe){if(typeof ue=="object"&&ue!==null&&ue.type===d&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:e:{for(var qe=ue.key,vt=Z;vt!==null;){if(vt.key===qe){if(qe=ue.type,qe===d){if(vt.tag===7){v(re,vt.sibling),Z=w(vt,ue.props.children),Z.return=re,re=Z;break e}}else if(vt.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===S&&iE(qe)===vt.type){v(re,vt.sibling),Z=w(vt,ue.props),Z.ref=Gu(re,vt,ue),Z.return=re,re=Z;break e}v(re,vt);break}else f(re,vt);vt=vt.sibling}ue.type===d?(Z=La(ue.props.children,re.mode,Oe,ue.key),Z.return=re,re=Z):(Oe=Ap(ue.type,ue.key,ue.props,null,re.mode,Oe),Oe.ref=Gu(re,Z,ue),Oe.return=re,re=Oe)}return O(re);case u:e:{for(vt=ue.key;Z!==null;){if(Z.key===vt)if(Z.tag===4&&Z.stateNode.containerInfo===ue.containerInfo&&Z.stateNode.implementation===ue.implementation){v(re,Z.sibling),Z=w(Z,ue.children||[]),Z.return=re,re=Z;break e}else{v(re,Z);break}else f(re,Z);Z=Z.sibling}Z=sy(ue,re.mode,Oe),Z.return=re,re=Z}return O(re);case S:return vt=ue._init,mr(re,Z,vt(ue._payload),Oe)}if(j(ue))return $e(re,Z,ue,Oe);if(R(ue))return si(re,Z,ue,Oe);Wh(re,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,Z!==null&&Z.tag===6?(v(re,Z.sibling),Z=w(Z,ue),Z.return=re,re=Z):(v(re,Z),Z=ry(ue,re.mode,Oe),Z.return=re,re=Z),O(re)):v(re,Z)}return mr}var Gl=rE(!0),sE=rE(!1),Vu={},fr=Ti(Vu),Wu=Ti(Vu),Vl=Ti(Vu);function us(c){if(c===Vu)throw Error(o(174));return c}function Sv(c,f){pt(Vl,f),pt(Wu,c),pt(fr,Vu),c=te(f),zt(fr),pt(fr,c)}function Wl(){zt(fr),zt(Wu),zt(Vl)}function oE(c){var f=us(Vl.current),v=us(fr.current);f=I(v,c.type,f),v!==f&&(pt(Wu,c),pt(fr,f))}function Mv(c){Wu.current===c&&(zt(fr),zt(Wu))}var on=Ti(0);function jh(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||bh(v)||Ou(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Ev=[];function wv(){for(var c=0;c<Ev.length;c++){var f=Ev[c];_e?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}Ev.length=0}var Xh=a.ReactCurrentDispatcher,dr=a.ReactCurrentBatchConfig,jl=0,pn=null,ni=null,zn=null,Jh=!1,ju=!1,Xu=0,CF=0;function ii(){throw Error(o(321))}function Tv(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!as(c[v],f[v]))return!1;return!0}function Cv(c,f,v,_,w,C){if(jl=C,pn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Xh.current=c===null||c.memoizedState===null?BF:LF,c=v(_,w),ju){C=0;do{if(ju=!1,Xu=0,25<=C)throw Error(o(301));C+=1,zn=ni=null,f.updateQueue=null,Xh.current=IF,c=v(_,w)}while(ju)}if(Xh.current=qh,f=ni!==null&&ni.next!==null,jl=0,zn=ni=pn=null,Jh=!1,f)throw Error(o(300));return c}function bv(){var c=Xu!==0;return Xu=0,c}function Ls(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?pn.memoizedState=zn=c:zn=zn.next=c,zn}function fs(){if(ni===null){var c=pn.alternate;c=c!==null?c.memoizedState:null}else c=ni.next;var f=zn===null?pn.memoizedState:zn.next;if(f!==null)zn=f,ni=c;else{if(c===null)throw Error(o(310));ni=c,c={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},zn===null?pn.memoizedState=zn=c:zn=zn.next=c}return zn}function Ta(c,f){return typeof f=="function"?f(c):f}function Kh(c){var f=fs(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var _=ni,w=_.baseQueue,C=v.pending;if(C!==null){if(w!==null){var O=w.next;w.next=C.next,C.next=O}_.baseQueue=w=C,v.pending=null}if(w!==null){C=w.next,_=_.baseState;var Y=O=null,de=null,Pe=C;do{var Ge=Pe.lane;if((jl&Ge)===Ge)de!==null&&(de=de.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),_=Pe.hasEagerState?Pe.eagerState:c(_,Pe.action);else{var ct={lane:Ge,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};de===null?(Y=de=ct,O=_):de=de.next=ct,pn.lanes|=Ge,Jl|=Ge}Pe=Pe.next}while(Pe!==null&&Pe!==C);de===null?O=_:de.next=Y,as(_,f.memoizedState)||(Gi=!0),f.memoizedState=_,f.baseState=O,f.baseQueue=de,v.lastRenderedState=_}if(c=v.interleaved,c!==null){w=c;do C=w.lane,pn.lanes|=C,Jl|=C,w=w.next;while(w!==c)}else w===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function Yh(c){var f=fs(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var _=v.dispatch,w=v.pending,C=f.memoizedState;if(w!==null){v.pending=null;var O=w=w.next;do C=c(C,O.action),O=O.next;while(O!==w);as(C,f.memoizedState)||(Gi=!0),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),v.lastRenderedState=C}return[C,_]}function aE(){}function lE(c,f){var v=pn,_=fs(),w=f(),C=!as(_.memoizedState,w);if(C&&(_.memoizedState=w,Gi=!0),_=_.queue,Ku(fE.bind(null,v,_,c),[c]),_.getSnapshot!==f||C||zn!==null&&zn.memoizedState.tag&1){if(v.flags|=2048,Ju(9,uE.bind(null,v,_,w,f),void 0,null),wn===null)throw Error(o(349));jl&30||cE(v,f,w)}return w}function cE(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=pn.updateQueue,f===null?(f={lastEffect:null,stores:null},pn.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function uE(c,f,v,_){f.value=v,f.getSnapshot=_,dE(f)&&hr(c,1,-1)}function fE(c,f,v){return v(function(){dE(f)&&hr(c,1,-1)})}function dE(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!as(c,v)}catch{return!0}}function Rv(c){var f=Ls();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:c},f.queue=c,c=c.dispatch=PF.bind(null,pn,c),[f.memoizedState,c]}function Ju(c,f,v,_){return c={tag:c,create:f,destroy:v,deps:_,next:null},f=pn.updateQueue,f===null?(f={lastEffect:null,stores:null},pn.updateQueue=f,f.lastEffect=c.next=c):(v=f.lastEffect,v===null?f.lastEffect=c.next=c:(_=v.next,v.next=c,c.next=_,f.lastEffect=c)),c}function hE(){return fs().memoizedState}function Qh(c,f,v,_){var w=Ls();pn.flags|=c,w.memoizedState=Ju(1|f,v,void 0,_===void 0?null:_)}function Zh(c,f,v,_){var w=fs();_=_===void 0?null:_;var C=void 0;if(ni!==null){var O=ni.memoizedState;if(C=O.destroy,_!==null&&Tv(_,O.deps)){w.memoizedState=Ju(f,v,C,_);return}}pn.flags|=c,w.memoizedState=Ju(1|f,v,C,_)}function Pv(c,f){return Qh(8390656,8,c,f)}function Ku(c,f){return Zh(2048,8,c,f)}function pE(c,f){return Zh(4,2,c,f)}function mE(c,f){return Zh(4,4,c,f)}function gE(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function vE(c,f,v){return v=v!=null?v.concat([c]):null,Zh(4,4,gE.bind(null,f,c),v)}function Bv(){}function yE(c,f){var v=fs();f=f===void 0?null:f;var _=v.memoizedState;return _!==null&&f!==null&&Tv(f,_[1])?_[0]:(v.memoizedState=[c,f],c)}function xE(c,f){var v=fs();f=f===void 0?null:f;var _=v.memoizedState;return _!==null&&f!==null&&Tv(f,_[1])?_[0]:(c=c(),v.memoizedState=[c,f],c)}function bF(c,f){var v=It;It=v!==0&&4>v?v:4,c(!0);var _=dr.transition;dr.transition={};try{c(!1),f()}finally{It=v,dr.transition=_}}function _E(){return fs().memoizedState}function RF(c,f,v){var _=_o(c);v={lane:_,action:v,hasEagerState:!1,eagerState:null,next:null},AE(c)?SE(f,v):(ME(c,f,v),v=gi(),c=hr(c,_,v),c!==null&&EE(c,f,_))}function PF(c,f,v){var _=_o(c),w={lane:_,action:v,hasEagerState:!1,eagerState:null,next:null};if(AE(c))SE(f,w);else{ME(c,f,w);var C=c.alternate;if(c.lanes===0&&(C===null||C.lanes===0)&&(C=f.lastRenderedReducer,C!==null))try{var O=f.lastRenderedState,Y=C(O,v);if(w.hasEagerState=!0,w.eagerState=Y,as(Y,O))return}catch{}finally{}v=gi(),c=hr(c,_,v),c!==null&&EE(c,f,_)}}function AE(c){var f=c.alternate;return c===pn||f!==null&&f===pn}function SE(c,f){ju=Jh=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function ME(c,f,v){wn!==null&&c.mode&1&&!(St&2)?(c=f.interleaved,c===null?(v.next=v,cs===null?cs=[f]:cs.push(f)):(v.next=c.next,c.next=v),f.interleaved=v):(c=f.pending,c===null?v.next=v:(v.next=c.next,c.next=v),f.pending=v)}function EE(c,f,v){if(v&4194240){var _=f.lanes;_&=c.pendingLanes,v|=_,f.lanes=v,sv(c,v)}}var qh={readContext:lr,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},BF={readContext:lr,useCallback:function(c,f){return Ls().memoizedState=[c,f===void 0?null:f],c},useContext:lr,useEffect:Pv,useImperativeHandle:function(c,f,v){return v=v!=null?v.concat([c]):null,Qh(4194308,4,gE.bind(null,f,c),v)},useLayoutEffect:function(c,f){return Qh(4194308,4,c,f)},useInsertionEffect:function(c,f){return Qh(4,2,c,f)},useMemo:function(c,f){var v=Ls();return f=f===void 0?null:f,c=c(),v.memoizedState=[c,f],c},useReducer:function(c,f,v){var _=Ls();return f=v!==void 0?v(f):f,_.memoizedState=_.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},_.queue=c,c=c.dispatch=RF.bind(null,pn,c),[_.memoizedState,c]},useRef:function(c){var f=Ls();return c={current:c},f.memoizedState=c},useState:Rv,useDebugValue:Bv,useDeferredValue:function(c){var f=Rv(c),v=f[0],_=f[1];return Pv(function(){var w=dr.transition;dr.transition={};try{_(c)}finally{dr.transition=w}},[c]),v},useTransition:function(){var c=Rv(!1),f=c[0];return c=bF.bind(null,c[1]),Ls().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,v){var _=pn,w=Ls();if(tn){if(v===void 0)throw Error(o(407));v=v()}else{if(v=f(),wn===null)throw Error(o(349));jl&30||cE(_,f,v)}w.memoizedState=v;var C={value:v,getSnapshot:f};return w.queue=C,Pv(fE.bind(null,_,C,c),[c]),_.flags|=2048,Ju(9,uE.bind(null,_,C,v,f),void 0,null),v},useId:function(){var c=Ls(),f=wn.identifierPrefix;if(tn){var v=Bs,_=Ps;v=(_&~(1<<32-Fr(_)-1)).toString(32)+v,f=":"+f+"R"+v,v=Xu++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=CF++,f=":"+f+"r"+v.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},LF={readContext:lr,useCallback:yE,useContext:lr,useEffect:Ku,useImperativeHandle:vE,useInsertionEffect:pE,useLayoutEffect:mE,useMemo:xE,useReducer:Kh,useRef:hE,useState:function(){return Kh(Ta)},useDebugValue:Bv,useDeferredValue:function(c){var f=Kh(Ta),v=f[0],_=f[1];return Ku(function(){var w=dr.transition;dr.transition={};try{_(c)}finally{dr.transition=w}},[c]),v},useTransition:function(){var c=Kh(Ta)[0],f=fs().memoizedState;return[c,f]},useMutableSource:aE,useSyncExternalStore:lE,useId:_E,unstable_isNewReconciler:!1},IF={readContext:lr,useCallback:yE,useContext:lr,useEffect:Ku,useImperativeHandle:vE,useInsertionEffect:pE,useLayoutEffect:mE,useMemo:xE,useReducer:Yh,useRef:hE,useState:function(){return Yh(Ta)},useDebugValue:Bv,useDeferredValue:function(c){var f=Yh(Ta),v=f[0],_=f[1];return Ku(function(){var w=dr.transition;dr.transition={};try{_(c)}finally{dr.transition=w}},[c]),v},useTransition:function(){var c=Yh(Ta)[0],f=fs().memoizedState;return[c,f]},useMutableSource:aE,useSyncExternalStore:lE,useId:_E,unstable_isNewReconciler:!1};function Lv(c,f){try{var v="",_=f;do v+=TF(_),_=_.return;while(_);var w=v}catch(C){w=`
Error generating stack: `+C.message+`
`+C.stack}return{value:c,source:f,stack:w}}function Iv(c,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var DF=typeof WeakMap=="function"?WeakMap:Map;function wE(c,f,v){v=Rs(-1,v),v.tag=3,v.payload={element:null};var _=f.value;return v.callback=function(){pp||(pp=!0,Zv=_),Iv(c,f)},v}function TE(c,f,v){v=Rs(-1,v),v.tag=3;var _=c.type.getDerivedStateFromError;if(typeof _=="function"){var w=f.value;v.payload=function(){return _(w)},v.callback=function(){Iv(c,f)}}var C=c.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(v.callback=function(){Iv(c,f),typeof _!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})}),v}function CE(c,f,v){var _=c.pingCache;if(_===null){_=c.pingCache=new DF;var w=new Set;_.set(f,w)}else w=_.get(f),w===void 0&&(w=new Set,_.set(f,w));w.has(v)||(w.add(v),c=KF.bind(null,c,f,v),f.then(c,c))}function bE(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function RE(c,f,v,_,w){return c.mode&1?(c.flags|=65536,c.lanes=w,c):(c===f?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=Rs(-1,1),f.tag=2,vo(v,f))),v.lanes|=1),c)}function ds(c){c.flags|=4}function PE(c,f){if(c!==null&&c.child===f.child)return!0;if(f.flags&16)return!1;for(c=f.child;c!==null;){if(c.flags&12854||c.subtreeFlags&12854)return!1;c=c.sibling}return!0}var Yu,Qu,$h,ep;if(Ee)Yu=function(c,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)Q(c,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},Qu=function(){},$h=function(c,f,v,_,w){if(c=c.memoizedProps,c!==_){var C=f.stateNode,O=us(fr.current);v=ie(C,v,c,_,w,O),(f.updateQueue=v)&&ds(f)}},ep=function(c,f,v,_){v!==_&&ds(f)};else if(ge){Yu=function(c,f,v,_){for(var w=f.child;w!==null;){if(w.tag===5){var C=w.stateNode;v&&_&&(C=en(C,w.type,w.memoizedProps,w)),Q(c,C)}else if(w.tag===6)C=w.stateNode,v&&_&&(C=pi(C,w.memoizedProps,w)),Q(c,C);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)C=w.child,C!==null&&(C.return=w),Yu(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var BE=function(c,f,v,_){for(var w=f.child;w!==null;){if(w.tag===5){var C=w.stateNode;v&&_&&(C=en(C,w.type,w.memoizedProps,w)),kt(c,C)}else if(w.tag===6)C=w.stateNode,v&&_&&(C=pi(C,w.memoizedProps,w)),kt(c,C);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)C=w.child,C!==null&&(C.return=w),BE(c,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};Qu=function(c,f){var v=f.stateNode;if(!PE(c,f)){c=v.containerInfo;var _=Ot(c);BE(_,f,!1,!1),v.pendingChildren=_,ds(f),kn(c,_)}},$h=function(c,f,v,_,w){var C=c.stateNode,O=c.memoizedProps;if((c=PE(c,f))&&O===_)f.stateNode=C;else{var Y=f.stateNode,de=us(fr.current),Pe=null;O!==_&&(Pe=ie(Y,v,O,_,w,de)),c&&Pe===null?f.stateNode=C:(C=Ze(C,Pe,v,O,_,f,c,Y),ee(C,v,_,w,de)&&ds(f),f.stateNode=C,c?ds(f):Yu(C,f,!1,!1))}},ep=function(c,f,v,_){v!==_?(c=us(Vl.current),v=us(fr.current),f.stateNode=xe(_,c,v,f),ds(f)):f.stateNode=c.stateNode}}else Qu=function(){},$h=function(){},ep=function(){};function Zu(c,f){if(!tn)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var _=null;v!==null;)v.alternate!==null&&(_=v),v=v.sibling;_===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:_.sibling=null}}function ri(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,_=0;if(f)for(var w=c.child;w!==null;)v|=w.lanes|w.childLanes,_|=w.subtreeFlags&14680064,_|=w.flags&14680064,w.return=c,w=w.sibling;else for(w=c.child;w!==null;)v|=w.lanes|w.childLanes,_|=w.subtreeFlags,_|=w.flags,w.return=c,w=w.sibling;return c.subtreeFlags|=_,c.childLanes=v,f}function FF(c,f,v){var _=f.pendingProps;switch(yv(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(f),null;case 1:return Yn(f.type)&&Rh(),ri(f),null;case 3:return _=f.stateNode,Wl(),zt(Wt),zt(En),wv(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(c===null||c.child===null)&&(Hu(f)?ds(f):c===null||c.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Or!==null&&(ey(Or),Or=null))),Qu(c,f),ri(f),null;case 5:Mv(f),v=us(Vl.current);var w=f.type;if(c!==null&&f.stateNode!=null)$h(c,f,w,_,v),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!_){if(f.stateNode===null)throw Error(o(166));return ri(f),null}if(c=us(fr.current),Hu(f)){if(!ae)throw Error(o(175));c=ve(f.stateNode,f.type,f.memoizedProps,v,c,f,!zu),f.updateQueue=c,c!==null&&ds(f)}else{var C=$(w,_,v,c,f);Yu(C,f,!1,!1),f.stateNode=C,ee(C,w,_,v,c)&&ds(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ri(f),null;case 6:if(c&&f.stateNode!=null)ep(c,f,c.memoizedProps,_);else{if(typeof _!="string"&&f.stateNode===null)throw Error(o(166));if(c=us(Vl.current),v=us(fr.current),Hu(f)){if(!ae)throw Error(o(176));if(c=f.stateNode,_=f.memoizedProps,(v=tt(c,_,f,!zu))&&(w=zi,w!==null))switch(C=(w.mode&1)!==0,w.tag){case 3:Kn(w.stateNode.containerInfo,c,_,C);break;case 5:Ui(w.type,w.memoizedProps,w.stateNode,c,_,C)}v&&ds(f)}else f.stateNode=xe(_,c,v,f)}return ri(f),null;case 13:if(zt(on),_=f.memoizedState,tn&&Hi!==null&&f.mode&1&&!(f.flags&128)){for(c=Hi;c;)c=N(c);return Hl(),f.flags|=98560,f}if(_!==null&&_.dehydrated!==null){if(_=Hu(f),c===null){if(!_)throw Error(o(318));if(!ae)throw Error(o(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));rt(c,f)}else Hl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return ri(f),null}return Or!==null&&(ey(Or),Or=null),f.flags&128?(f.lanes=v,f):(_=_!==null,v=!1,c===null?Hu(f):v=c.memoizedState!==null,_&&!v&&(f.child.flags|=8192,f.mode&1&&(c===null||on.current&1?Bn===0&&(Bn=3):ny())),f.updateQueue!==null&&(f.flags|=4),ri(f),null);case 4:return Wl(),Qu(c,f),c===null&&Ne(f.stateNode.containerInfo),ri(f),null;case 10:return dv(f.type._context),ri(f),null;case 17:return Yn(f.type)&&Rh(),ri(f),null;case 19:if(zt(on),w=f.memoizedState,w===null)return ri(f),null;if(_=(f.flags&128)!==0,C=w.rendering,C===null)if(_)Zu(w,!1);else{if(Bn!==0||c!==null&&c.flags&128)for(c=f.child;c!==null;){if(C=jh(c),C!==null){for(f.flags|=128,Zu(w,!1),c=C.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=v,_=f.child;_!==null;)v=_,w=c,v.flags&=14680066,C=v.alternate,C===null?(v.childLanes=0,v.lanes=w,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=C.childLanes,v.lanes=C.lanes,v.child=C.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=C.memoizedProps,v.memoizedState=C.memoizedState,v.updateQueue=C.updateQueue,v.type=C.type,w=C.dependencies,v.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),_=_.sibling;return pt(on,on.current&1|2),f.child}c=c.sibling}w.tail!==null&&Un()>Qv&&(f.flags|=128,_=!0,Zu(w,!1),f.lanes=4194304)}else{if(!_)if(c=jh(C),c!==null){if(f.flags|=128,_=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),Zu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!tn)return ri(f),null}else 2*Un()-w.renderingStartTime>Qv&&v!==1073741824&&(f.flags|=128,_=!0,Zu(w,!1),f.lanes=4194304);w.isBackwards?(C.sibling=f.child,f.child=C):(c=w.last,c!==null?c.sibling=C:f.child=C,w.last=C)}return w.tail!==null?(f=w.tail,w.rendering=f,w.tail=f.sibling,w.renderingStartTime=Un(),f.sibling=null,c=on.current,pt(on,_?c&1|2:c&1),f):(ri(f),null);case 22:case 23:return ty(),_=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==_&&(f.flags|=8192),_&&f.mode&1?Vi&1073741824&&(ri(f),Ee&&f.subtreeFlags&6&&(f.flags|=8192)):ri(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var NF=a.ReactCurrentOwner,Gi=!1;function mi(c,f,v,_){f.child=c===null?sE(f,null,v,_):Gl(f,c.child,v,_)}function LE(c,f,v,_,w){v=v.render;var C=f.ref;return kl(f,w),_=Cv(c,f,v,_,C,w),v=bv(),c!==null&&!Gi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~w,Is(c,f,w)):(tn&&v&&vv(f),f.flags|=1,mi(c,f,_,w),f.child)}function IE(c,f,v,_,w){if(c===null){var C=v.type;return typeof C=="function"&&!iy(C)&&C.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=C,DE(c,f,C,_,w)):(c=Ap(v.type,null,_,f,f.mode,w),c.ref=f.ref,c.return=f,f.child=c)}if(C=c.child,!(c.lanes&w)){var O=C.memoizedProps;if(v=v.compare,v=v!==null?v:Nh,v(O,_)&&c.ref===f.ref)return Is(c,f,w)}return f.flags|=1,c=So(C,_),c.ref=f.ref,c.return=f,f.child=c}function DE(c,f,v,_,w){if(c!==null&&Nh(c.memoizedProps,_)&&c.ref===f.ref)if(Gi=!1,(c.lanes&w)!==0)c.flags&131072&&(Gi=!0);else return f.lanes=c.lanes,Is(c,f,w);return Dv(c,f,v,_,w)}function FE(c,f,v){var _=f.pendingProps,w=_.children,C=c!==null?c.memoizedState:null;if(_.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},pt(Xl,Vi),Vi|=v;else if(v&1073741824)f.memoizedState={baseLanes:0,cachePool:null},_=C!==null?C.baseLanes:v,pt(Xl,Vi),Vi|=_;else return c=C!==null?C.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,pt(Xl,Vi),Vi|=c,null;else C!==null?(_=C.baseLanes|v,f.memoizedState=null):_=v,pt(Xl,Vi),Vi|=_;return mi(c,f,w,v),f.child}function NE(c,f){var v=f.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function Dv(c,f,v,_,w){var C=Yn(v)?Dr:En.current;return C=mo(f,C),kl(f,w),v=Cv(c,f,v,_,C,w),_=bv(),c!==null&&!Gi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~w,Is(c,f,w)):(tn&&_&&vv(f),f.flags|=1,mi(c,f,v,w),f.child)}function OE(c,f,v,_,w){if(Yn(v)){var C=!0;Ph(f)}else C=!1;if(kl(f,w),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),ZM(f,v,_),gv(f,v,_,w),_=!0;else if(c===null){var O=f.stateNode,Y=f.memoizedProps;O.props=Y;var de=O.context,Pe=v.contextType;typeof Pe=="object"&&Pe!==null?Pe=lr(Pe):(Pe=Yn(v)?Dr:En.current,Pe=mo(f,Pe));var Ge=v.getDerivedStateFromProps,ct=typeof Ge=="function"||typeof O.getSnapshotBeforeUpdate=="function";ct||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Y!==_||de!==Pe)&&qM(f,O,_,Pe),go=!1;var it=f.memoizedState;O.state=it,zh(f,_,O,w),de=f.memoizedState,Y!==_||it!==de||Wt.current||go?(typeof Ge=="function"&&(mv(f,v,Ge,_),de=f.memoizedState),(Y=go||QM(f,v,Y,_,it,de,Pe))?(ct||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(f.flags|=4194308)):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=_,f.memoizedState=de),O.props=_,O.state=de,O.context=Pe,_=Y):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),_=!1)}else{O=f.stateNode,XM(c,f),Y=f.memoizedProps,Pe=f.type===f.elementType?Y:Nr(f.type,Y),O.props=Pe,ct=f.pendingProps,it=O.context,de=v.contextType,typeof de=="object"&&de!==null?de=lr(de):(de=Yn(v)?Dr:En.current,de=mo(f,de));var jt=v.getDerivedStateFromProps;(Ge=typeof jt=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Y!==ct||it!==de)&&qM(f,O,_,de),go=!1,it=f.memoizedState,O.state=it,zh(f,_,O,w);var $e=f.memoizedState;Y!==ct||it!==$e||Wt.current||go?(typeof jt=="function"&&(mv(f,v,jt,_),$e=f.memoizedState),(Pe=go||QM(f,v,Pe,_,it,$e,de)||!1)?(Ge||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(_,$e,de),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(_,$e,de)),typeof O.componentDidUpdate=="function"&&(f.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof O.componentDidUpdate!="function"||Y===c.memoizedProps&&it===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&it===c.memoizedState||(f.flags|=1024),f.memoizedProps=_,f.memoizedState=$e),O.props=_,O.state=$e,O.context=de,_=Pe):(typeof O.componentDidUpdate!="function"||Y===c.memoizedProps&&it===c.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&it===c.memoizedState||(f.flags|=1024),_=!1)}return Fv(c,f,v,_,C,w)}function Fv(c,f,v,_,w,C){NE(c,f);var O=(f.flags&128)!==0;if(!_&&!O)return w&&HM(f,v,!1),Is(c,f,C);_=f.stateNode,NF.current=f;var Y=O&&typeof v.getDerivedStateFromError!="function"?null:_.render();return f.flags|=1,c!==null&&O?(f.child=Gl(f,c.child,null,C),f.child=Gl(f,null,Y,C)):mi(c,f,Y,C),f.memoizedState=_.state,w&&HM(f,v,!0),f.child}function kE(c){var f=c.stateNode;f.pendingContext?UM(c,f.pendingContext,f.pendingContext!==f.context):f.context&&UM(c,f.context,!1),Sv(c,f.containerInfo)}function UE(c,f,v,_,w){return Hl(),Av(w),f.flags|=256,mi(c,f,v,_),f.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(c){return{baseLanes:c,cachePool:null}}function zE(c,f,v){var _=f.pendingProps,w=on.current,C=!1,O=(f.flags&128)!==0,Y;if((Y=O)||(Y=c!==null&&c.memoizedState===null?!1:(w&2)!==0),Y?(C=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(w|=1),pt(on,w&1),c===null)return _v(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(f.mode&1?Ou(c)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(w=_.children,c=_.fallback,C?(_=f.mode,C=f.child,w={mode:"hidden",children:w},!(_&1)&&C!==null?(C.childLanes=0,C.pendingProps=w):C=Sp(w,_,0,null),c=La(c,_,v,null),C.return=f,c.return=f,C.sibling=c,f.child=C,f.child.memoizedState=np(v),f.memoizedState=tp,c):Nv(f,w));if(w=c.memoizedState,w!==null){if(Y=w.dehydrated,Y!==null){if(O)return f.flags&256?(f.flags&=-257,ip(c,f,v,Error(o(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(C=_.fallback,w=f.mode,_=Sp({mode:"visible",children:_.children},w,0,null),C=La(C,w,v,null),C.flags|=2,_.return=f,C.return=f,_.sibling=C,f.child=_,f.mode&1&&Gl(f,c.child,null,v),f.child.memoizedState=np(v),f.memoizedState=tp,C);if(!(f.mode&1))f=ip(c,f,v,null);else if(Ou(Y))f=ip(c,f,v,Error(o(419)));else if(_=(v&c.childLanes)!==0,Gi||_){if(_=wn,_!==null){switch(v&-v){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}_=C&(_.suspendedLanes|v)?0:C,_!==0&&_!==w.retryLane&&(w.retryLane=_,hr(c,_,-1))}ny(),f=ip(c,f,v,Error(o(421)))}else bh(Y)?(f.flags|=128,f.child=c.child,f=YF.bind(null,c),nv(Y,f),f=null):(v=w.treeContext,ae&&(Hi=ne(Y),zi=f,tn=!0,Or=null,zu=!1,v!==null&&(cr[ur++]=Ps,cr[ur++]=Bs,cr[ur++]=Ea,Ps=v.id,Bs=v.overflow,Ea=f)),f=Nv(f,f.pendingProps.children),f.flags|=4096);return f}return C?(_=GE(c,f,_.children,_.fallback,v),C=f.child,w=c.child.memoizedState,C.memoizedState=w===null?np(v):{baseLanes:w.baseLanes|v,cachePool:null},C.childLanes=c.childLanes&~v,f.memoizedState=tp,_):(v=HE(c,f,_.children,v),f.memoizedState=null,v)}return C?(_=GE(c,f,_.children,_.fallback,v),C=f.child,w=c.child.memoizedState,C.memoizedState=w===null?np(v):{baseLanes:w.baseLanes|v,cachePool:null},C.childLanes=c.childLanes&~v,f.memoizedState=tp,_):(v=HE(c,f,_.children,v),f.memoizedState=null,v)}function Nv(c,f){return f=Sp({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function HE(c,f,v,_){var w=c.child;return c=w.sibling,v=So(w,{mode:"visible",children:v}),!(f.mode&1)&&(v.lanes=_),v.return=f,v.sibling=null,c!==null&&(_=f.deletions,_===null?(f.deletions=[c],f.flags|=16):_.push(c)),f.child=v}function GE(c,f,v,_,w){var C=f.mode;c=c.child;var O=c.sibling,Y={mode:"hidden",children:v};return!(C&1)&&f.child!==c?(v=f.child,v.childLanes=0,v.pendingProps=Y,f.deletions=null):(v=So(c,Y),v.subtreeFlags=c.subtreeFlags&14680064),O!==null?_=So(O,_):(_=La(_,C,w,null),_.flags|=2),_.return=f,v.return=f,v.sibling=_,f.child=v,_}function ip(c,f,v,_){return _!==null&&Av(_),Gl(f,c.child,null,v),c=Nv(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function VE(c,f,v){c.lanes|=f;var _=c.alternate;_!==null&&(_.lanes|=f),hv(c.return,f,v)}function Ov(c,f,v,_,w){var C=c.memoizedState;C===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:_,tail:v,tailMode:w}:(C.isBackwards=f,C.rendering=null,C.renderingStartTime=0,C.last=_,C.tail=v,C.tailMode=w)}function WE(c,f,v){var _=f.pendingProps,w=_.revealOrder,C=_.tail;if(mi(c,f,_.children,v),_=on.current,_&2)_=_&1|2,f.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&VE(c,v,f);else if(c.tag===19)VE(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}_&=1}if(pt(on,_),!(f.mode&1))f.memoizedState=null;else switch(w){case"forwards":for(v=f.child,w=null;v!==null;)c=v.alternate,c!==null&&jh(c)===null&&(w=v),v=v.sibling;v=w,v===null?(w=f.child,f.child=null):(w=v.sibling,v.sibling=null),Ov(f,!1,w,v,C);break;case"backwards":for(v=null,w=f.child,f.child=null;w!==null;){if(c=w.alternate,c!==null&&jh(c)===null){f.child=w;break}c=w.sibling,w.sibling=v,v=w,w=c}Ov(f,!0,v,null,C);break;case"together":Ov(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Is(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),Jl|=f.lanes,!(v&f.childLanes))return null;if(c!==null&&f.child!==c.child)throw Error(o(153));if(f.child!==null){for(c=f.child,v=So(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=So(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function OF(c,f,v){switch(f.tag){case 3:kE(f),Hl();break;case 5:oE(f);break;case 1:Yn(f.type)&&Ph(f);break;case 4:Sv(f,f.stateNode.containerInfo);break;case 10:jM(f,f.type._context,f.memoizedProps.value);break;case 13:var _=f.memoizedState;if(_!==null)return _.dehydrated!==null?(pt(on,on.current&1),f.flags|=128,null):v&f.child.childLanes?zE(c,f,v):(pt(on,on.current&1),c=Is(c,f,v),c!==null?c.sibling:null);pt(on,on.current&1);break;case 19:if(_=(v&f.childLanes)!==0,c.flags&128){if(_)return WE(c,f,v);f.flags|=128}var w=f.memoizedState;if(w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),pt(on,on.current),_)break;return null;case 22:case 23:return f.lanes=0,FE(c,f,v)}return Is(c,f,v)}function kF(c,f){switch(yv(f),f.tag){case 1:return Yn(f.type)&&Rh(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Wl(),zt(Wt),zt(En),wv(),c=f.flags,c&65536&&!(c&128)?(f.flags=c&-65537|128,f):null;case 5:return Mv(f),null;case 13:if(zt(on),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Hl()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return zt(on),null;case 4:return Wl(),null;case 10:return dv(f.type._context),null;case 22:case 23:return ty(),null;case 24:return null;default:return null}}var rp=!1,Ca=!1,UF=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function sp(c,f){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(_){Ri(c,f,_)}else v.current=null}function kv(c,f,v){try{v()}catch(_){Ri(c,f,_)}}var jE=!1;function zF(c,f){for(H(c.containerInfo),Fe=f;Fe!==null;)if(c=Fe,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Fe=f;else for(;Fe!==null;){c=Fe;try{var v=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,w=v.memoizedState,C=c.stateNode,O=C.getSnapshotBeforeUpdate(c.elementType===c.type?_:Nr(c.type,_),w);C.__reactInternalSnapshotBeforeUpdate=O}break;case 3:Ee&&Ue(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Y){Ri(c,c.return,Y)}if(f=c.sibling,f!==null){f.return=c.return,Fe=f;break}Fe=c.return}return v=jE,jE=!1,v}function ba(c,f,v){var _=f.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var w=_=_.next;do{if((w.tag&c)===c){var C=w.destroy;w.destroy=void 0,C!==void 0&&kv(f,v,C)}w=w.next}while(w!==_)}}function qu(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&c)===c){var _=v.create;v.destroy=_()}v=v.next}while(v!==f)}}function Uv(c){var f=c.ref;if(f!==null){var v=c.stateNode;switch(c.tag){case 5:c=se(v);break;default:c=v}typeof f=="function"?f(c):f.current=c}}function XE(c,f,v){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Dh,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var _=c=c.next;do{var w=_,C=w.destroy;w=w.tag,C!==void 0&&(w&2||w&4)&&kv(f,v,C),_=_.next}while(_!==c)}break;case 1:if(sp(f,v),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(O){Ri(f,v,O)}break;case 5:sp(f,v);break;case 4:Ee?qE(c,f,v):ge&&ge&&(f=f.stateNode.containerInfo,v=Ot(f),Br(f,v))}}function JE(c,f,v){for(var _=f;;)if(XE(c,_,v),_.child===null||Ee&&_.tag===4){if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else _.child.return=_,_=_.child}function KE(c){var f=c.alternate;f!==null&&(c.alternate=null,KE(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&We(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function YE(c){return c.tag===5||c.tag===3||c.tag===4}function QE(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||YE(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function ZE(c){if(Ee){e:{for(var f=c.return;f!==null;){if(YE(f))break e;f=f.return}throw Error(o(160))}var v=f;switch(v.tag){case 5:f=v.stateNode,v.flags&32&&(dt(f),v.flags&=-33),v=QE(c),Hv(c,v,f);break;case 3:case 4:f=v.stateNode.containerInfo,v=QE(c),zv(c,v,f);break;default:throw Error(o(161))}}}function zv(c,f,v){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?Se(v,c,f):ke(v,c);else if(_!==4&&(c=c.child,c!==null))for(zv(c,f,v),c=c.sibling;c!==null;)zv(c,f,v),c=c.sibling}function Hv(c,f,v){var _=c.tag;if(_===5||_===6)c=c.stateNode,f?he(v,c,f):nt(v,c);else if(_!==4&&(c=c.child,c!==null))for(Hv(c,f,v),c=c.sibling;c!==null;)Hv(c,f,v),c=c.sibling}function qE(c,f,v){for(var _=f,w=!1,C,O;;){if(!w){w=_.return;e:for(;;){if(w===null)throw Error(o(160));switch(C=w.stateNode,w.tag){case 5:O=!1;break e;case 3:C=C.containerInfo,O=!0;break e;case 4:C=C.containerInfo,O=!0;break e}w=w.return}w=!0}if(_.tag===5||_.tag===6)JE(c,_,v),O?et(C,_.stateNode):Re(C,_.stateNode);else if(_.tag===18)O?Et(C,_.stateNode):At(C,_.stateNode);else if(_.tag===4){if(_.child!==null){C=_.stateNode.containerInfo,O=!0,_.child.return=_,_=_.child;continue}}else if(XE(c,_,v),_.child!==null){_.child.return=_,_=_.child;continue}if(_===f)break;for(;_.sibling===null;){if(_.return===null||_.return===f)return;_=_.return,_.tag===4&&(w=!1)}_.sibling.return=_.return,_=_.sibling}}function Gv(c,f){if(Ee){switch(f.tag){case 0:case 11:case 14:case 15:ba(3,f,f.return),qu(3,f),ba(5,f,f.return);return;case 1:return;case 5:var v=f.stateNode;if(v!=null){var _=f.memoizedProps;c=c!==null?c.memoizedProps:_;var w=f.type,C=f.updateQueue;f.updateQueue=null,C!==null&&W(v,C,w,c,_,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));v=f.memoizedProps,pe(f.stateNode,c!==null?c.memoizedProps:v,v);return;case 3:ae&&c!==null&&c.memoizedState.isDehydrated&&ht(f.stateNode.containerInfo);return;case 12:return;case 13:op(f);return;case 19:op(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ba(3,f,f.return),qu(3,f),ba(5,f,f.return);return;case 12:return;case 13:op(f);return;case 19:op(f);return;case 3:ae&&c!==null&&c.memoizedState.isDehydrated&&ht(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(ge){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Br(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function op(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new UF),f.forEach(function(_){var w=QF.bind(null,c,_);v.has(_)||(v.add(_),_.then(w,w))})}}function HF(c,f){for(Fe=f;Fe!==null;){f=Fe;var v=f.deletions;if(v!==null)for(var _=0;_<v.length;_++){var w=v[_];try{var C=c;Ee?qE(C,w,f):JE(C,w,f);var O=w.alternate;O!==null&&(O.return=null),w.return=null}catch(qe){Ri(w,f,qe)}}if(v=f.child,f.subtreeFlags&12854&&v!==null)v.return=f,Fe=v;else for(;Fe!==null;){f=Fe;try{var Y=f.flags;if(Y&32&&Ee&&dt(f.stateNode),Y&512){var de=f.alternate;if(de!==null){var Pe=de.ref;Pe!==null&&(typeof Pe=="function"?Pe(null):Pe.current=null)}}if(Y&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Ge=f.alternate;(Ge===null||Ge.memoizedState===null)&&(Yv=Un())}break;case 22:var ct=f.memoizedState!==null,it=f.alternate,jt=it!==null&&it.memoizedState!==null;if(v=f,Ee){e:if(_=v,w=ct,C=null,Ee)for(var $e=_;;){if($e.tag===5){if(C===null){C=$e;var si=$e.stateNode;w?Vt(si):fe($e.stateNode,$e.memoizedProps)}}else if($e.tag===6){if(C===null){var mr=$e.stateNode;w?X(mr):Me(mr,$e.memoizedProps)}}else if(($e.tag!==22&&$e.tag!==23||$e.memoizedState===null||$e===_)&&$e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===_)break;for(;$e.sibling===null;){if($e.return===null||$e.return===_)break e;C===$e&&(C=null),$e=$e.return}C===$e&&(C=null),$e.sibling.return=$e.return,$e=$e.sibling}}if(ct&&!jt&&v.mode&1){Fe=v;for(var re=v.child;re!==null;){for(v=Fe=re;Fe!==null;){_=Fe;var Z=_.child;switch(_.tag){case 0:case 11:case 14:case 15:ba(4,_,_.return);break;case 1:sp(_,_.return);var ue=_.stateNode;if(typeof ue.componentWillUnmount=="function"){var Oe=_.return;try{ue.props=_.memoizedProps,ue.state=_.memoizedState,ue.componentWillUnmount()}catch(qe){Ri(_,Oe,qe)}}break;case 5:sp(_,_.return);break;case 22:if(_.memoizedState!==null){tw(v);continue}}Z!==null?(Z.return=_,Fe=Z):tw(v)}re=re.sibling}}}switch(Y&4102){case 2:ZE(f),f.flags&=-3;break;case 6:ZE(f),f.flags&=-3,Gv(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Gv(f.alternate,f);break;case 4:Gv(f.alternate,f)}}catch(qe){Ri(f,f.return,qe)}if(v=f.sibling,v!==null){v.return=f.return,Fe=v;break}Fe=f.return}}}function GF(c,f,v){Fe=c,$E(c)}function $E(c,f,v){for(var _=(c.mode&1)!==0;Fe!==null;){var w=Fe,C=w.child;if(w.tag===22&&_){var O=w.memoizedState!==null||rp;if(!O){var Y=w.alternate,de=Y!==null&&Y.memoizedState!==null||Ca;Y=rp;var Pe=Ca;if(rp=O,(Ca=de)&&!Pe)for(Fe=w;Fe!==null;)O=Fe,de=O.child,O.tag===22&&O.memoizedState!==null?nw(w):de!==null?(de.return=O,Fe=de):nw(w);for(;C!==null;)Fe=C,$E(C),C=C.sibling;Fe=w,rp=Y,Ca=Pe}ew(c)}else w.subtreeFlags&8772&&C!==null?(C.return=w,Fe=C):ew(c)}}function ew(c){for(;Fe!==null;){var f=Fe;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ca||qu(5,f);break;case 1:var _=f.stateNode;if(f.flags&4&&!Ca)if(v===null)_.componentDidMount();else{var w=f.elementType===f.type?v.memoizedProps:Nr(f.type,v.memoizedProps);_.componentDidUpdate(w,v.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var C=f.updateQueue;C!==null&&KM(f,C,_);break;case 3:var O=f.updateQueue;if(O!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=se(f.child.stateNode);break;case 1:v=f.child.stateNode}KM(f,O,v)}break;case 5:var Y=f.stateNode;v===null&&f.flags&4&&Ve(Y,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ae&&f.memoizedState===null){var de=f.alternate;if(de!==null){var Pe=de.memoizedState;if(Pe!==null){var Ge=Pe.dehydrated;Ge!==null&&_t(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ca||f.flags&512&&Uv(f)}catch(ct){Ri(f,f.return,ct)}}if(f===c){Fe=null;break}if(v=f.sibling,v!==null){v.return=f.return,Fe=v;break}Fe=f.return}}function tw(c){for(;Fe!==null;){var f=Fe;if(f===c){Fe=null;break}var v=f.sibling;if(v!==null){v.return=f.return,Fe=v;break}Fe=f.return}}function nw(c){for(;Fe!==null;){var f=Fe;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{qu(4,f)}catch(de){Ri(f,v,de)}break;case 1:var _=f.stateNode;if(typeof _.componentDidMount=="function"){var w=f.return;try{_.componentDidMount()}catch(de){Ri(f,w,de)}}var C=f.return;try{Uv(f)}catch(de){Ri(f,C,de)}break;case 5:var O=f.return;try{Uv(f)}catch(de){Ri(f,O,de)}}}catch(de){Ri(f,f.return,de)}if(f===c){Fe=null;break}var Y=f.sibling;if(Y!==null){Y.return=f.return,Fe=Y;break}Fe=f.return}}var ap=0,lp=1,cp=2,up=3,fp=4;if(typeof Symbol=="function"&&Symbol.for){var $u=Symbol.for;ap=$u("selector.component"),lp=$u("selector.has_pseudo_class"),cp=$u("selector.role"),up=$u("selector.test_id"),fp=$u("selector.text")}function Vv(c){var f=Ae(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(c=Mt(c),c===null)throw Error(o(362));return c.stateNode.current}function Wv(c,f){switch(f.$$typeof){case ap:if(c.type===f.value)return!0;break;case lp:e:{f=f.value,c=[c,0];for(var v=0;v<c.length;){var _=c[v++],w=c[v++],C=f[w];if(_.tag!==5||!le(_)){for(;C!=null&&Wv(_,C);)w++,C=f[w];if(w===f.length){f=!0;break e}else for(_=_.child;_!==null;)c.push(_,w),_=_.sibling}}f=!1}return f;case cp:if(c.tag===5&&Te(c.stateNode,f.value))return!0;break;case fp:if((c.tag===5||c.tag===6)&&(c=D(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case up:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function jv(c){switch(c.$$typeof){case ap:return"<"+(P(c.value)||"Unknown")+">";case lp:return":has("+(jv(c)||"")+")";case cp:return'[role="'+c.value+'"]';case fp:return'"'+c.value+'"';case up:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function iw(c,f){var v=[];c=[c,0];for(var _=0;_<c.length;){var w=c[_++],C=c[_++],O=f[C];if(w.tag!==5||!le(w)){for(;O!=null&&Wv(w,O);)C++,O=f[C];if(C===f.length)v.push(w);else for(w=w.child;w!==null;)c.push(w,C),w=w.sibling}}return v}function Xv(c,f){if(!st)throw Error(o(363));c=Vv(c),c=iw(c,f),f=[],c=Array.from(c);for(var v=0;v<c.length;){var _=c[v++];if(_.tag===5)le(_)||f.push(_.stateNode);else for(_=_.child;_!==null;)c.push(_),_=_.sibling}return f}var VF=Math.ceil,dp=a.ReactCurrentDispatcher,Jv=a.ReactCurrentOwner,_n=a.ReactCurrentBatchConfig,St=0,wn=null,Tn=null,Qn=0,Vi=0,Xl=Ti(0),Bn=0,ef=null,Jl=0,hp=0,Kv=0,tf=null,Ci=null,Yv=0,Qv=1/0;function Kl(){Qv=Un()+500}var pp=!1,Zv=null,yo=null,mp=!1,xo=null,gp=0,nf=0,qv=null,vp=-1,yp=0;function gi(){return St&6?Un():vp!==-1?vp:vp=Un()}function _o(c){return c.mode&1?St&2&&Qn!==0?Qn&-Qn:wF.transition!==null?(yp===0&&(c=Bh,Bh<<=1,!(Bh&4194240)&&(Bh=64),yp=c),yp):(c=It,c!==0?c:Le()):1}function hr(c,f,v){if(50<nf)throw nf=0,qv=null,Error(o(185));var _=xp(c,f);return _===null?null:(Uu(_,f,v),(!(St&2)||_!==wn)&&(_===wn&&(!(St&2)&&(hp|=f),Bn===4&&Ao(_,Qn)),bi(_,v),f===1&&St===0&&!(c.mode&1)&&(Kl(),Fh&&ls())),_)}function xp(c,f){c.lanes|=f;var v=c.alternate;for(v!==null&&(v.lanes|=f),v=c,c=c.return;c!==null;)c.childLanes|=f,v=c.alternate,v!==null&&(v.childLanes|=f),v=c,c=c.return;return v.tag===3?v.stateNode:null}function bi(c,f){var v=c.callbackNode;gF(c,f);var _=Ih(c,c===wn?Qn:0);if(_===0)v!==null&&VM(v),c.callbackNode=null,c.callbackPriority=0;else if(f=_&-_,c.callbackPriority!==f){if(v!=null&&VM(v),f===1)c.tag===0?EF(sw.bind(null,c)):WM(sw.bind(null,c)),Qe?je(function(){St===0&&ls()}):ov(av,ls),v=null;else{switch(GM(_)){case 1:v=av;break;case 4:v=_F;break;case 16:v=lv;break;case 536870912:v=AF;break;default:v=lv}v=pw(v,rw.bind(null,c))}c.callbackPriority=f,c.callbackNode=v}}function rw(c,f){if(vp=-1,yp=0,St&6)throw Error(o(327));var v=c.callbackNode;if(Ba()&&c.callbackNode!==v)return null;var _=Ih(c,c===wn?Qn:0);if(_===0)return null;if(_&30||_&c.expiredLanes||f)f=_p(c,_);else{f=_;var w=St;St|=2;var C=lw();(wn!==c||Qn!==f)&&(Kl(),Ra(c,f));do try{XF();break}catch(Y){aw(c,Y)}while(1);fv(),dp.current=C,St=w,Tn!==null?f=0:(wn=null,Qn=0,f=Bn)}if(f!==0){if(f===2&&(w=iv(c),w!==0&&(_=w,f=$v(c,w))),f===1)throw v=ef,Ra(c,0),Ao(c,_),bi(c,Un()),v;if(f===6)Ao(c,_);else{if(w=c.current.alternate,!(_&30)&&!WF(w)&&(f=_p(c,_),f===2&&(C=iv(c),C!==0&&(_=C,f=$v(c,C))),f===1))throw v=ef,Ra(c,0),Ao(c,_),bi(c,Un()),v;switch(c.finishedWork=w,c.finishedLanes=_,f){case 0:case 1:throw Error(o(345));case 2:Pa(c,Ci);break;case 3:if(Ao(c,_),(_&130023424)===_&&(f=Yv+500-Un(),10<f)){if(Ih(c,0)!==0)break;if(w=c.suspendedLanes,(w&_)!==_){gi(),c.pingedLanes|=c.suspendedLanes&w;break}c.timeoutHandle=V(Pa.bind(null,c,Ci),f);break}Pa(c,Ci);break;case 4:if(Ao(c,_),(_&4194240)===_)break;for(f=c.eventTimes,w=-1;0<_;){var O=31-Fr(_);C=1<<O,O=f[O],O>w&&(w=O),_&=~C}if(_=w,_=Un()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*VF(_/1960))-_,10<_){c.timeoutHandle=V(Pa.bind(null,c,Ci),_);break}Pa(c,Ci);break;case 5:Pa(c,Ci);break;default:throw Error(o(329))}}}return bi(c,Un()),c.callbackNode===v?rw.bind(null,c):null}function $v(c,f){var v=tf;return c.current.memoizedState.isDehydrated&&(Ra(c,f).flags|=256),c=_p(c,f),c!==2&&(f=Ci,Ci=v,f!==null&&ey(f)),c}function ey(c){Ci===null?Ci=c:Ci.push.apply(Ci,c)}function WF(c){for(var f=c;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var _=0;_<v.length;_++){var w=v[_],C=w.getSnapshot;w=w.value;try{if(!as(C(),w))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ao(c,f){for(f&=~Kv,f&=~hp,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var v=31-Fr(f),_=1<<v;c[v]=-1,f&=~_}}function sw(c){if(St&6)throw Error(o(327));Ba();var f=Ih(c,0);if(!(f&1))return bi(c,Un()),null;var v=_p(c,f);if(c.tag!==0&&v===2){var _=iv(c);_!==0&&(f=_,v=$v(c,_))}if(v===1)throw v=ef,Ra(c,0),Ao(c,f),bi(c,Un()),v;if(v===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,Pa(c,Ci),bi(c,Un()),null}function ow(c){xo!==null&&xo.tag===0&&!(St&6)&&Ba();var f=St;St|=1;var v=_n.transition,_=It;try{if(_n.transition=null,It=1,c)return c()}finally{It=_,_n.transition=v,St=f,!(St&6)&&ls()}}function ty(){Vi=Xl.current,zt(Xl)}function Ra(c,f){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==Ke&&(c.timeoutHandle=Ke,Xe(v)),Tn!==null)for(v=Tn.return;v!==null;){var _=v;switch(yv(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Rh();break;case 3:Wl(),zt(Wt),zt(En),wv();break;case 5:Mv(_);break;case 4:Wl();break;case 13:zt(on);break;case 19:zt(on);break;case 10:dv(_.type._context);break;case 22:case 23:ty()}v=v.return}if(wn=c,Tn=c=So(c.current,null),Qn=Vi=f,Bn=0,ef=null,Kv=hp=Jl=0,Ci=tf=null,cs!==null){for(f=0;f<cs.length;f++)if(v=cs[f],_=v.interleaved,_!==null){v.interleaved=null;var w=_.next,C=v.pending;if(C!==null){var O=C.next;C.next=w,_.next=O}v.pending=_}cs=null}return c}function aw(c,f){do{var v=Tn;try{if(fv(),Xh.current=qh,Jh){for(var _=pn.memoizedState;_!==null;){var w=_.queue;w!==null&&(w.pending=null),_=_.next}Jh=!1}if(jl=0,zn=ni=pn=null,ju=!1,Xu=0,Jv.current=null,v===null||v.return===null){Bn=1,ef=f,Tn=null;break}e:{var C=c,O=v.return,Y=v,de=f;if(f=Qn,Y.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Pe=de,Ge=Y,ct=Ge.tag;if(!(Ge.mode&1)&&(ct===0||ct===11||ct===15)){var it=Ge.alternate;it?(Ge.updateQueue=it.updateQueue,Ge.memoizedState=it.memoizedState,Ge.lanes=it.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var jt=bE(O);if(jt!==null){jt.flags&=-257,RE(jt,O,Y,C,f),jt.mode&1&&CE(C,Pe,f),f=jt,de=Pe;var $e=f.updateQueue;if($e===null){var si=new Set;si.add(de),f.updateQueue=si}else $e.add(de);break e}else{if(!(f&1)){CE(C,Pe,f),ny();break e}de=Error(o(426))}}else if(tn&&Y.mode&1){var mr=bE(O);if(mr!==null){!(mr.flags&65536)&&(mr.flags|=256),RE(mr,O,Y,C,f),Av(de);break e}}C=de,Bn!==4&&(Bn=2),tf===null?tf=[C]:tf.push(C),de=Lv(de,Y),Y=O;do{switch(Y.tag){case 3:Y.flags|=65536,f&=-f,Y.lanes|=f;var re=wE(Y,de,f);JM(Y,re);break e;case 1:C=de;var Z=Y.type,ue=Y.stateNode;if(!(Y.flags&128)&&(typeof Z.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(yo===null||!yo.has(ue)))){Y.flags|=65536,f&=-f,Y.lanes|=f;var Oe=TE(Y,C,f);JM(Y,Oe);break e}}Y=Y.return}while(Y!==null)}uw(v)}catch(qe){f=qe,Tn===v&&v!==null&&(Tn=v=v.return);continue}break}while(1)}function lw(){var c=dp.current;return dp.current=qh,c===null?qh:c}function ny(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),wn===null||!(Jl&268435455)&&!(hp&268435455)||Ao(wn,Qn)}function _p(c,f){var v=St;St|=2;var _=lw();wn===c&&Qn===f||Ra(c,f);do try{jF();break}catch(w){aw(c,w)}while(1);if(fv(),St=v,dp.current=_,Tn!==null)throw Error(o(261));return wn=null,Qn=0,Bn}function jF(){for(;Tn!==null;)cw(Tn)}function XF(){for(;Tn!==null&&!yF();)cw(Tn)}function cw(c){var f=hw(c.alternate,c,Vi);c.memoizedProps=c.pendingProps,f===null?uw(c):Tn=f,Jv.current=null}function uw(c){var f=c;do{var v=f.alternate;if(c=f.return,f.flags&32768){if(v=kF(v,f),v!==null){v.flags&=32767,Tn=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Bn=6,Tn=null;return}}else if(v=FF(v,f,Vi),v!==null){Tn=v;return}if(f=f.sibling,f!==null){Tn=f;return}Tn=f=c}while(f!==null);Bn===0&&(Bn=5)}function Pa(c,f){var v=It,_=_n.transition;try{_n.transition=null,It=1,JF(c,f,v)}finally{_n.transition=_,It=v}return null}function JF(c,f,v){do Ba();while(xo!==null);if(St&6)throw Error(o(327));var _=c.finishedWork,w=c.finishedLanes;if(_===null)return null;if(c.finishedWork=null,c.finishedLanes=0,_===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var C=_.lanes|_.childLanes;if(vF(c,C),c===wn&&(Tn=wn=null,Qn=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||mp||(mp=!0,pw(lv,function(){return Ba(),null})),C=(_.flags&15990)!==0,_.subtreeFlags&15990||C){C=_n.transition,_n.transition=null;var O=It;It=1;var Y=St;St|=4,Jv.current=null,zF(c,_),HF(c,_),z(c.containerInfo),c.current=_,GF(_),xF(),St=Y,It=O,_n.transition=C}else c.current=_;if(mp&&(mp=!1,xo=c,gp=w),C=c.pendingLanes,C===0&&(yo=null),SF(_.stateNode),bi(c,Un()),f!==null)for(v=c.onRecoverableError,_=0;_<f.length;_++)v(f[_]);if(pp)throw pp=!1,c=Zv,Zv=null,c;return gp&1&&c.tag!==0&&Ba(),C=c.pendingLanes,C&1?c===qv?nf++:(nf=0,qv=c):nf=0,ls(),null}function Ba(){if(xo!==null){var c=GM(gp),f=_n.transition,v=It;try{if(_n.transition=null,It=16>c?16:c,xo===null)var _=!1;else{if(c=xo,xo=null,gp=0,St&6)throw Error(o(331));var w=St;for(St|=4,Fe=c.current;Fe!==null;){var C=Fe,O=C.child;if(Fe.flags&16){var Y=C.deletions;if(Y!==null){for(var de=0;de<Y.length;de++){var Pe=Y[de];for(Fe=Pe;Fe!==null;){var Ge=Fe;switch(Ge.tag){case 0:case 11:case 15:ba(8,Ge,C)}var ct=Ge.child;if(ct!==null)ct.return=Ge,Fe=ct;else for(;Fe!==null;){Ge=Fe;var it=Ge.sibling,jt=Ge.return;if(KE(Ge),Ge===Pe){Fe=null;break}if(it!==null){it.return=jt,Fe=it;break}Fe=jt}}}var $e=C.alternate;if($e!==null){var si=$e.child;if(si!==null){$e.child=null;do{var mr=si.sibling;si.sibling=null,si=mr}while(si!==null)}}Fe=C}}if(C.subtreeFlags&2064&&O!==null)O.return=C,Fe=O;else e:for(;Fe!==null;){if(C=Fe,C.flags&2048)switch(C.tag){case 0:case 11:case 15:ba(9,C,C.return)}var re=C.sibling;if(re!==null){re.return=C.return,Fe=re;break e}Fe=C.return}}var Z=c.current;for(Fe=Z;Fe!==null;){O=Fe;var ue=O.child;if(O.subtreeFlags&2064&&ue!==null)ue.return=O,Fe=ue;else e:for(O=Z;Fe!==null;){if(Y=Fe,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:qu(9,Y)}}catch(qe){Ri(Y,Y.return,qe)}if(Y===O){Fe=null;break e}var Oe=Y.sibling;if(Oe!==null){Oe.return=Y.return,Fe=Oe;break e}Fe=Y.return}}if(St=w,ls(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Dh,c)}catch{}_=!0}return _}finally{It=v,_n.transition=f}}return!1}function fw(c,f,v){f=Lv(v,f),f=wE(c,f,1),vo(c,f),f=gi(),c=xp(c,1),c!==null&&(Uu(c,1,f),bi(c,f))}function Ri(c,f,v){if(c.tag===3)fw(c,c,v);else for(;f!==null;){if(f.tag===3){fw(f,c,v);break}else if(f.tag===1){var _=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(yo===null||!yo.has(_))){c=Lv(v,c),c=TE(f,c,1),vo(f,c),c=gi(),f=xp(f,1),f!==null&&(Uu(f,1,c),bi(f,c));break}}f=f.return}}function KF(c,f,v){var _=c.pingCache;_!==null&&_.delete(f),f=gi(),c.pingedLanes|=c.suspendedLanes&v,wn===c&&(Qn&v)===v&&(Bn===4||Bn===3&&(Qn&130023424)===Qn&&500>Un()-Yv?Ra(c,0):Kv|=v),bi(c,f)}function dw(c,f){f===0&&(c.mode&1?(f=Lh,Lh<<=1,!(Lh&130023424)&&(Lh=4194304)):f=1);var v=gi();c=xp(c,f),c!==null&&(Uu(c,f,v),bi(c,v))}function YF(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),dw(c,v)}function QF(c,f){var v=0;switch(c.tag){case 13:var _=c.stateNode,w=c.memoizedState;w!==null&&(v=w.retryLane);break;case 19:_=c.stateNode;break;default:throw Error(o(314))}_!==null&&_.delete(f),dw(c,v)}var hw;hw=function(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps||Wt.current)Gi=!0;else{if(!(c.lanes&v)&&!(f.flags&128))return Gi=!1,OF(c,f,v);Gi=!!(c.flags&131072)}else Gi=!1,tn&&f.flags&1048576&&$M(f,Vh,f.index);switch(f.lanes=0,f.tag){case 2:var _=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var w=mo(f,En.current);kl(f,v),w=Cv(null,f,_,c,w,v);var C=bv();return f.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Yn(_)?(C=!0,Ph(f)):C=!1,f.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,pv(f),w.updater=Hh,f.stateNode=w,w._reactInternals=f,gv(f,_,c,v),f=Fv(null,f,_,!0,C,v)):(f.tag=0,tn&&C&&vv(f),mi(null,f,w,v),f=f.child),f;case 16:_=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,w=_._init,_=w(_._payload),f.type=_,w=f.tag=qF(_),c=Nr(_,c),w){case 0:f=Dv(null,f,_,c,v);break e;case 1:f=OE(null,f,_,c,v);break e;case 11:f=LE(null,f,_,c,v);break e;case 14:f=IE(null,f,_,Nr(_.type,c),v);break e}throw Error(o(306,_,""))}return f;case 0:return _=f.type,w=f.pendingProps,w=f.elementType===_?w:Nr(_,w),Dv(c,f,_,w,v);case 1:return _=f.type,w=f.pendingProps,w=f.elementType===_?w:Nr(_,w),OE(c,f,_,w,v);case 3:e:{if(kE(f),c===null)throw Error(o(387));_=f.pendingProps,C=f.memoizedState,w=C.element,XM(c,f),zh(f,_,null,v);var O=f.memoizedState;if(_=O.element,ae&&C.isDehydrated)if(C={element:_,isDehydrated:!1,cache:O.cache,transitions:O.transitions},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){w=Error(o(423)),f=UE(c,f,_,v,w);break e}else if(_!==w){w=Error(o(424)),f=UE(c,f,_,v,w);break e}else for(ae&&(Hi=me(f.stateNode.containerInfo),zi=f,tn=!0,Or=null,zu=!1),v=sE(f,null,_,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Hl(),_===w){f=Is(c,f,v);break e}mi(c,f,_,v)}f=f.child}return f;case 5:return oE(f),c===null&&_v(f),_=f.type,w=f.pendingProps,C=c!==null?c.memoizedProps:null,O=w.children,we(_,w)?O=null:C!==null&&we(_,C)&&(f.flags|=32),NE(c,f),mi(c,f,O,v),f.child;case 6:return c===null&&_v(f),null;case 13:return zE(c,f,v);case 4:return Sv(f,f.stateNode.containerInfo),_=f.pendingProps,c===null?f.child=Gl(f,null,_,v):mi(c,f,_,v),f.child;case 11:return _=f.type,w=f.pendingProps,w=f.elementType===_?w:Nr(_,w),LE(c,f,_,w,v);case 7:return mi(c,f,f.pendingProps,v),f.child;case 8:return mi(c,f,f.pendingProps.children,v),f.child;case 12:return mi(c,f,f.pendingProps.children,v),f.child;case 10:e:{if(_=f.type._context,w=f.pendingProps,C=f.memoizedProps,O=w.value,jM(f,_,O),C!==null)if(as(C.value,O)){if(C.children===w.children&&!Wt.current){f=Is(c,f,v);break e}}else for(C=f.child,C!==null&&(C.return=f);C!==null;){var Y=C.dependencies;if(Y!==null){O=C.child;for(var de=Y.firstContext;de!==null;){if(de.context===_){if(C.tag===1){de=Rs(-1,v&-v),de.tag=2;var Pe=C.updateQueue;if(Pe!==null){Pe=Pe.shared;var Ge=Pe.pending;Ge===null?de.next=de:(de.next=Ge.next,Ge.next=de),Pe.pending=de}}C.lanes|=v,de=C.alternate,de!==null&&(de.lanes|=v),hv(C.return,v,f),Y.lanes|=v;break}de=de.next}}else if(C.tag===10)O=C.type===f.type?null:C.child;else if(C.tag===18){if(O=C.return,O===null)throw Error(o(341));O.lanes|=v,Y=O.alternate,Y!==null&&(Y.lanes|=v),hv(O,v,f),O=C.sibling}else O=C.child;if(O!==null)O.return=C;else for(O=C;O!==null;){if(O===f){O=null;break}if(C=O.sibling,C!==null){C.return=O.return,O=C;break}O=O.return}C=O}mi(c,f,w.children,v),f=f.child}return f;case 9:return w=f.type,_=f.pendingProps.children,kl(f,v),w=lr(w),_=_(w),f.flags|=1,mi(c,f,_,v),f.child;case 14:return _=f.type,w=Nr(_,f.pendingProps),w=Nr(_.type,w),IE(c,f,_,w,v);case 15:return DE(c,f,f.type,f.pendingProps,v);case 17:return _=f.type,w=f.pendingProps,w=f.elementType===_?w:Nr(_,w),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Yn(_)?(c=!0,Ph(f)):c=!1,kl(f,v),ZM(f,_,w),gv(f,_,w,v),Fv(null,f,_,!0,c,v);case 19:return WE(c,f,v);case 22:return FE(c,f,v)}throw Error(o(156,f.tag))};function pw(c,f){return ov(c,f)}function ZF(c,f,v,_){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(c,f,v,_){return new ZF(c,f,v,_)}function iy(c){return c=c.prototype,!(!c||!c.isReactComponent)}function qF(c){if(typeof c=="function")return iy(c)?1:0;if(c!=null){if(c=c.$$typeof,c===M)return 11;if(c===x)return 14}return 2}function So(c,f){var v=c.alternate;return v===null?(v=pr(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function Ap(c,f,v,_,w,C){var O=2;if(_=c,typeof c=="function")iy(c)&&(O=1);else if(typeof c=="string")O=5;else e:switch(c){case d:return La(v.children,w,C,f);case h:O=8,w|=8;break;case p:return c=pr(12,v,f,w|2),c.elementType=p,c.lanes=C,c;case A:return c=pr(13,v,f,w),c.elementType=A,c.lanes=C,c;case g:return c=pr(19,v,f,w),c.elementType=g,c.lanes=C,c;case E:return Sp(v,w,C,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:O=10;break e;case y:O=9;break e;case M:O=11;break e;case x:O=14;break e;case S:O=16,_=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return f=pr(O,v,f,w),f.elementType=c,f.type=_,f.lanes=C,f}function La(c,f,v,_){return c=pr(7,c,_,f),c.lanes=v,c}function Sp(c,f,v,_){return c=pr(22,c,_,f),c.elementType=E,c.lanes=v,c.stateNode={},c}function ry(c,f,v){return c=pr(6,c,null,f),c.lanes=v,c}function sy(c,f,v){return f=pr(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function $F(c,f,v,_,w){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rv(0),this.expirationTimes=rv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rv(0),this.identifierPrefix=_,this.onRecoverableError=w,ae&&(this.mutableSourceEagerHydrationData=null)}function mw(c,f,v,_,w,C,O,Y,de){return c=new $F(c,f,v,Y,de),f===1?(f=1,C===!0&&(f|=8)):f=0,C=pr(3,null,null,f),c.current=C,C.stateNode=c,C.memoizedState={element:_,isDehydrated:v,cache:null,transitions:null},pv(C),c}function gw(c){if(!c)return ti;c=c._reactInternals;e:{if(b(c)!==c||c.tag!==1)throw Error(o(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Yn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(c.tag===1){var v=c.type;if(Yn(v))return zM(c,v,f)}return f}function vw(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=J(f),c===null?null:c.stateNode}function yw(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function oy(c,f){yw(c,f),(c=c.alternate)&&yw(c,f)}function eN(c){return c=J(c),c===null?null:c.stateNode}function tN(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=gi();hr(c,134217728,f),oy(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=gi(),v=_o(c);hr(c,v,f),oy(c,v)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var v=ku(f.pendingLanes);v!==0&&(sv(f,v|1),bi(f,Un()),!(St&6)&&(Kl(),ls()))}break;case 13:var _=gi();ow(function(){return hr(c,1,_)}),oy(c,1)}},t.batchedUpdates=function(c,f){var v=St;St|=1;try{return c(f)}finally{St=v,St===0&&(Kl(),Fh&&ls())}},t.createComponentSelector=function(c){return{$$typeof:ap,value:c}},t.createContainer=function(c,f,v,_,w,C,O){return mw(c,f,!1,null,v,_,w,C,O)},t.createHasPseudoClassSelector=function(c){return{$$typeof:lp,value:c}},t.createHydrationContainer=function(c,f,v,_,w,C,O,Y,de){return c=mw(v,_,!0,c,w,C,O,Y,de),c.context=gw(null),v=c.current,_=gi(),w=_o(v),C=Rs(_,w),C.callback=f??null,vo(v,C),c.current.lanes=w,Uu(c,w,_),bi(c,_),c},t.createPortal=function(c,f,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:c,containerInfo:f,implementation:v}},t.createRoleSelector=function(c){return{$$typeof:cp,value:c}},t.createTestNameSelector=function(c){return{$$typeof:up,value:c}},t.createTextSelector=function(c){return{$$typeof:fp,value:c}},t.deferredUpdates=function(c){var f=It,v=_n.transition;try{return _n.transition=null,It=16,c()}finally{It=f,_n.transition=v}},t.discreteUpdates=function(c,f,v,_,w){var C=It,O=_n.transition;try{return _n.transition=null,It=1,c(f,v,_,w)}finally{It=C,_n.transition=O,St===0&&Kl()}},t.findAllNodes=Xv,t.findBoundingRects=function(c,f){if(!st)throw Error(o(363));f=Xv(c,f),c=[];for(var v=0;v<f.length;v++)c.push(k(f[v]));for(f=c.length-1;0<f;f--){v=c[f];for(var _=v.x,w=_+v.width,C=v.y,O=C+v.height,Y=f-1;0<=Y;Y--)if(f!==Y){var de=c[Y],Pe=de.x,Ge=Pe+de.width,ct=de.y,it=ct+de.height;if(_>=Pe&&C>=ct&&w<=Ge&&O<=it){c.splice(f,1);break}else if(_!==Pe||v.width!==de.width||it<C||ct>O){if(!(C!==ct||v.height!==de.height||Ge<_||Pe>w)){Pe>_&&(de.width+=Pe-_,de.x=_),Ge<w&&(de.width=w-Pe),c.splice(f,1);break}}else{ct>C&&(de.height+=ct-C,de.y=C),it<O&&(de.height=O-ct),c.splice(f,1);break}}}return c},t.findHostInstance=vw,t.findHostInstanceWithNoPortals=function(c){return c=U(c),c=c!==null?K(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return vw(c)},t.flushControlled=function(c){var f=St;St|=1;var v=_n.transition,_=It;try{_n.transition=null,It=1,c()}finally{It=_,_n.transition=v,St=f,St===0&&(Kl(),ls())}},t.flushPassiveEffects=Ba,t.flushSync=ow,t.focusWithin=function(c,f){if(!st)throw Error(o(363));for(c=Vv(c),f=iw(c,f),f=Array.from(f),c=0;c<f.length;){var v=f[c++];if(!le(v)){if(v.tag===5&&Ce(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return It},t.getFindAllNodesFailureDescription=function(c,f){if(!st)throw Error(o(363));var v=0,_=[];c=[Vv(c),0];for(var w=0;w<c.length;){var C=c[w++],O=c[w++],Y=f[O];if((C.tag!==5||!le(C))&&(Wv(C,Y)&&(_.push(jv(Y)),O++,O>v&&(v=O)),O<f.length))for(C=C.child;C!==null;)c.push(C,O),C=C.sibling}if(v<f.length){for(c=[];v<f.length;v++)c.push(jv(f[v]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return se(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:eN,findFiberByHostInstance:c.findFiberByHostInstance||tN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Dh=f.inject(c),os=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,v,_){if(!st)throw Error(o(363));c=Xv(c,f);var w=Be(c,v,_).disconnect;return{disconnect:function(){w()}}},t.registerMutableSourceForHydration=function(c,f){var v=f._getVersion;v=v(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,v]:c.mutableSourceEagerHydrationData.push(f,v)},t.runWithPriority=function(c,f){var v=It;try{return It=c,f()}finally{It=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,v,_){var w=f.current,C=gi(),O=_o(w);return v=gw(v),f.context===null?f.context=v:f.pendingContext=v,f=Rs(C,O),f.payload={element:c},_=_===void 0?null:_,_!==null&&(f.callback=_),vo(w,f),c=hr(w,O,C),c!==null&&Uh(c,w,O),O},t};FI.exports=a8;var l8=FI.exports;const c8=i0(l8);var NI={exports:{}},OI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,H){var z=I.length;I.push(H);e:for(;0<z;){var $=z-1>>>1,Q=I[$];if(0<r(Q,H))I[$]=H,I[z]=Q,z=$;else break e}}function t(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var H=I[0],z=I.pop();if(z!==H){I[0]=z;e:for(var $=0,Q=I.length,ee=Q>>>1;$<ee;){var ie=2*($+1)-1,we=I[ie],xe=ie+1,V=I[xe];if(0>r(we,z))xe<Q&&0>r(V,we)?(I[$]=V,I[xe]=z,$=xe):(I[$]=we,I[ie]=z,$=ie);else if(xe<Q&&0>r(V,z))I[$]=V,I[xe]=z,$=xe;else break e}}return H}function r(I,H){var z=I.sortIndex-H.sortIndex;return z!==0?z:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var H=t(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=I)i(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function E(I){if(M=!1,S(I),!y)if(t(l)!==null)y=!0,se(T);else{var H=t(u);H!==null&&te(E,H.startTime-I)}}function T(I,H){y=!1,M&&(M=!1,g(B),B=-1),m=!0;var z=p;try{for(S(H),h=t(l);h!==null&&(!(h.expirationTime>H)||I&&!U());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var Q=$(h.expirationTime<=H);H=n.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(l)&&i(l),S(H)}else i(l);h=t(l)}if(h!==null)var ee=!0;else{var ie=t(u);ie!==null&&te(E,ie.startTime-H),ee=!1}return ee}finally{h=null,p=z,m=!1}}var R=!1,P=null,B=-1,b=5,L=-1;function U(){return!(n.unstable_now()-L<b)}function J(){if(P!==null){var I=n.unstable_now();L=I;var H=!0;try{H=P(!0,I)}finally{H?G():(R=!1,P=null)}}else R=!1}var G;if(typeof x=="function")G=function(){x(J)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,j=K.port2;K.port1.onmessage=J,G=function(){j.postMessage(null)}}else G=function(){A(J,0)};function se(I){P=I,R||(R=!0,G())}function te(I,H){B=A(function(){I(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,se(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var z=p;p=H;try{return I()}finally{p=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=p;p=I;try{return H()}finally{p=z}},n.unstable_scheduleCallback=function(I,H,z){var $=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?$+z:$):z=$,I){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,I={id:d++,callback:H,priorityLevel:I,startTime:z,expirationTime:Q,sortIndex:-1},z>$?(I.sortIndex=z,e(u,I),t(l)===null&&I===t(u)&&(M?(g(B),B=-1):M=!0,te(E,z-$))):(I.sortIndex=Q,e(l,I),y||m||(y=!0,se(T))),I},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(I){var H=p;return function(){var z=p;p=H;try{return I.apply(this,arguments)}finally{p=z}}}})(OI);NI.exports=OI;var ub=NI.exports;function kI(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const Ws=[];function UI(n,e,t=!1,i={}){for(const s of Ws)if(kI(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=Ws.indexOf(r);s!==-1&&Ws.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(Ws.push(r),!t)throw r.promise}const u8=(n,e,t)=>UI(n,e,!1,t),f8=(n,e,t)=>void UI(n,e,!0,t),d8=n=>{if(n===void 0||n.length===0)Ws.splice(0,Ws.length);else{const e=Ws.find(t=>kI(n,t.keys,t.equal));if(e){const t=Ws.indexOf(e);t!==-1&&Ws.splice(t,1)}}},YS={},h8=n=>void Object.assign(YS,n);function p8(n,e){function t(d,{args:h=[],attach:p,...m},y){let M=`${d[0].toUpperCase()}${d.slice(1)}`,A;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;A=Ac(g,{type:d,root:y,attach:p,primitive:!0})}else{const g=YS[M];if(!g)throw new Error(`R3F: ${M} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");A=Ac(new g(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return A.__r3f.attach===void 0&&(A instanceof mt?A.__r3f.attach="geometry":A instanceof Pn&&(A.__r3f.attach="material")),M!=="inject"&&gx(A,m),A}function i(d,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?mx(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||Ac(h,{}),h.__r3f.parent=d,w1(h),Sc(h)}}function r(d,h,p){let m=!1;if(h){var y,M;if((y=h.__r3f)!=null&&y.attach)mx(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"});const A=d.children.filter(x=>x!==h),g=A.indexOf(p);d.children=[...A.slice(0,g),h,...A.slice(g)],m=!0}m||(M=d.__r3f)==null||M.objects.push(h),h.__r3f||Ac(h,{}),h.__r3f.parent=d,w1(h),Sc(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,y,M;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(E=>E!==h)),(y=h.__r3f)!=null&&y.attach)mb(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var A;d.remove(h),(A=h.__r3f)!=null&&A.root&&S8(h.__r3f.root,h)}const x=(M=h.__r3f)==null?void 0:M.primitive,S=p===void 0?h.dispose!==null&&!x:p;if(!x){var g;s((g=h.__r3f)==null?void 0:g.objects,h,S),s(h.children,h,S)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,x||delete h.__r3f),S&&h.dispose&&h.type!=="Scene"&&ub.unstable_scheduleCallback(ub.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),Sc(d)}}function a(d,h,p,m){var y;const M=(y=d.__r3f)==null?void 0:y.parent;if(!M)return;const A=t(h,p,d.__r3f.root);if(d.children){for(const g of d.children)g.__r3f&&i(A,g);d.children=d.children.filter(g=>!g.__r3f)}d.__r3f.objects.forEach(g=>i(A,g)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(M,d),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),i(M,A),A.raycast&&A.__r3f.eventCount&&A.__r3f.root.getState().internal.interaction.push(A),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=A,g.ref&&(typeof g.ref=="function"?g.ref(A):g.ref.current=A))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:c8({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,m){if(d.__r3f.primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:M,...A}=m,{args:g=[],children:x,...S}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((T,R)=>T!==g[R]))return[!0];const E=XI(d,A,S,!0);return E.changes.length?[!1,E]:null}},commitUpdate(d,[h,p],m,y,M,A){h?a(d,m,M,A):gx(d,p)},commitMount(d,h,p,m){var y;const M=(y=d.__r3f)!=null?y:{};d.raycast&&M.handlers&&M.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Ac(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&mb(m,d,p),d.isObject3D&&(d.visible=!1),Sc(d)},unhideInstance(d,h){var p;const{attach:m,parent:y}=(p=d.__r3f)!=null?p:{};m&&y&&mx(y,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),Sc(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Uc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Qt.fun(performance.now)?performance.now:Qt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Qt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:gx}}var fb,db;const px=n=>"colorSpace"in n||"outputColorSpace"in n,zI=()=>{var n;return(n=YS.ColorManagement)!=null?n:null},HI=n=>n&&n.isOrthographicCamera,m8=n=>n&&n.hasOwnProperty("current"),vh=typeof window<"u"&&((fb=window.document)!=null&&fb.createElement||((db=window.navigator)==null?void 0:db.product)==="ReactNative")?q.useLayoutEffect:q.useEffect;function GI(n){const e=q.useRef(n);return vh(()=>void(e.current=n),[n]),e}function g8({set:n}){return vh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class VI extends q.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}VI.getDerivedStateFromError=()=>({error:!0});const WI="__default",hb=new Map,v8=n=>n&&!!n.memoized&&!!n.changes;function jI(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Sf=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Qt={obj:n=>n===Object(n)&&!Qt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Qt.str(n)||Qt.num(n))return n===e;const s=Qt.obj(n);if(s&&i==="reference")return n===e;const o=Qt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Qt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Qt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function y8(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function x8(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Ac(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function E1(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const pb=/-\d+$/;function mx(n,e,t){if(Qt.str(t)){if(pb.test(t)){const s=t.replace(pb,""),{target:o,key:a}=E1(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=E1(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function mb(n,e,t){var i,r;if(Qt.str(t)){const{target:s,key:o}=E1(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function XI(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},u=!1){var d;const h=(d=n==null?void 0:n.__r3f)!=null?d:{},p=Object.entries(r),m=[];if(u){const M=Object.keys(l);for(let A=0;A<M.length;A++)r.hasOwnProperty(M[A])||p.unshift([M[A],WI+"remove"])}p.forEach(([M,A])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&M==="object"||Qt.equ(A,l[M]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(M))return m.push([M,A,!0,[]]);let x=[];M.includes("-")&&(x=M.split("-")),m.push([M,A,!1,x]);for(const S in r){const E=r[S];S.startsWith(`${M}-`)&&m.push([S,E,!1,S.split("-")])}});const y={...r};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:m}}function gx(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:u}=v8(e)?e:XI(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<u.length;p++){let[m,y,M,A]=u[p];if(px(n)){const E="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?E:T):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?E:T)}let g=n,x=g[m];if(A.length&&(x=A.reduce((S,E)=>S[E],n),!(x&&x.set))){const[S,...E]=A.reverse();g=E.reverse().reduce((T,R)=>T[R],n),m=S}if(y===WI+"remove")if(g.constructor){let S=hb.get(g.constructor);S||(S=new g.constructor,hb.set(g.constructor,S)),y=S[m]}else y=0;if(M)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof hl)){if(Array.isArray(y))x.fromArray?x.fromArray(y):x.set(...y);else if(x.copy&&y&&y.constructor&&x.constructor===y.constructor)x.copy(y);else if(y!==void 0){const S=x instanceof De;!S&&x.setScalar?x.setScalar(y):x instanceof hl&&y instanceof hl?x.mask=y.mask:x.set(y),!zI()&&!a.linear&&S&&x.convertSRGBToLinear()}}else if(g[m]=y,g[m]instanceof sn&&g[m].format===Ii&&g[m].type===ro){const S=g[m];px(S)&&px(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}Sc(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(r=n.__r3f)!=null&&r.parent&&w1(n),n}function Sc(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function w1(n){n.onUpdate==null||n.onUpdate(n)}function _8(n,e){n.manual||(HI(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Cm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function A8(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Uc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Uc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Uc.ContinuousEventPriority;default:return Uc.DefaultEventPriority}}function JI(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function S8(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{JI(t.capturedMap,e,i,r)})}function M8(n){function e(l){const{internal:u}=n.getState(),d=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,u){const d=n.getState(),h=new Set,p=[],m=u?u(d.internal.interaction):d.internal.interaction;for(let g=0;g<m.length;g++){const x=Sf(m[g]);x&&(x.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(g){const x=Sf(g);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var S;x.events.compute==null||x.events.compute(l,x,(S=x.previousRoot)==null?void 0:S.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(g,!0):[]}let M=m.flatMap(y).sort((g,x)=>{const S=Sf(g.object),E=Sf(x.object);return!S||!E?g.distance-x.distance:E.events.priority-S.events.priority||g.distance-x.distance}).filter(g=>{const x=Cm(g);return h.has(x)?!1:(h.add(x),!0)});d.events.filter&&(M=d.events.filter(M,d));for(const g of M){let x=g.object;for(;x;){var A;(A=x.__r3f)!=null&&A.eventCount&&p.push({...g,eventObject:x}),x=x.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let g of d.internal.capturedMap.get(l.pointerId).values())h.has(Cm(g.intersection))||p.push(g.intersection);return p}function r(l,u,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const M=Sf(y.object)||p,{raycaster:A,pointer:g,camera:x,internal:S}=M,E=new F(g.x,g.y,0).unproject(x),T=L=>{var U,J;return(U=(J=S.capturedMap.get(L))==null?void 0:J.has(y.eventObject))!=null?U:!1},R=L=>{const U={intersection:y,target:u.target};S.capturedMap.has(L)?S.capturedMap.get(L).set(y.eventObject,U):S.capturedMap.set(L,new Map([[y.eventObject,U]])),u.target.setPointerCapture(L)},P=L=>{const U=S.capturedMap.get(L);U&&JI(S.capturedMap,y.eventObject,U,L)};let B={};for(let L in u){let U=u[L];typeof U!="function"&&(B[L]=U)}let b={...y,...B,pointer:g,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:E,ray:A.ray,camera:x,stopPropagation(){const L="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!L||L.has(y.eventObject))&&(b.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(U=>U.eventObject===y.eventObject))){const U=l.slice(0,l.indexOf(y));s([...U,y])}},target:{hasPointerCapture:T,setPointerCapture:R,releasePointerCapture:P},currentTarget:{hasPointerCapture:T,setPointerCapture:R,releasePointerCapture:P},nativeEvent:u};if(h(b),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(Cm(d)),p!=null&&p.eventCount){const y={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,u){for(let d=0;d<u.length;d++){const h=u[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=i(d,m?t:void 0),g=y?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=A.map(S=>S.eventObject)),y&&!A.length&&g<=2&&(o(d,p.interaction),h&&h(d)),m&&s(A);function x(S){const E=S.eventObject,T=E.__r3f,R=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const P=Cm(S),B=p.hovered.get(P);B?B.stopped&&S.stopPropagation():(p.hovered.set(P,S),R.onPointerOver==null||R.onPointerOver(S),R.onPointerEnter==null||R.onPointerEnter(S))}R.onPointerMove==null||R.onPointerMove(S)}else{const P=R[l];P?(!y||p.initialHits.includes(E))&&(o(d,p.interaction.filter(B=>!p.initialHits.includes(B))),P(S)):y&&p.initialHits.includes(E)&&o(d,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(A,d,g,x)}}return{handlePointer:a}}const KI=n=>!!(n!=null&&n.render),YI=q.createContext(null),E8=(n,e)=>{const t=DI((a,l)=>{const u=new F,d=new F,h=new F;function p(g=l().camera,x=d,S=l().size){const{width:E,height:T,top:R,left:P}=S,B=E/T;x instanceof F?h.copy(x):h.set(...x);const b=g.getWorldPosition(u).distanceTo(h);if(HI(g))return{width:E/g.zoom,height:T/g.zoom,top:R,left:P,factor:1,distance:b,aspect:B};{const L=g.fov*Math.PI/180,U=2*Math.tan(L/2)*b,J=U*(E/T);return{width:J,height:U,top:R,left:P,factor:E/J,distance:b,aspect:B}}}let m;const y=g=>a(x=>({performance:{...x.performance,current:g}})),M=new ye;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,x)=>e(g,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new jS,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(x=>({...x,events:{...x.events,...g}})),setSize:(g,x,S,E,T)=>{const R=l().camera,P={width:g,height:x,top:E||0,left:T||0,updateStyle:S};a(B=>({size:P,viewport:{...B.viewport,...p(R,d,P)}}))},setDpr:g=>a(x=>{const S=jI(g);return{viewport:{...x.viewport,dpr:S,initialDpr:x.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:q.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,S)=>{const E=l().internal;return E.priority=E.priority+(x>0?1:0),E.subscribers.push({ref:g,priority:x,store:S}),E.subscribers=E.subscribers.sort((T,R)=>T.priority-R.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(x>0?1:0),T.subscribers=T.subscribers.filter(R=>R.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:d,set:h}=t.getState();if(l!==r||u.dpr!==s){var p;r=l,s=u.dpr,_8(a,l),d.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let bm,w8=new Set,T8=new Set,C8=new Set;function vx(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Mf(n,e){switch(n){case"before":return vx(w8,e);case"after":return vx(T8,e);case"tail":return vx(C8,e)}}let yx,xx;function _x(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),yx=e.internal.subscribers,bm=0;bm<yx.length;bm++)xx=yx[bm],xx.ref.current(xx.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function b8(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,Mf("before",l);for(const d of n.values()){var u;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((u=r.gl.xr)!=null&&u.isPresenting)&&(t+=_x(l,r))}if(Mf("after",l),t===0)return Mf("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,u=1){var d;if(!l)return n.forEach(h=>o(h.store.getState()),u);(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,d,h){if(u&&Mf("before",l),d)_x(l,d,h);else for(const p of n.values())_x(l,p.store.getState());u&&Mf("after",l)}return{loop:s,invalidate:o,advance:a}}function QI(){const n=q.useContext(YI);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Sr(n=t=>t,e){return QI()(n,e)}function ZI(n,e=0){const t=QI(),i=t.getState().internal.subscribe,r=GI(n);return vh(()=>i(r,e,t),[e,i,t]),null}function qI(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,y8(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function yh(n,e,t,i){const r=Array.isArray(e)?e:[e],s=u8(qI(t,i),[n,...r],{equal:Qt.equ});return Array.isArray(e)?s:s[0]}yh.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return f8(qI(t),[n,...i])};yh.clear=function(n,e){const t=Array.isArray(e)?e:[e];return d8([n,...t])};const Au=new Map,{invalidate:gb,advance:vb}=b8(Au),{reconciler:Vg,applyProps:yc}=p8(Au,A8),xc={objects:"shallow",strict:!1},R8=(n,e)=>{const t=typeof n=="function"?n(e):n;return KI(t)?t:new SS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function P8(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function B8(n){const e=Au.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||E8(gb,vb),o=t||Vg.createContainer(s,Uc.ConcurrentRoot,null,!1,null,"",r,null);e||Au.set(n,{fiber:o,store:s});let a,l=!1,u;return{configure(d={}){let{gl:h,size:p,scene:m,events:y,onCreated:M,shadows:A=!1,linear:g=!1,flat:x=!1,legacy:S=!1,orthographic:E=!1,frameloop:T="always",dpr:R=[1,2],performance:P,raycaster:B,camera:b,onPointerMissed:L}=d,U=s.getState(),J=U.gl;U.gl||U.set({gl:J=R8(h,n)});let G=U.raycaster;G||U.set({raycaster:G=new BI});const{params:K,...j}=B||{};if(Qt.equ(j,G,xc)||yc(G,{...j}),Qt.equ(K,G.params,xc)||yc(G,{params:{...G.params,...K}}),!U.camera||U.camera===u&&!Qt.equ(u,b,xc)){u=b;const $=b instanceof eh,Q=$?b:E?new Zr(0,0,0,0,.1,1e3):new Xt(75,0,.1,1e3);$||(Q.position.z=5,b&&yc(Q,b),!U.camera&&!(b!=null&&b.rotation)&&Q.lookAt(0,0,0)),U.set({camera:Q})}if(!U.scene){let $;m instanceof Gg?$=m:($=new Gg,m&&yc($,m)),U.set({scene:Ac($)})}if(!U.xr){const $=(ie,we)=>{const xe=s.getState();xe.frameloop!=="never"&&vb(ie,!0,xe,we)},Q=()=>{const ie=s.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?$:null),ie.gl.xr.isPresenting||gb(ie)},ee={connect(){const ie=s.getState().gl;ie.xr.addEventListener("sessionstart",Q),ie.xr.addEventListener("sessionend",Q)},disconnect(){const ie=s.getState().gl;ie.xr.removeEventListener("sessionstart",Q),ie.xr.removeEventListener("sessionend",Q)}};J.xr&&ee.connect(),U.set({xr:ee})}if(J.shadowMap){const $=J.shadowMap.enabled,Q=J.shadowMap.type;if(J.shadowMap.enabled=!!A,Qt.boo(A))J.shadowMap.type=Kf;else if(Qt.str(A)){var se;const ee={basic:kB,percentage:E0,soft:Kf,variance:Vr};J.shadowMap.type=(se=ee[A])!=null?se:Kf}else Qt.obj(A)&&Object.assign(J.shadowMap,A);($!==J.shadowMap.enabled||Q!==J.shadowMap.type)&&(J.shadowMap.needsUpdate=!0)}const te=zI();te&&("enabled"in te?te.enabled=!S:"legacyMode"in te&&(te.legacyMode=S)),yc(J,{outputEncoding:g?3e3:3001,toneMapping:x?Qr:oS}),U.legacy!==S&&U.set(()=>({legacy:S})),U.linear!==g&&U.set(()=>({linear:g})),U.flat!==x&&U.set(()=>({flat:x})),h&&!Qt.fun(h)&&!KI(h)&&!Qt.equ(h,J,xc)&&yc(J,h),y&&!U.events.handlers&&U.set({events:y(s)});const z=P8(n,p);return Qt.equ(z,U.size,xc)||U.setSize(z.width,z.height,z.updateStyle,z.top,z.left),R&&U.viewport.dpr!==jI(R)&&U.setDpr(R),U.frameloop!==T&&U.setFrameloop(T),U.onPointerMissed||U.set({onPointerMissed:L}),P&&!Qt.equ(P,U.performance,xc)&&U.set($=>({performance:{...$.performance,...P}})),a=M,l=!0,this},render(d){return l||this.configure(),Vg.updateContainer(q.createElement(L8,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){$I(n)}}}function L8({store:n,children:e,onCreated:t,rootElement:i}){return vh(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),q.createElement(YI.Provider,{value:n},e)}function $I(n,e){const t=Au.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),Vg.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),x8(r),Au.delete(n),e&&e(n)}catch{}},500)})}}Vg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:q.version});function Su(){return Su=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Su.apply(this,arguments)}function T1(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var u=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},u}T1.debounce=T1;var I8=T1;const yb=i0(I8);function D8(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=q.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=q.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=q.useRef(!1);q.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=q.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:S,top:E,width:T,height:R,bottom:P,right:B,x:b,y:L}=l.current.element.getBoundingClientRect(),U={left:S,top:E,width:T,height:R,bottom:P,right:B,x:b,y:L};l.current.element instanceof HTMLElement&&r&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),h.current&&!k8(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[x,d?yb(x,d):x,u?yb(x,u):x]},[a,r,u,d]);function M(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function A(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",y,{capture:!0,passive:!0})))}const g=x=>{!x||x===l.current.element||(M(),l.current.element=x,l.current.scrollContainers=eD(x),A())};return N8(y,!!t),F8(m),q.useEffect(()=>{M(),A()},[t,y,m]),q.useEffect(()=>M,[]),[g,o,p]}function F8(n){q.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function N8(n,e){q.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function eD(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...eD(n.parentElement)]}const O8=["x","y","top","bottom","left","right","width","height"],k8=(n,e)=>O8.every(t=>n[t]===e[t]);var U8=Object.defineProperty,z8=Object.defineProperties,H8=Object.getOwnPropertyDescriptors,xb=Object.getOwnPropertySymbols,G8=Object.prototype.hasOwnProperty,V8=Object.prototype.propertyIsEnumerable,_b=(n,e,t)=>e in n?U8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ab=(n,e)=>{for(var t in e||(e={}))G8.call(e,t)&&_b(n,t,e[t]);if(xb)for(var t of xb(e))V8.call(e,t)&&_b(n,t,e[t]);return n},W8=(n,e)=>z8(n,H8(e));function tD(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=tD(i,e,t);if(r)return r;i=e?null:i.sibling}}function nD(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const QS=nD(q.createContext(null));class iD extends q.Component{render(){return q.createElement(QS.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Sb,ReactCurrentDispatcher:Mb}=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function j8(){const n=q.useContext(QS);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=q.useId();return q.useMemo(()=>{for(const i of[Sb==null?void 0:Sb.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=tD(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function X8(){var n,e;const t=j8(),[i]=q.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==QS&&!i.has(s)&&i.set(s,(e=Mb==null?void 0:Mb.current)==null?void 0:e.readContext(nD(s))),r=r.return}return i}function J8(){const n=X8();return q.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>q.createElement(e,null,q.createElement(t.Provider,W8(Ab({},i),{value:n.get(t)}))),e=>q.createElement(iD,Ab({},e))),[n])}const Ax={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function K8(n){const{handlePointer:e}=M8(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Ax).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,u]=Ax[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Ax[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const Y8=q.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=K8,eventSource:a,eventPrefix:l,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:M,performance:A,raycaster:g,camera:x,onPointerMissed:S,onCreated:E,...T},R){q.useMemo(()=>h8(n8),[]);const P=J8(),[B,b]=D8({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=q.useRef(null),U=q.useRef(null);q.useImperativeHandle(R,()=>L.current);const J=GI(S),[G,K]=q.useState(!1),[j,se]=q.useState(!1);if(G)throw G;if(j)throw j;const te=q.useRef(null);vh(()=>{const H=L.current;b.width>0&&b.height>0&&H&&(te.current||(te.current=B8(H)),te.current.configure({gl:s,events:o,shadows:u,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:M,performance:A,raycaster:g,camera:x,size:b,onPointerMissed:(...z)=>J.current==null?void 0:J.current(...z),onCreated:z=>{z.events.connect==null||z.events.connect(a?m8(a)?a.current:a:U.current),l&&z.setEvents({compute:($,Q)=>{const ee=$[l+"X"],ie=$[l+"Y"];Q.pointer.set(ee/Q.size.width*2-1,-(ie/Q.size.height)*2+1),Q.raycaster.setFromCamera(Q.pointer,Q.camera)}}),E==null||E(z)}}),te.current.render(q.createElement(P,null,q.createElement(VI,{set:se},q.createElement(q.Suspense,{fallback:q.createElement(g8,{set:K})},e)))))}),q.useEffect(()=>{const H=L.current;if(H)return()=>$I(H)},[]);const I=a?"none":"auto";return q.createElement("div",Su({ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:I,...r}},T),q.createElement("div",{ref:B,style:{width:"100%",height:"100%"}},q.createElement("canvas",{ref:L,style:{display:"block"}},t)))}),Q8=q.forwardRef(function(e,t){return q.createElement(iD,null,q.createElement(Y8,Su({},e,{ref:t})))}),xh=new F,ZS=new F,Z8=new F;function q8(n,e,t){const i=xh.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function $8(n,e){const t=xh.setFromMatrixPosition(n.matrixWorld),i=ZS.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(Z8);return r.angleTo(s)>Math.PI/2}function e6(n,e,t,i){const r=xh.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function t6(n,e){if(e instanceof Zr)return e.zoom;if(e instanceof Xt){const t=xh.setFromMatrixPosition(n.matrixWorld),i=ZS.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function n6(n,e,t){if(e instanceof Xt||e instanceof Zr){const i=xh.setFromMatrixPosition(n.matrixWorld),r=ZS.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const C1=n=>Math.abs(n)<1e-10?0:n;function rD(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=C1(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const i6=(n=>e=>rD(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),r6=(n=>(e,t)=>rD(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function s6(n){return n&&typeof n=="object"&&"current"in n}const o6=q.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:d=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:y,material:M,geometry:A,zIndexRange:g=[16777271,0],calculatePosition:x=q8,as:S="div",wrapperClass:E,pointerEvents:T="auto",...R},P)=>{const{gl:B,camera:b,scene:L,size:U,raycaster:J,events:G,viewport:K}=Sr(),[j]=q.useState(()=>document.createElement(S)),se=q.useRef(),te=q.useRef(null),I=q.useRef(0),H=q.useRef([0,0]),z=q.useRef(null),$=q.useRef(null),Q=(a==null?void 0:a.current)||G.connected||B.domElement.parentNode,ee=q.useRef(null),ie=q.useRef(!1),we=q.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&s6(h[0]),[h]);q.useLayoutEffect(()=>{const _e=B.domElement;h&&h==="blending"?(_e.style.zIndex=`${Math.floor(g[0]/2)}`,_e.style.position="absolute",_e.style.pointerEvents="none"):(_e.style.zIndex=null,_e.style.position=null,_e.style.pointerEvents=null)},[h]),q.useLayoutEffect(()=>{if(te.current){const _e=se.current=RB(j);if(L.updateMatrixWorld(),d)j.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ee=x(te.current,b,U);j.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ee[0]}px,${Ee[1]}px,0);transform-origin:0 0;`}return Q&&(r?Q.prepend(j):Q.appendChild(j)),()=>{Q&&Q.removeChild(j),_e.unmount()}}},[Q,d]),q.useLayoutEffect(()=>{E&&(j.className=E)},[E]);const xe=q.useMemo(()=>d?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...t},[t,s,o,U,d]),V=q.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);q.useLayoutEffect(()=>{if(ie.current=!1,d){var _e;(_e=se.current)==null||_e.render(q.createElement("div",{ref:z,style:xe},q.createElement("div",{ref:$,style:V},q.createElement("div",{ref:P,className:i,style:t,children:n}))))}else{var Ee;(Ee=se.current)==null||Ee.render(q.createElement("div",{ref:P,style:xe,className:i,children:n}))}});const Xe=q.useRef(!0);ZI(_e=>{if(te.current){b.updateMatrixWorld(),te.current.updateWorldMatrix(!0,!1);const Ee=d?H.current:x(te.current,b,U);if(d||Math.abs(I.current-b.zoom)>e||Math.abs(H.current[0]-Ee[0])>e||Math.abs(H.current[1]-Ee[1])>e){const ge=$8(te.current,b);let ae=!1;we&&(h!=="blending"?ae=[L]:Array.isArray(h)&&(ae=h.map(We=>We.current)));const Ae=Xe.current;if(ae){const We=e6(te.current,b,J,ae);Xe.current=We&&!ge}else Xe.current=!ge;Ae!==Xe.current&&(p?p(!Xe.current):j.style.display=Xe.current?"block":"none");const Ne=Math.floor(g[0]/2),Le=h?we?[g[0],Ne]:[Ne-1,0]:g;if(j.style.zIndex=`${n6(te.current,b,Le)}`,d){const[We,Qe]=[U.width/2,U.height/2],je=b.projectionMatrix.elements[5]*Qe,{isOrthographicCamera:st,top:Mt,left:k,bottom:D,right:le}=b,Te=i6(b.matrixWorldInverse),Ce=st?`scale(${je})translate(${C1(-(le+k)/2)}px,${C1((Mt+D)/2)}px)`:`translateZ(${je}px)`;let Be=te.current.matrixWorld;u&&(Be=b.matrixWorldInverse.clone().transpose().copyPosition(Be).scale(te.current.scale),Be.elements[3]=Be.elements[7]=Be.elements[11]=0,Be.elements[15]=1),j.style.width=U.width+"px",j.style.height=U.height+"px",j.style.perspective=st?"":`${je}px`,z.current&&$.current&&(z.current.style.transform=`${Ce}${Te}translate(${We}px,${Qe}px)`,$.current.style.transform=r6(Be,1/((l||10)/400)))}else{const We=l===void 0?1:t6(te.current,b)*l;j.style.transform=`translate3d(${Ee[0]}px,${Ee[1]}px,0) scale(${We})`}H.current=Ee,I.current=b.zoom}}if(!we&&ee.current&&!ie.current)if(d){if(z.current){const Ee=z.current.children[0];if(Ee!=null&&Ee.clientWidth&&Ee!=null&&Ee.clientHeight){const{isOrthographicCamera:ge}=b;if(ge||A)R.scale&&(Array.isArray(R.scale)?R.scale instanceof F?ee.current.scale.copy(R.scale.clone().divideScalar(1)):ee.current.scale.set(1/R.scale[0],1/R.scale[1],1/R.scale[2]):ee.current.scale.setScalar(1/R.scale));else{const ae=(l||10)/400,Ae=Ee.clientWidth*ae,Ne=Ee.clientHeight*ae;ee.current.scale.set(Ae,Ne,1)}ie.current=!0}}}else{const Ee=j.children[0];if(Ee!=null&&Ee.clientWidth&&Ee!=null&&Ee.clientHeight){const ge=1/K.factor,ae=Ee.clientWidth*ge,Ae=Ee.clientHeight*ge;ee.current.scale.set(ae,Ae,1),ie.current=!0}ee.current.lookAt(_e.camera.position)}});const Ke=q.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return q.createElement("group",Su({},R,{ref:te}),h&&!we&&q.createElement("mesh",{castShadow:m,receiveShadow:y,ref:ee},A||q.createElement("planeGeometry",null),M||q.createElement("shaderMaterial",{side:wr,vertexShader:Ke.vertexShader,fragmentShader:Ke.fragmentShader})))});let Ef=0;const a6=DI(n=>(kc.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Ef)/(i-Ef)*100})},kc.onLoad=()=>{n({active:!1})},kc.onError=e=>n(t=>({errors:[...t.errors,e]})),kc.onProgress=(e,t,i)=>{t===i&&(Ef=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Ef)/(i-Ef)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function Nd(n){return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(n)}function l6(n,e){if(Nd(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Nd(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function c6(n){var e=l6(n,"string");return Nd(e)==="symbol"?e:String(e)}function ft(n,e,t){return e=c6(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Eb(n,e){if(e===bL)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===zg||e===cS){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===zg)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const wb=(n,e)=>(n%e+e)%e;let u6=class extends Ts{constructor(e,t){super(),ft(this,"object",void 0),ft(this,"domElement",void 0),ft(this,"enabled",!0),ft(this,"target",new F),ft(this,"minDistance",0),ft(this,"maxDistance",1/0),ft(this,"minZoom",0),ft(this,"maxZoom",1/0),ft(this,"minPolarAngle",0),ft(this,"maxPolarAngle",Math.PI),ft(this,"minAzimuthAngle",-1/0),ft(this,"maxAzimuthAngle",1/0),ft(this,"enableDamping",!1),ft(this,"dampingFactor",.05),ft(this,"enableZoom",!0),ft(this,"zoomSpeed",1),ft(this,"enableRotate",!0),ft(this,"rotateSpeed",1),ft(this,"enablePan",!0),ft(this,"panSpeed",1),ft(this,"screenSpacePanning",!0),ft(this,"keyPanSpeed",7),ft(this,"autoRotate",!1),ft(this,"autoRotateSpeed",2),ft(this,"reverseOrbit",!1),ft(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ft(this,"mouseButtons",{LEFT:Wa.ROTATE,MIDDLE:Wa.DOLLY,RIGHT:Wa.PAN}),ft(this,"touches",{ONE:ja.ROTATE,TWO:ja.DOLLY_PAN}),ft(this,"target0",void 0),ft(this,"position0",void 0),ft(this,"zoom0",void 0),ft(this,"_domElementKeyEvents",null),ft(this,"getPolarAngle",void 0),ft(this,"getAzimuthalAngle",void 0),ft(this,"setPolarAngle",void 0),ft(this,"setAzimuthalAngle",void 0),ft(this,"getDistance",void 0),ft(this,"listenToKeyEvents",void 0),ft(this,"saveState",void 0),ft(this,"reset",void 0),ft(this,"update",void 0),ft(this,"connect",void 0),ft(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Xt?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=W=>{let he=wb(W,2*Math.PI),Se=d.phi;Se<0&&(Se+=2*Math.PI),he<0&&(he+=2*Math.PI);let Re=Math.abs(he-Se);2*Math.PI-Re<Re&&(he<Se?he+=2*Math.PI:Se+=2*Math.PI),h.phi=he-Se,i.update()},this.setAzimuthalAngle=W=>{let he=wb(W,2*Math.PI),Se=d.theta;Se<0&&(Se+=2*Math.PI),he<0&&(he+=2*Math.PI);let Re=Math.abs(he-Se);2*Math.PI-Re<Re&&(he<Se?he+=2*Math.PI:Se+=2*Math.PI),h.theta=he-Se,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=W=>{W.addEventListener("keydown",le),this._domElementKeyEvents=W},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof Xt?i.object.zoom:1},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof Xt&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const W=new F,he=new Jn().setFromUnitVectors(e.up,new F(0,1,0)),Se=he.clone().invert(),Re=new F,et=new Jn,dt=2*Math.PI;return function(){const X=i.object.position;W.copy(X).sub(i.target),W.applyQuaternion(he),d.setFromVector3(W),i.autoRotate&&l===a.NONE&&J(L()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let fe=i.minAzimuthAngle,Me=i.maxAzimuthAngle;return isFinite(fe)&&isFinite(Me)&&(fe<-Math.PI?fe+=dt:fe>Math.PI&&(fe-=dt),Me<-Math.PI?Me+=dt:Me>Math.PI&&(Me-=dt),fe<=Me?d.theta=Math.max(fe,Math.min(Me,d.theta)):d.theta=d.theta>(fe+Me)/2?Math.max(fe,d.theta):Math.min(Me,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=p,d.radius=Math.max(i.minDistance,Math.min(i.maxDistance,d.radius)),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),W.setFromSpherical(d),W.applyQuaternion(Se),X.copy(i.target).add(W),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,y||Re.distanceToSquared(i.object.position)>u||8*(1-et.dot(i.object.quaternion))>u?(i.dispatchEvent(r),Re.copy(i.object.position),et.copy(i.object.quaternion),y=!1,!0):!1}})(),this.connect=W=>{W===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=W,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Be),i.domElement.addEventListener("pointerdown",We),i.domElement.addEventListener("pointercancel",st),i.domElement.addEventListener("wheel",D)},this.dispose=()=>{var W,he,Se,Re,et,dt;(W=i.domElement)===null||W===void 0||W.removeEventListener("contextmenu",Be),(he=i.domElement)===null||he===void 0||he.removeEventListener("pointerdown",We),(Se=i.domElement)===null||Se===void 0||Se.removeEventListener("pointercancel",st),(Re=i.domElement)===null||Re===void 0||Re.removeEventListener("wheel",D),(et=i.domElement)===null||et===void 0||et.ownerDocument.removeEventListener("pointermove",Qe),(dt=i.domElement)===null||dt===void 0||dt.ownerDocument.removeEventListener("pointerup",je),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",le)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,d=new M1,h=new M1;let p=1;const m=new F;let y=!1;const M=new ye,A=new ye,g=new ye,x=new ye,S=new ye,E=new ye,T=new ye,R=new ye,P=new ye,B=[],b={};function L(){return 2*Math.PI/60/60*i.autoRotateSpeed}function U(){return Math.pow(.95,i.zoomSpeed)}function J(W){i.reverseOrbit?h.theta+=W:h.theta-=W}function G(W){i.reverseOrbit?h.phi+=W:h.phi-=W}const K=(()=>{const W=new F;return function(Se,Re){W.setFromMatrixColumn(Re,0),W.multiplyScalar(-Se),m.add(W)}})(),j=(()=>{const W=new F;return function(Se,Re){i.screenSpacePanning===!0?W.setFromMatrixColumn(Re,1):(W.setFromMatrixColumn(Re,0),W.crossVectors(i.object.up,W)),W.multiplyScalar(Se),m.add(W)}})(),se=(()=>{const W=new F;return function(Se,Re){const et=i.domElement;if(et&&i.object instanceof Xt&&i.object.isPerspectiveCamera){const dt=i.object.position;W.copy(dt).sub(i.target);let Vt=W.length();Vt*=Math.tan(i.object.fov/2*Math.PI/180),K(2*Se*Vt/et.clientHeight,i.object.matrix),j(2*Re*Vt/et.clientHeight,i.object.matrix)}else et&&i.object instanceof Zr&&i.object.isOrthographicCamera?(K(Se*(i.object.right-i.object.left)/i.object.zoom/et.clientWidth,i.object.matrix),j(Re*(i.object.top-i.object.bottom)/i.object.zoom/et.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function te(W){i.object instanceof Xt&&i.object.isPerspectiveCamera?p/=W:i.object instanceof Zr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*W)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function I(W){i.object instanceof Xt&&i.object.isPerspectiveCamera?p*=W:i.object instanceof Zr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/W)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function H(W){M.set(W.clientX,W.clientY)}function z(W){T.set(W.clientX,W.clientY)}function $(W){x.set(W.clientX,W.clientY)}function Q(W){A.set(W.clientX,W.clientY),g.subVectors(A,M).multiplyScalar(i.rotateSpeed);const he=i.domElement;he&&(J(2*Math.PI*g.x/he.clientHeight),G(2*Math.PI*g.y/he.clientHeight)),M.copy(A),i.update()}function ee(W){R.set(W.clientX,W.clientY),P.subVectors(R,T),P.y>0?te(U()):P.y<0&&I(U()),T.copy(R),i.update()}function ie(W){S.set(W.clientX,W.clientY),E.subVectors(S,x).multiplyScalar(i.panSpeed),se(E.x,E.y),x.copy(S),i.update()}function we(W){W.deltaY<0?I(U()):W.deltaY>0&&te(U()),i.update()}function xe(W){let he=!1;switch(W.code){case i.keys.UP:se(0,i.keyPanSpeed),he=!0;break;case i.keys.BOTTOM:se(0,-i.keyPanSpeed),he=!0;break;case i.keys.LEFT:se(i.keyPanSpeed,0),he=!0;break;case i.keys.RIGHT:se(-i.keyPanSpeed,0),he=!0;break}he&&(W.preventDefault(),i.update())}function V(){if(B.length==1)M.set(B[0].pageX,B[0].pageY);else{const W=.5*(B[0].pageX+B[1].pageX),he=.5*(B[0].pageY+B[1].pageY);M.set(W,he)}}function Xe(){if(B.length==1)x.set(B[0].pageX,B[0].pageY);else{const W=.5*(B[0].pageX+B[1].pageX),he=.5*(B[0].pageY+B[1].pageY);x.set(W,he)}}function Ke(){const W=B[0].pageX-B[1].pageX,he=B[0].pageY-B[1].pageY,Se=Math.sqrt(W*W+he*he);T.set(0,Se)}function _e(){i.enableZoom&&Ke(),i.enablePan&&Xe()}function Ee(){i.enableZoom&&Ke(),i.enableRotate&&V()}function ge(W){if(B.length==1)A.set(W.pageX,W.pageY);else{const Se=Ve(W),Re=.5*(W.pageX+Se.x),et=.5*(W.pageY+Se.y);A.set(Re,et)}g.subVectors(A,M).multiplyScalar(i.rotateSpeed);const he=i.domElement;he&&(J(2*Math.PI*g.x/he.clientHeight),G(2*Math.PI*g.y/he.clientHeight)),M.copy(A)}function ae(W){if(B.length==1)S.set(W.pageX,W.pageY);else{const he=Ve(W),Se=.5*(W.pageX+he.x),Re=.5*(W.pageY+he.y);S.set(Se,Re)}E.subVectors(S,x).multiplyScalar(i.panSpeed),se(E.x,E.y),x.copy(S)}function Ae(W){const he=Ve(W),Se=W.pageX-he.x,Re=W.pageY-he.y,et=Math.sqrt(Se*Se+Re*Re);R.set(0,et),P.set(0,Math.pow(R.y/T.y,i.zoomSpeed)),te(P.y),T.copy(R)}function Ne(W){i.enableZoom&&Ae(W),i.enablePan&&ae(W)}function Le(W){i.enableZoom&&Ae(W),i.enableRotate&&ge(W)}function We(W){if(i.enabled!==!1){if(B.length===0){var he,Se;(he=i.domElement)===null||he===void 0||he.ownerDocument.addEventListener("pointermove",Qe),(Se=i.domElement)===null||Se===void 0||Se.ownerDocument.addEventListener("pointerup",je)}nt(W),W.pointerType==="touch"?Te(W):Mt(W)}}function Qe(W){i.enabled!==!1&&(W.pointerType==="touch"?Ce(W):k(W))}function je(W){if(ke(W),B.length===0){var he,Se,Re;(he=i.domElement)===null||he===void 0||he.releasePointerCapture(W.pointerId),(Se=i.domElement)===null||Se===void 0||Se.ownerDocument.removeEventListener("pointermove",Qe),(Re=i.domElement)===null||Re===void 0||Re.ownerDocument.removeEventListener("pointerup",je)}i.dispatchEvent(o),l=a.NONE}function st(W){ke(W)}function Mt(W){let he;switch(W.button){case 0:he=i.mouseButtons.LEFT;break;case 1:he=i.mouseButtons.MIDDLE;break;case 2:he=i.mouseButtons.RIGHT;break;default:he=-1}switch(he){case Wa.DOLLY:if(i.enableZoom===!1)return;z(W),l=a.DOLLY;break;case Wa.ROTATE:if(W.ctrlKey||W.metaKey||W.shiftKey){if(i.enablePan===!1)return;$(W),l=a.PAN}else{if(i.enableRotate===!1)return;H(W),l=a.ROTATE}break;case Wa.PAN:if(W.ctrlKey||W.metaKey||W.shiftKey){if(i.enableRotate===!1)return;H(W),l=a.ROTATE}else{if(i.enablePan===!1)return;$(W),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function k(W){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Q(W);break;case a.DOLLY:if(i.enableZoom===!1)return;ee(W);break;case a.PAN:if(i.enablePan===!1)return;ie(W);break}}function D(W){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(W.preventDefault(),i.dispatchEvent(s),we(W),i.dispatchEvent(o))}function le(W){i.enabled===!1||i.enablePan===!1||xe(W)}function Te(W){switch(pe(W),B.length){case 1:switch(i.touches.ONE){case ja.ROTATE:if(i.enableRotate===!1)return;V(),l=a.TOUCH_ROTATE;break;case ja.PAN:if(i.enablePan===!1)return;Xe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case ja.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;_e(),l=a.TOUCH_DOLLY_PAN;break;case ja.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ee(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ce(W){switch(pe(W),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;ge(W),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;ae(W),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ne(W),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Le(W),i.update();break;default:l=a.NONE}}function Be(W){i.enabled!==!1&&W.preventDefault()}function nt(W){B.push(W)}function ke(W){delete b[W.pointerId];for(let he=0;he<B.length;he++)if(B[he].pointerId==W.pointerId){B.splice(he,1);return}}function pe(W){let he=b[W.pointerId];he===void 0&&(he=new ye,b[W.pointerId]=he),he.set(W.pageX,W.pageY)}function Ve(W){const he=W.pointerId===B[0].pointerId?B[1]:B[0];return b[he.pointerId]}t!==void 0&&this.connect(t),this.update()}};class qS extends wi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new m6(t)}),this.register(function(t){return new S6(t)}),this.register(function(t){return new M6(t)}),this.register(function(t){return new E6(t)}),this.register(function(t){return new v6(t)}),this.register(function(t){return new y6(t)}),this.register(function(t){return new x6(t)}),this.register(function(t){return new _6(t)}),this.register(function(t){return new p6(t)}),this.register(function(t){return new A6(t)}),this.register(function(t){return new g6(t)}),this.register(function(t){return new d6(t)}),this.register(function(t){return new w6(t)}),this.register(function(t){return new T6(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=_u.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){r?r(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new nr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===sD){try{o[Pt.KHR_BINARY_GLTF]=new C6(e)}catch(h){r&&r(h);return}s=JSON.parse(o[Pt.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new z6(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const h=this.pluginCallbacks[d](u);a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let d=0;d<s.extensionsUsed.length;++d){const h=s.extensionsUsed[d],p=s.extensionsRequired||[];switch(h){case Pt.KHR_MATERIALS_UNLIT:o[h]=new h6;break;case Pt.KHR_DRACO_MESH_COMPRESSION:o[h]=new b6(s,this.dracoLoader);break;case Pt.KHR_TEXTURE_TRANSFORM:o[h]=new R6;break;case Pt.KHR_MESH_QUANTIZATION:o[h]=new P6;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function f6(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Pt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class d6{constructor(e){this.parser=e,this.name=Pt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new De(16777215);l.color!==void 0&&d.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new VS(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new GS(d),u.distance=h;break;case"spot":u=new HS(d),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,ko(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(u),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class h6{constructor(){this.name=Pt.KHR_MATERIALS_UNLIT}getMaterialType(){return Yi}extendParams(e,t,i){const r=[];e.color=new De(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,qi))}return Promise.all(r)}}class p6{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class m6{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ho}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ye(a,a)}return Promise.all(s)}}class g6{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ho}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class v6{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ho}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new De(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,qi)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class y6{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ho}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class x6{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ho}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new De(a[0],a[1],a[2]),Promise.all(s)}}class _6{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ho}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class A6{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ho}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new De(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,qi)),Promise.all(s)}}class S6{constructor(e){this.parser=e,this.name=Pt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class M6{constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class E6{constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const u=i.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class w6{constructor(e){this.name=Pt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,u=r.byteLength||0,d=r.count,h=r.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(m),d,h,p,r.mode,r.filter),m})})}else return null}}class T6{constructor(e){this.name=Pt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const u of r.primitives)if(u.mode!==_r.TRIANGLES&&u.mode!==_r.TRIANGLE_STRIP&&u.mode!==_r.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(d=>(l[u]=d,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const d=u.pop(),h=d.isGroup?d.children:[d],p=u[0].count,m=[];for(const y of h){const M=new lt,A=new F,g=new Jn,x=new F(1,1,1),S=new wS(y.geometry,y.material,p);for(let E=0;E<p;E++)l.TRANSLATION&&A.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,E),l.SCALE&&x.fromBufferAttribute(l.SCALE,E),S.setMatrixAt(E,M.compose(A,g,x));for(const E in l)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&y.geometry.setAttribute(E,l[E]);Bt.prototype.copy.call(S,y),this.parser.assignFinalMaterial(S),m.push(S)}return d.isGroup?(d.clear(),d.add(...m),d):m[0]}))}}const sD="glTF",wf=12,Tb={JSON:1313821514,BIN:5130562};class C6{constructor(e){this.name=Pt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,wf),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==sD)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-wf,s=new DataView(e,wf);let o=0;for(;o<r;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,l===Tb.JSON){const u=new Uint8Array(e,wf+o,a);this.content=i.decode(u)}else if(l===Tb.BIN){const u=wf+o;this.body=e.slice(u,u+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class b6{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Pt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const d in o){const h=b1[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=b1[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=tu[p.componentType];u[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h){r.decodeDracoFile(d,function(p){for(const m in p.attributes){const y=p.attributes[m],M=l[m];M!==void 0&&(y.normalized=M)}h(p)},a,u)})})}}class R6{constructor(){this.name=Pt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class P6{constructor(){this.name=Pt.KHR_MESH_QUANTIZATION}}class oD extends Fu{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,d=r-t,h=(i-t)/d,p=h*h,m=p*h,y=e*u,M=y-u,A=-2*m+3*p,g=m-p,x=1-A,S=g-p+h;for(let E=0;E!==a;E++){const T=o[M+E+a],R=o[M+E+l]*d,P=o[y+E+a],B=o[y+E]*d;s[E]=x*T+S*R+A*P+g*B}return s}}const B6=new Jn;class L6 extends oD{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return B6.fromArray(s).normalize().toArray(s),s}}const _r={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},tu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Cb={9728:vn,9729:ln,9984:Cd,9985:T0,9986:qc,9987:Es},bb={33071:qn,33648:fu,10497:ca},Sx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},b1={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Po={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},I6={CUBICSPLINE:void 0,LINEAR:Al,STEP:hu},Mx={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function D6(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new gh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ms})),n.DefaultMaterial}function Tf(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function ko(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function F6(n,e,t){let i=!1,r=!1,s=!1;for(let u=0,d=e.length;u<d;u++){const h=e[u];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,d=e.length;u<d;u++){const h=e[u];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const d=u[0],h=u[1],p=u[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function N6(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function O6(n){const e=n.extensions&&n.extensions[Pt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+Rb(e.attributes):t=n.indices+":"+Rb(n.attributes)+":"+n.mode,t}function Rb(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function R1(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function k6(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const U6=new lt;class z6{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new f6,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new _I(this.options.manager):this.textureLoader=new CI(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new nr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Tf(s,a,r),ko(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,d]of o.children.entries())s(d,a.children[u])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Pt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(_u.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=Sx[r.type],a=tu[r.componentType],l=r.normalized===!0,u=new a(r.count*o);return Promise.resolve(new Nt(u,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Sx[r.type],u=tu[r.componentType],d=u.BYTES_PER_ELEMENT,h=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let M,A;if(m&&m!==h){const g=Math.floor(p/m),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let S=t.cache.get(x);S||(M=new u(a,g*m,r.count*m/d),S=new nh(M,m/d),t.cache.add(x,S)),A=new ua(S,l,p%m/d,y)}else a===null?M=new u(r.count*l):M=new u(a,p,r.count*l),A=new Nt(M,l,y);if(r.sparse!==void 0){const g=Sx.SCALAR,x=tu[r.sparse.indices.componentType],S=r.sparse.indices.byteOffset||0,E=r.sparse.values.byteOffset||0,T=new x(o[1],S,r.sparse.count*g),R=new u(o[2],E,r.sparse.count*l);a!==null&&(A=new Nt(A.array.slice(),A.itemSize,A.normalized));for(let P=0,B=T.length;P<B;P++){const b=T[P];if(A.setX(b,R[P*l]),l>=2&&A.setY(b,R[P*l+1]),l>=3&&A.setZ(b,R[P*l+2]),l>=4&&A.setW(b,R[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,i).then(function(d){d.flipY=!1,d.name=o.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=Cb[p.magFilter]||ln,d.minFilter=Cb[p.minFilter]||Es,d.wrapS=bb[p.wrapS]||ca,d.wrapT=bb[p.wrapT]||ca,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){u=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(M){const A=new sn(M);A.needsUpdate=!0,p(A)}),t.load(_u.resolveURL(h,s.path),y,void 0,m)})}).then(function(h){return u===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||k6(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Pt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Pt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Pt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new D0,Pn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new hi,Pn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return gh}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Pt.KHR_MATERIALS_UNLIT]){const h=r[Pt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new De(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",h.baseColorTexture,qi)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=wr);const d=s.alphaMode||Mx.OPAQUE;if(d===Mx.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===Mx.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Yi&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ye(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Yi&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Yi&&(a.emissive=new De().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Yi&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,qi)),Promise.all(u).then(function(){const h=new o(a);return s.name&&(h.name=s.name),ko(h,s),t.associations.set(h,{materials:e}),s.extensions&&Tf(r,h,s),h})}createUniqueName(e){const t=Rt.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Pt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return Pb(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],d=O6(u),h=r[d];if(h)o.push(h.promise);else{let p;u.extensions&&u.extensions[Pt.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=Pb(new mt,u,t),r[d]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const d=o[l].material===void 0?D6(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,y=d.length;m<y;m++){const M=d[m],A=o[m];let g;const x=u[m];if(A.mode===_r.TRIANGLES||A.mode===_r.TRIANGLE_STRIP||A.mode===_r.TRIANGLE_FAN||A.mode===void 0)g=s.isSkinnedMesh===!0?new ES(M,x):new jn(M,x),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),A.mode===_r.TRIANGLE_STRIP?g.geometry=Eb(g.geometry,cS):A.mode===_r.TRIANGLE_FAN&&(g.geometry=Eb(g.geometry,zg));else if(A.mode===_r.LINES)g=new is(M,x);else if(A.mode===_r.LINE_STRIP)g=new so(M,x);else if(A.mode===_r.LINE_LOOP)g=new TS(M,x);else if(A.mode===_r.POINTS)g=new CS(M,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(g.geometry.morphAttributes).length>0&&N6(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),ko(g,s),A.extensions&&Tf(r,g,A),t.assignFinalMaterial(g),h.push(g)}for(let m=0,y=h.length;m<y;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new Ks;t.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Xt(FL.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Zr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),ko(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let u=0,d=o.length;u<d;u++){const h=o[u];if(h){a.push(h);const p=new lt;s!==null&&p.fromArray(s.array,u*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new ih(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let d=0,h=i.channels.length;d<h;d++){const p=i.channels[d],m=i.samplers[p.sampler],y=p.target,M=y.node,A=i.parameters!==void 0?i.parameters[m.input]:m.input,g=i.parameters!==void 0?i.parameters[m.output]:m.output;y.node!==void 0&&(s.push(this.getDependency("node",M)),o.push(this.getDependency("accessor",A)),a.push(this.getDependency("accessor",g)),l.push(m),u.push(y))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(d){const h=d[0],p=d[1],m=d[2],y=d[3],M=d[4],A=[];for(let g=0,x=h.length;g<x;g++){const S=h[g],E=p[g],T=m[g],R=y[g],P=M[g];if(S===void 0)continue;S.updateMatrix();let B;switch(Po[P.path]){case Po.weights:B=vu;break;case Po.rotation:B=fa;break;case Po.position:case Po.scale:default:B=yu;break}const b=S.name?S.name:S.uuid,L=R.interpolation!==void 0?I6[R.interpolation]:Al,U=[];Po[P.path]===Po.weights?S.traverse(function(G){G.morphTargetInfluences&&U.push(G.name?G.name:G.uuid)}):U.push(b);let J=T.array;if(T.normalized){const G=R1(J.constructor),K=new Float32Array(J.length);for(let j=0,se=J.length;j<se;j++)K[j]=J[j]*G;J=K}for(let G=0,K=U.length;G<K;G++){const j=new B(U[G]+"."+Po[P.path],E.array,J,L);R.interpolation==="CUBICSPLINE"&&(j.createInterpolant=function(te){const I=this instanceof fa?L6:oD;return new I(this.times,this.values,this.getValueSize()/3,te)},j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(j)}}return new xu(r,void 0,A)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=r.weights.length;l<u;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let u=0,d=a.length;u<d;u++)o.push(i.getDependency("node",a[u]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const d=u[0],h=u[1],p=u[2];p!==null&&d.traverse(function(m){m.isSkinnedMesh&&m.bind(p,U6)});for(let m=0,y=h.length;m<y;m++)d.add(h[m]);return d})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(u){return r._getNodeRef(r.cameraCache,s.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let d;if(s.isBone===!0?d=new I0:u.length>1?d=new Ks:u.length===1?d=u[0]:d=new Bt,d!==u[0])for(let h=0,p=u.length;h<p;h++)d.add(u[h]);if(s.name&&(d.userData.name=s.name,d.name=o),ko(d,s),s.extensions&&Tf(i,d,s),s.matrix!==void 0){const h=new lt;h.fromArray(s.matrix),d.applyMatrix4(h)}else s.translation!==void 0&&d.position.fromArray(s.translation),s.rotation!==void 0&&d.quaternion.fromArray(s.rotation),s.scale!==void 0&&d.scale.fromArray(s.scale);return r.associations.has(d)||r.associations.set(d,{}),r.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Ks;i.name&&(s.name=r.createUniqueName(i.name)),ko(s,i),i.extensions&&Tf(t,s,i);const o=i.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let d=0,h=l.length;d<h;d++)s.add(l[d]);const u=d=>{const h=new Map;for(const[p,m]of r.associations)(p instanceof Pn||p instanceof sn)&&h.set(p,m);return d.traverse(p=>{const m=r.associations.get(p);m!=null&&h.set(p,m)}),h};return r.associations=u(s),s})}}function H6(n,e,t){const i=e.attributes,r=new ts;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(r.set(new F(l[0],l[1],l[2]),new F(u[0],u[1],u[2])),a.normalized){const d=R1(tu[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,l=new F;for(let u=0,d=s.length;u<d;u++){const h=s[u];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const M=R1(tu[p.componentType]);l.multiplyScalar(M)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new ns;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function Pb(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=b1[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return ko(n,e),H6(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?F6(n,e.targets,t):n})}const Ex=new WeakMap;class G6 extends wi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new nr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const i=JSON.stringify(t);if(Ex.has(e)){const l=Ex.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((u,d)=>{r._callbacks[s]={resolve:u,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Ex.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new mt;e.index&&t.setIndex(new Nt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Nt(o,a))}return t}_loadLibrary(e,t){const i=new nr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=V6.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function V6(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(h,p,m,u),M=y.attributes.map(A=>A.array.buffer);y.index&&M.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},M)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,u){const d=u.attributeIDs,h=u.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const M={index:null,attributes:[]};for(const A in d){const g=self[h[A]];let x,S;if(u.useUniqueIDs)S=d[A],x=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[d[A]]),S===-1)continue;x=a.GetAttribute(p,S)}M.attributes.push(r(o,a,p,A,g,x))}return y===o.TRIANGULAR_MESH&&(M.index=i(o,a,p)),o.destroy(p),M}function i(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,u,d,h){const p=h.num_components(),y=l.num_points()*p,M=y*d.BYTES_PER_ELEMENT,A=s(o,d),g=o._malloc(M);a.GetAttributeDataArrayForAllPoints(l,h,A,M,g);const x=new d(o.HEAPF32.buffer,g,y).slice();return o._free(g),{name:u,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Rm;const wx=()=>{if(Rm)return Rm;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const M=h.charCodeAt(y);p[y]=M>96?M-71:M>64?M-65:M>47?M+4:M>46?63:62}let m=0;for(let y=0;y<h.length;++y)p[m++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(h,p,m,y,M,A){const g=s.exports.sbrk,x=m+3&-4,S=g(x*y),E=g(M.length),T=new Uint8Array(s.exports.memory.buffer);T.set(M,E);const R=h(S,m,y,E,M.length);if(R===0&&A&&A(S,x,y),p.set(T.subarray(S,S+m*y)),g(S-g(0)),R!==0)throw new Error(`Malformed buffer data: ${R}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Rm={ready:o,supported:!0,decodeVertexBuffer(h,p,m,y,M){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,y,s.exports[u[M]])},decodeIndexBuffer(h,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,y)},decodeIndexSequence(h,p,m,y){l(s.exports.meshopt_decodeIndexSequence,h,p,m,y)},decodeGltfBuffer(h,p,m,y,M,A){l(s.exports[d[M]],h,p,m,y,s.exports[u[A]])}},Rm};let Pm=null;function aD(n,e,t){return i=>{t&&t(i),n&&(Pm||(Pm=new G6),Pm.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader(Pm)),e&&i.setMeshoptDecoder(typeof wx=="function"?wx():wx)}}function $S(n,e=!0,t=!0,i){return yh(qS,n,aD(e,t,i))}$S.preload=(n,e=!0,t=!0,i)=>yh.preload(qS,n,aD(e,t,i));$S.clear=n=>yh.clear(qS,n);const W6=q.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:o,onEnd:a,...l},u)=>{const d=Sr(T=>T.invalidate),h=Sr(T=>T.camera),p=Sr(T=>T.gl),m=Sr(T=>T.events),y=Sr(T=>T.setEvents),M=Sr(T=>T.set),A=Sr(T=>T.get),g=Sr(T=>T.performance),x=e||h,S=i||m.connected||p.domElement,E=q.useMemo(()=>new u6(x),[x]);return ZI(()=>{E.enabled&&E.update()},-1),q.useEffect(()=>(E.connect(S),()=>void E.dispose()),[S,t,E,d]),q.useEffect(()=>{const T=B=>{d(),t&&g.regress(),s&&s(B)},R=B=>{o&&o(B)},P=B=>{a&&a(B)};return E.addEventListener("change",T),E.addEventListener("start",R),E.addEventListener("end",P),()=>{E.removeEventListener("start",R),E.removeEventListener("end",P),E.removeEventListener("change",T)}},[s,o,a,E,d,y]),q.useEffect(()=>{if(n){const T=A().controls;return M({controls:E}),()=>M({controls:T})}},[n,E]),q.createElement("primitive",Su({ref:u,object:E,enableDamping:r},l))});var lD={exports:{}},j6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",X6=j6,J6=X6;function cD(){}function uD(){}uD.resetWarningCache=cD;var K6=function(){function n(i,r,s,o,a,l){if(l!==J6){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:uD,resetWarningCache:cD};return t.PropTypes=t,t};lD.exports=K6();var eM=lD.exports;const Tt=i0(eM);function Y6({all:n,scene:e,camera:t}){const i=Sr(({gl:o})=>o),r=Sr(({camera:o})=>o),s=Sr(({scene:o})=>o);return q.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(u=>{u.visible===!1&&(o.push(u),u.visible=!0)}),i.compile(e||s,t||r);const a=new yS(128);new vS(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(u=>u.visible=!1)},[]),null}const Q6=()=>{const{progress:n}=a6();return ce.jsxs(o6,{children:[ce.jsx("span",{className:"canvas-load"}),ce.jsxs("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800,marginTop:40},children:[n.toFixed(2),"%"]})]})},Z6=({isMobile:n})=>{const e=$S("./rose/scene.gltf");return ce.jsxs("mesh",{children:[ce.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),ce.jsx("pointLight",{intensity:1}),ce.jsx("ambientLight",{intensity:1}),ce.jsx("spotLight",{position:[-.5,18,-4],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),ce.jsx("primitive",{object:e.scene,scale:1.15,position:[n?0:-.1,18.75,-3]})]})},q6=()=>{const[n,e]=q.useState(!1);return q.useEffect(()=>{const t=window.matchMedia("(max-width: 640px)");e(t.matches);const i=r=>e(r.matches);return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),ce.jsxs(Q8,{frameloop:"demand",shadows:!0,camera:{position:[1,0,5],fov:75,zoom:.9},gl:{preserveDrawingBuffer:!0},children:[ce.jsxs(q.Suspense,{fallback:ce.jsx(Q6,{}),children:[ce.jsx(W6,{maxPolarAngle:Math.PI/2,minPolarAngle:n?Math.PI/2-.3:Math.PI/2-.4,minAzimuthAngle:n?Math.PI*2:Math.PI*2-.7,maxAzimuthAngle:n?Math.PI*2+.5:Math.PI*2+.7,enableZoom:!1}),ce.jsx(Z6,{isMobile:n})]}),ce.jsx(Y6,{all:!0})]})},fD=q.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),z0=q.createContext({}),tM=q.createContext(null),H0=typeof document<"u",Bb=H0?q.useLayoutEffect:q.useEffect,dD=q.createContext({strict:!1});function $6(n,e,t,i){const{visualElement:r}=q.useContext(z0),s=q.useContext(dD),o=q.useContext(tM),a=q.useContext(fD).reducedMotion,l=q.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return q.useInsertionEffect(()=>{u&&u.update(t,o)}),Bb(()=>{u&&u.render()}),q.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?Bb:q.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function zc(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function eW(n,e,t){return q.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):zc(t)&&(t.current=i))},[e])}function Od(n){return typeof n=="string"||Array.isArray(n)}function G0(n){return typeof n=="object"&&typeof n.start=="function"}const nM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iM=["initial",...nM];function V0(n){return G0(n.animate)||iM.some(e=>Od(n[e]))}function hD(n){return!!(V0(n)||n.variants)}function tW(n,e){if(V0(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Od(t)?t:void 0,animate:Od(i)?i:void 0}}return n.inherit!==!1?e:{}}function nW(n){const{initial:e,animate:t}=tW(n,q.useContext(z0));return q.useMemo(()=>({initial:e,animate:t}),[Lb(e),Lb(t)])}function Lb(n){return Array.isArray(n)?n.join(" "):n}const Ib={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kd={};for(const n in Ib)kd[n]={isEnabled:e=>Ib[n].some(t=>!!e[t])};function iW(n){for(const e in n)kd[e]={...kd[e],...n[e]}}function pD(n){const e=q.useRef(null);return e.current===null&&(e.current=n()),e.current}const $f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let rW=1;function sW(){return pD(()=>{if($f.hasEverUpdated)return rW++})}const mD=q.createContext({}),gD=q.createContext({}),oW=Symbol.for("motionComponentSymbol");function aW({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&iW(n);function s(a,l){let u;const d={...q.useContext(fD),...a,layoutId:lW(a)},{isStatic:h}=d,p=nW(a),m=h?void 0:sW(),y=i(a,h);if(!h&&H0){p.visualElement=$6(r,y,d,e);const M=q.useContext(gD),A=q.useContext(dD).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,A,n,m,M))}return q.createElement(z0.Provider,{value:p},u&&p.visualElement?q.createElement(u,{visualElement:p.visualElement,...d}):null,t(r,a,m,eW(y,p.visualElement,l),y,h,p.visualElement))}const o=q.forwardRef(s);return o[oW]=r,o}function lW({layoutId:n}){const e=q.useContext(mD).id;return e&&n!==void 0?e+"-"+n:n}function cW(n){function e(i,r={}){return aW(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const uW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rM(n){return typeof n!="string"||n.includes("-")?!1:!!(uW.indexOf(n)>-1||/[A-Z]/.test(n))}const Wg={};function fW(n){Object.assign(Wg,n)}const _h=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dl=new Set(_h);function vD(n,{layout:e,layoutId:t}){return Dl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Wg[n]||n==="opacity")}const ki=n=>!!(n&&n.getVelocity),dW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hW=_h.length;function pW(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<hW;o++){const a=_h[o];if(n[a]!==void 0){const l=dW[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const yD=n=>e=>typeof e=="string"&&e.startsWith(n),xD=yD("--"),P1=yD("var(--"),mW=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,gW=(n,e)=>e&&typeof n=="number"?e.transform(n):n,El=(n,e,t)=>Math.min(Math.max(t,n),e),Fl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ed={...Fl,transform:n=>El(0,1,n)},Bm={...Fl,default:1},td=n=>Math.round(n*1e5)/1e5,W0=/(-)?([\d]*\.?[\d])+/g,_D=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,vW=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ah(n){return typeof n=="string"}const Sh=n=>({test:e=>Ah(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Do=Sh("deg"),Ss=Sh("%"),ot=Sh("px"),yW=Sh("vh"),xW=Sh("vw"),Db={...Ss,parse:n=>Ss.parse(n)/100,transform:n=>Ss.transform(n*100)},Fb={...Fl,transform:Math.round},AD={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,size:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,rotate:Do,rotateX:Do,rotateY:Do,rotateZ:Do,scale:Bm,scaleX:Bm,scaleY:Bm,scaleZ:Bm,skew:Do,skewX:Do,skewY:Do,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:ed,originX:Db,originY:Db,originZ:ot,zIndex:Fb,fillOpacity:ed,strokeOpacity:ed,numOctaves:Fb};function sM(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,u=!1,d=!0;for(const h in e){const p=e[h];if(xD(h)){s[h]=p;continue}const m=AD[h],y=gW(p,m);if(Dl.has(h)){if(l=!0,o[h]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=y):r[h]=y}if(e.transform||(l||i?r.transform=pW(n.transform,t,d,i):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}const oM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SD(n,e,t){for(const i in e)!ki(e[i])&&!vD(i,t)&&(n[i]=e[i])}function _W({transformTemplate:n},e,t){return q.useMemo(()=>{const i=oM();return sM(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function AW(n,e,t){const i=n.style||{},r={};return SD(r,i,n),Object.assign(r,_W(n,e,t)),n.transformValues?n.transformValues(r):r}function SW(n,e,t){const i={},r=AW(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const MW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function jg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||MW.has(n)}let MD=n=>!jg(n);function EW(n){n&&(MD=e=>e.startsWith("on")?!jg(e):n(e))}try{EW(require("@emotion/is-prop-valid").default)}catch{}function wW(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(MD(r)||t===!0&&jg(r)||!e&&!jg(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function Nb(n,e,t){return typeof n=="string"?n:ot.transform(e+t*n)}function TW(n,e,t){const i=Nb(e,n.x,n.width),r=Nb(t,n.y,n.height);return`${i} ${r}`}const CW={offset:"stroke-dashoffset",array:"stroke-dasharray"},bW={offset:"strokeDashoffset",array:"strokeDasharray"};function RW(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?CW:bW;n[s.offset]=ot.transform(-i);const o=ot.transform(e),a=ot.transform(t);n[s.array]=`${o} ${a}`}function aM(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,p){if(sM(n,u,d,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:M}=n;m.transform&&(M&&(y.transform=m.transform),delete m.transform),M&&(r!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=TW(M,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&RW(m,o,a,l,!1)}const ED=()=>({...oM(),attrs:{}}),lM=n=>typeof n=="string"&&n.toLowerCase()==="svg";function PW(n,e,t,i){const r=q.useMemo(()=>{const s=ED();return aM(s,e,{enableHardwareAcceleration:!1},lM(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};SD(s,n.style,n),r.style={...s,...r.style}}return r}function BW(n=!1){return(t,i,r,s,{latestValues:o},a)=>{const u=(rM(t)?PW:SW)(i,o,a,t),h={...wW(i,typeof t=="string",n),...u,ref:s},{children:p}=i,m=q.useMemo(()=>ki(p)?p.get():p,[p]);return r&&(h["data-projection-id"]=r),q.createElement(t,{...h,children:m})}}const cM=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function wD(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const TD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CD(n,e,t,i){wD(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(TD.has(r)?r:cM(r),e.attrs[r])}function uM(n,e){const{style:t}=n,i={};for(const r in t)(ki(t[r])||e.style&&ki(e.style[r])||vD(r,n))&&(i[r]=t[r]);return i}function bD(n,e){const t=uM(n,e);for(const i in n)if(ki(n[i])||ki(e[i])){const r=_h.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function fM(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}const Xg=n=>Array.isArray(n),LW=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),IW=n=>Xg(n)?n[n.length-1]||0:n;function fg(n){const e=ki(n)?n.get():n;return LW(e)?e.toValue():e}function DW({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:FW(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const RD=n=>(e,t)=>{const i=q.useContext(z0),r=q.useContext(tM),s=()=>DW(n,e,i,r);return t?s():pD(s)};function FW(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=fg(s[p]);let{initial:o,animate:a}=n;const l=V0(n),u=hD(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!G0(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=fM(n,m);if(!y)return;const{transitionEnd:M,transition:A,...g}=y;for(const x in g){let S=g[x];if(Array.isArray(S)){const E=d?S.length-1:0;S=S[E]}S!==null&&(r[x]=S)}for(const x in M)r[x]=M[x]}),r}const NW={useVisualState:RD({scrapeMotionValuesFromProps:bD,createRenderState:ED,onMount:(n,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}aM(t,i,{enableHardwareAcceleration:!1},lM(e.tagName),n.transformTemplate),CD(e,t)}})},OW={useVisualState:RD({scrapeMotionValuesFromProps:uM,createRenderState:oM})};function kW(n,{forwardMotionProps:e=!1},t,i){return{...rM(n)?NW:OW,preloadedFeatures:t,useRender:BW(e),createVisualElement:i,Component:n}}function Ys(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const PD=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function j0(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const UW=n=>e=>PD(e)&&n(e,j0(e));function qs(n,e,t,i){return Ys(n,e,UW(t),i)}const zW=(n,e)=>t=>e(n(t)),ia=(...n)=>n.reduce(zW);function BD(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const Ob=BD("dragHorizontal"),kb=BD("dragVertical");function LD(n){let e=!1;if(n==="y")e=kb();else if(n==="x")e=Ob();else{const t=Ob(),i=kb();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function ID(){const n=LD(!0);return n?(n(),!1):!0}class Sa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function HW(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&r,p=h?e:t;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&r&&(i=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let u=0;u<i;u++){const d=e[u];d(l),o.has(d)&&(a.schedule(d),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const Wn={delta:0,timestamp:0,isProcessing:!1},GW=40;let B1=!0,Ud=!1;const X0=["read","update","preRender","render","postRender"],nu=X0.reduce((n,e)=>(n[e]=HW(()=>Ud=!0),n),{}),VW=n=>nu[n].process(Wn),DD=n=>{Ud=!1,Wn.delta=B1?1e3/60:Math.max(Math.min(n-Wn.timestamp,GW),1),Wn.timestamp=n,Wn.isProcessing=!0,X0.forEach(VW),Wn.isProcessing=!1,Ud&&(B1=!1,requestAnimationFrame(DD))},WW=()=>{Ud=!0,B1=!0,Wn.isProcessing||requestAnimationFrame(DD)},fn=X0.reduce((n,e)=>{const t=nu[e];return n[e]=(i,r=!1,s=!1)=>(Ud||WW(),t.schedule(i,r,s)),n},{});function oo(n){X0.forEach(e=>nu[e].cancel(n))}function Ub(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||ID())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&fn.update(()=>a[i](s,o))};return qs(n.current,t,r,{passive:!n.getProps()[i]})}class jW extends Sa{mount(){this.unmount=ia(Ub(this.node,!0),Ub(this.node,!1))}unmount(){}}class XW extends Sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ia(Ys(this.node.current,"focus",()=>this.onFocus()),Ys(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const FD=(n,e)=>e?n===e?!0:FD(n,e.parentElement):!1,In=n=>n;function Tx(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,j0(t))}class JW extends Sa{constructor(){super(...arguments),this.removeStartListeners=In,this.removeEndListeners=In,this.removeAccessibleListeners=In,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=qs(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();fn.update(()=>{FD(this.node.current,a.target)?u&&u(a,l):d&&d(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=qs(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=ia(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Tx("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&fn.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Ys(this.node.current,"keyup",o),Tx("down",(a,l)=>{this.startPress(a,l)})},t=Ys(this.node.current,"keydown",e),i=()=>{this.isPressing&&Tx("cancel",(s,o)=>this.cancelPress(s,o))},r=Ys(this.node.current,"blur",i);this.removeAccessibleListeners=ia(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&fn.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ID()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&fn.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=qs(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Ys(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ia(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const L1=new WeakMap,Cx=new WeakMap,KW=n=>{const e=L1.get(n.target);e&&e(n)},YW=n=>{n.forEach(KW)};function QW({root:n,...e}){const t=n||document;Cx.has(t)||Cx.set(t,{});const i=Cx.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(YW,{root:n,...e})),i[r]}function ZW(n,e,t){const i=QW(e);return L1.set(n,t),i.observe(n),()=>{L1.delete(n),i.unobserve(n)}}const qW={some:0,all:1};class $W extends Sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:qW[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return ZW(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(ej(e,t))&&this.startObserver()}unmount(){}}function ej({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const tj={inView:{Feature:$W},tap:{Feature:JW},focus:{Feature:XW},hover:{Feature:jW}};function ND(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function nj(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function ij(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function J0(n,e,t){const i=n.getProps();return fM(i,e,t!==void 0?t:i.custom,nj(n),ij(n))}const rj="framerAppearId",sj="data-"+cM(rj);let oj=In,dM=In;const ra=n=>n*1e3,$s=n=>n/1e3,aj={current:!1},OD=n=>Array.isArray(n)&&typeof n[0]=="number";function kD(n){return!!(!n||typeof n=="string"&&UD[n]||OD(n)||Array.isArray(n)&&n.every(kD))}const Of=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,UD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Of([0,.65,.55,1]),circOut:Of([.55,0,1,.45]),backIn:Of([.31,.01,.66,-.59]),backOut:Of([.33,1.53,.69,.99])};function zD(n){if(n)return OD(n)?Of(n):Array.isArray(n)?n.map(zD):UD[n]}function lj(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:t};l&&(u.offset=l);const d=zD(a);return Array.isArray(d)&&(u.easing=d),n.animate(u,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const zb={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},bx={},HD={};for(const n in zb)HD[n]=()=>(bx[n]===void 0&&(bx[n]=zb[n]()),bx[n]);function cj(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const GD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,uj=1e-7,fj=12;function dj(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=GD(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>uj&&++a<fj);return o}function Mh(n,e,t,i){if(n===e&&t===i)return In;const r=s=>dj(s,0,1,n,t);return s=>s===0||s===1?s:GD(r(s),e,i)}const hj=Mh(.42,0,1,1),pj=Mh(0,0,.58,1),VD=Mh(.42,0,.58,1),mj=n=>Array.isArray(n)&&typeof n[0]!="number",WD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,jD=n=>e=>1-n(1-e),XD=n=>1-Math.sin(Math.acos(n)),hM=jD(XD),gj=WD(hM),JD=Mh(.33,1.53,.69,.99),pM=jD(JD),vj=WD(pM),yj=n=>(n*=2)<1?.5*pM(n):.5*(2-Math.pow(2,-10*(n-1))),xj={linear:In,easeIn:hj,easeInOut:VD,easeOut:pj,circIn:XD,circInOut:gj,circOut:hM,backIn:pM,backInOut:vj,backOut:JD,anticipate:yj},Hb=n=>{if(Array.isArray(n)){dM(n.length===4);const[e,t,i,r]=n;return Mh(e,t,i,r)}else if(typeof n=="string")return xj[n];return n},mM=(n,e)=>t=>!!(Ah(t)&&vW.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),KD=(n,e,t)=>i=>{if(!Ah(i))return i;const[r,s,o,a]=i.match(W0);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_j=n=>El(0,255,n),Rx={...Fl,transform:n=>Math.round(_j(n))},sl={test:mM("rgb","red"),parse:KD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Rx.transform(n)+", "+Rx.transform(e)+", "+Rx.transform(t)+", "+td(ed.transform(i))+")"};function Aj(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const I1={test:mM("#"),parse:Aj,transform:sl.transform},Hc={test:mM("hsl","hue"),parse:KD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Ss.transform(td(e))+", "+Ss.transform(td(t))+", "+td(ed.transform(i))+")"},xi={test:n=>sl.test(n)||I1.test(n)||Hc.test(n),parse:n=>sl.test(n)?sl.parse(n):Hc.test(n)?Hc.parse(n):I1.parse(n),transform:n=>Ah(n)?n:n.hasOwnProperty("red")?sl.transform(n):Hc.transform(n)},un=(n,e,t)=>-t*n+t*e+n;function Px(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Sj({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=Px(l,a,n+1/3),s=Px(l,a,n),o=Px(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Bx=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},Mj=[I1,sl,Hc],Ej=n=>Mj.find(e=>e.test(n));function Gb(n){const e=Ej(n);let t=e.parse(n);return e===Hc&&(t=Sj(t)),t}const YD=(n,e)=>{const t=Gb(n),i=Gb(e),r={...t};return s=>(r.red=Bx(t.red,i.red,s),r.green=Bx(t.green,i.green,s),r.blue=Bx(t.blue,i.blue,s),r.alpha=un(t.alpha,i.alpha,s),sl.transform(r))};function wj(n){var e,t;return isNaN(n)&&Ah(n)&&(((e=n.match(W0))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(_D))===null||t===void 0?void 0:t.length)||0)>0}const QD={regex:mW,countKey:"Vars",token:"${v}",parse:In},ZD={regex:_D,countKey:"Colors",token:"${c}",parse:xi.parse},qD={regex:W0,countKey:"Numbers",token:"${n}",parse:Fl.parse};function Lx(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function Jg(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Lx(t,QD),Lx(t,ZD),Lx(t,qD),t}function $D(n){return Jg(n).values}function e3(n){const{values:e,numColors:t,numVars:i,tokenised:r}=Jg(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(QD.token,o[l]):l<i+t?a=a.replace(ZD.token,xi.transform(o[l])):a=a.replace(qD.token,td(o[l]));return a}}const Tj=n=>typeof n=="number"?0:n;function Cj(n){const e=$D(n);return e3(n)(e.map(Tj))}const da={test:wj,parse:$D,createTransformer:e3,getAnimatableNone:Cj},t3=(n,e)=>t=>`${t>0?e:n}`;function n3(n,e){return typeof n=="number"?t=>un(n,e,t):xi.test(n)?YD(n,e):n.startsWith("var(")?t3(n,e):r3(n,e)}const i3=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>n3(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},bj=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=n3(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},r3=(n,e)=>{const t=da.createTransformer(e),i=Jg(n),r=Jg(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?ia(i3(i.values,r.values),t):t3(n,e)},zd=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Vb=(n,e)=>t=>un(n,e,t);function Rj(n){return typeof n=="number"?Vb:typeof n=="string"?xi.test(n)?YD:r3:Array.isArray(n)?i3:typeof n=="object"?bj:Vb}function Pj(n,e,t){const i=[],r=t||Rj(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||In:e;a=ia(l,a)}i.push(a)}return i}function s3(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(dM(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=Pj(e,i,r),a=o.length,l=u=>{let d=0;if(a>1)for(;d<n.length-2&&!(u<n[d+1]);d++);const h=zd(n[d],n[d+1],u);return o[d](h)};return t?u=>l(El(n[0],n[s-1],u)):l}function Bj(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=zd(0,e,i);n.push(un(t,1,r))}}function Lj(n){const e=[0];return Bj(e,n.length-1),e}function Ij(n,e){return n.map(t=>t*e)}function Dj(n,e){return n.map(()=>e||VD).splice(0,n.length-1)}function Kg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=mj(i)?i.map(Hb):Hb(i),s={done:!1,value:e[0]},o=Ij(t&&t.length===e.length?t:Lj(e),n),a=s3(o,e,{ease:Array.isArray(r)?r:Dj(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function o3(n,e){return e?n*(1e3/e):0}const Fj=5;function a3(n,e,t){const i=Math.max(e-Fj,0);return o3(t-n(i),e-i)}const Ix=.001,Nj=.01,Wb=10,Oj=.05,kj=1;function Uj({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;oj(n<=ra(Wb));let o=1-e;o=El(Oj,kj,o),n=El(Nj,Wb,$s(n)),o<1?(r=u=>{const d=u*o,h=d*n,p=d-t,m=D1(u,o),y=Math.exp(-h);return Ix-p/m*y},s=u=>{const h=u*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,y=Math.exp(-h),M=D1(Math.pow(u,2),o);return(-r(u)+Ix>0?-1:1)*((p-m)*y)/M}):(r=u=>{const d=Math.exp(-u*n),h=(u-t)*n+1;return-Ix+d*h},s=u=>{const d=Math.exp(-u*n),h=(t-u)*(n*n);return d*h});const a=5/n,l=Hj(r,s,a);if(n=ra(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const zj=12;function Hj(n,e,t){let i=t;for(let r=1;r<zj;r++)i=i-n(i)/e(i);return i}function D1(n,e){return n*Math.sqrt(1-e*e)}const Gj=["duration","bounce"],Vj=["stiffness","damping","mass"];function jb(n,e){return e.some(t=>n[t]!==void 0)}function Wj(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!jb(n,Vj)&&jb(n,Gj)){const t=Uj(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function l3({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:u,velocity:d,duration:h,isResolvedFromDuration:p}=Wj(i),m=d?-$s(d):0,y=l/(2*Math.sqrt(a*u)),M=s-r,A=$s(Math.sqrt(a/u)),g=Math.abs(M)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let x;if(y<1){const S=D1(A,y);x=E=>{const T=Math.exp(-y*A*E);return s-T*((m+y*A*M)/S*Math.sin(S*E)+M*Math.cos(S*E))}}else if(y===1)x=S=>s-Math.exp(-A*S)*(M+(m+A*M)*S);else{const S=A*Math.sqrt(y*y-1);x=E=>{const T=Math.exp(-y*A*E),R=Math.min(S*E,300);return s-T*((m+y*A*M)*Math.sinh(R)+S*M*Math.cosh(R))/S}}return{calculatedDuration:p&&h||null,next:S=>{const E=x(S);if(p)o.done=S>=h;else{let T=m;S!==0&&(y<1?T=a3(x,S,E):T=0);const R=Math.abs(T)<=t,P=Math.abs(s-E)<=e;o.done=R&&P}return o.value=o.done?s:E,o}}}function Xb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=n[0],p={done:!1,value:h},m=B=>a!==void 0&&B<a||l!==void 0&&B>l,y=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let M=t*e;const A=h+M,g=o===void 0?A:o(A);g!==A&&(M=g-h);const x=B=>-M*Math.exp(-B/i),S=B=>g+x(B),E=B=>{const b=x(B),L=S(B);p.done=Math.abs(b)<=u,p.value=p.done?g:L};let T,R;const P=B=>{m(p.value)&&(T=B,R=l3({keyframes:[p.value,y(p.value)],velocity:a3(S,B,p.value),damping:r,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:B=>{let b=!1;return!R&&T===void 0&&(b=!0,E(B),P(B)),T!==void 0&&B>T?R.next(B-T):(!b&&E(B),p)}}}const jj=n=>{const e=({timestamp:t})=>n(t);return{start:()=>fn.update(e,!0),stop:()=>oo(e),now:()=>Wn.isProcessing?Wn.timestamp:performance.now()}},Jb=2e4;function Kb(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Jb;)e+=t,i=n.next(e);return e>=Jb?1/0:e}const Xj={decay:Xb,inertia:Xb,tween:Kg,keyframes:Kg,spring:l3};function Yg({autoplay:n=!0,delay:e=0,driver:t=jj,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...p}){let m=1,y=!1,M,A;const g=()=>{M&&M(),A=new Promise($=>{M=$})};g();let x;const S=Xj[r]||Kg;let E;S!==Kg&&typeof i[0]!="number"&&(E=s3([0,100],i,{clamp:!1}),i=[0,100]);const T=S({...p,keyframes:i});let R;a==="mirror"&&(R=S({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let P="idle",B=null,b=null,L=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=Kb(T));const{calculatedDuration:U}=T;let J=1/0,G=1/0;U!==null&&(J=U+o,G=J*(s+1)-o);let K=0;const j=$=>{if(b===null)return;m>0&&(b=Math.min(b,$)),B!==null?K=B:K=($-b)*m;const Q=K-e,ee=Q<0;K=Math.max(Q,0),P==="finished"&&B===null&&(K=G);let ie=K,we=T;if(s){const Ke=K/J;let _e=Math.floor(Ke),Ee=Ke%1;!Ee&&Ke>=1&&(Ee=1),Ee===1&&_e--,_e=Math.min(_e,s+1);const ge=!!(_e%2);ge&&(a==="reverse"?(Ee=1-Ee,o&&(Ee-=o/J)):a==="mirror"&&(we=R));let ae=El(0,1,Ee);K>G&&(ae=a==="reverse"&&ge?1:0),ie=ae*J}const xe=ee?{done:!1,value:i[0]}:we.next(ie);E&&(xe.value=E(xe.value));let{done:V}=xe;!ee&&U!==null&&(V=K>=G);const Xe=B===null&&(P==="finished"||P==="running"&&V||m<0&&K<=0);return h&&h(xe.value),Xe&&I(),xe},se=()=>{x&&x.stop(),x=void 0},te=()=>{P="idle",se(),g(),b=L=null},I=()=>{P="finished",d&&d(),se(),g()},H=()=>{if(y)return;x||(x=t(j));const $=x.now();l&&l(),B!==null?b=$-B:(!b||P==="finished")&&(b=$),L=b,B=null,P="running",x.start()};n&&H();const z={then($,Q){return A.then($,Q)},get time(){return $s(K)},set time($){$=ra($),K=$,B!==null||!x||m===0?B=$:b=x.now()-$/m},get duration(){const $=T.calculatedDuration===null?Kb(T):T.calculatedDuration;return $s($)},get speed(){return m},set speed($){$===m||!x||(m=$,z.time=$s(K))},get state(){return P},play:H,pause:()=>{P="paused",B=K},stop:()=>{y=!0,P!=="idle"&&(P="idle",u&&u(),te())},cancel:()=>{L!==null&&j(L),te()},complete:()=>{P="finished"},sample:$=>(b=0,j($))};return z}const Jj=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Lm=10,Kj=2e4,Yj=(n,e)=>e.type==="spring"||n==="backgroundColor"||!kD(e.ease);function Qj(n,e,{onUpdate:t,onComplete:i,...r}){if(!(HD.waapi()&&Jj.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(g=>{a=g})};u();let{keyframes:d,duration:h=300,ease:p,times:m}=r;if(Yj(e,r)){const g=Yg({...r,repeat:0,delay:0});let x={done:!1,value:d[0]};const S=[];let E=0;for(;!x.done&&E<Kj;)x=g.sample(E),S.push(x.value),E+=Lm;m=void 0,d=S,h=E-Lm,p="linear"}const y=lj(n.owner.current,e,d,{...r,duration:h,ease:p,times:m}),M=()=>y.cancel(),A=()=>{fn.update(M),a(),u()};return y.onfinish=()=>{n.set(cj(d,r)),i&&i(),A()},{then(g,x){return l.then(g,x)},get time(){return $s(y.currentTime||0)},set time(g){y.currentTime=ra(g)},get speed(){return y.playbackRate},set speed(g){y.playbackRate=g},get duration(){return $s(h)},play:()=>{o||(y.play(),oo(M))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:g}=y;if(g){const x=Yg({...r,autoplay:!1});n.setWithVelocity(x.sample(g-Lm).value,x.sample(g).value,Lm)}A()},complete:()=>y.finish(),cancel:A}}function Zj({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:In,pause:In,stop:In,then:s=>(s(),Promise.resolve()),cancel:In,complete:In});return e?Yg({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const qj={type:"spring",stiffness:500,damping:25,restSpeed:10},$j=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),e7={type:"keyframes",duration:.8},t7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n7=(n,{keyframes:e})=>e.length>2?e7:Dl.has(n)?n.startsWith("scale")?$j(e[1]):qj:t7,F1=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&da.test(e)&&!e.startsWith("url(")),i7=new Set(["brightness","contrast","saturate","opacity"]);function r7(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(W0)||[];if(!i)return n;const r=t.replace(i,"");let s=i7.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const s7=/([a-z-]*)\(.*?\)/g,N1={...da,getAnimatableNone:n=>{const e=n.match(s7);return e?e.map(r7).join(" "):n}},o7={...AD,color:xi,backgroundColor:xi,outlineColor:xi,fill:xi,stroke:xi,borderColor:xi,borderTopColor:xi,borderRightColor:xi,borderBottomColor:xi,borderLeftColor:xi,filter:N1,WebkitFilter:N1},gM=n=>o7[n];function vM(n,e){let t=gM(n);return t!==N1&&(t=da),t.getAnimatableNone?t.getAnimatableNone(e):void 0}function a7({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function Yb(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function Qb(n){return typeof n=="number"?0:vM("",n)}function c3(n,e){return n[e]||n.default||n}function l7(n,[...e]){for(let t=0;t<e.length;t++)e[t]===null&&(e[t]=t===0?n:e[t-1]);return e}function c7(n,e,t,i){const r=F1(e,t);let s=i.from!==void 0?i.from:n.get();return s==="none"&&r&&typeof t=="string"?s=vM(e,t):Yb(s)&&typeof t=="string"?s=Qb(t):!Array.isArray(t)&&Yb(t)&&typeof s=="string"&&(t=Qb(s)),Array.isArray(t)?l7(s,t):[s,t]}const yM=(n,e,t,i={})=>r=>{const s=c3(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-ra(o);const l=c7(e,n,t,s),u=l[0],d=l[l.length-1],h=F1(n,u),p=F1(n,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(a7(s)||(m={...m,...n7(n,m)}),m.duration&&(m.duration=ra(m.duration)),m.repeatDelay&&(m.repeatDelay=ra(m.repeatDelay)),!h||!p||aj.current||s.type===!1)return Zj(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=Qj(e,n,m);if(y)return y}return Yg(m)};function Qg(n){return!!(ki(n)&&n.add)}const u7=n=>/^\-?\d*\.?\d+$/.test(n),f7=n=>/^0[^.\s]+$/.test(n);function xM(n,e){n.indexOf(e)===-1&&n.push(e)}function _M(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class AM{constructor(){this.subscriptions=[]}add(e){return xM(this.subscriptions,e),()=>_M(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const d7=n=>!isNaN(parseFloat(n));class h7{constructor(e,t={}){this.version="10.12.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=Wn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,fn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>fn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=d7(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new AM);const i=this.events[e].add(t);return e==="change"?()=>{i(),fn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?o3(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mu(n,e){return new h7(n,e)}const u3=n=>e=>e.test(n),p7={test:n=>n==="auto",parse:n=>n},f3=[Fl,ot,Ss,Do,xW,yW,p7],Cf=n=>f3.find(u3(n)),m7=[...f3,xi,da],g7=n=>m7.find(u3(n));function v7(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Mu(t))}function y7(n,e){const t=J0(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=IW(s[o]);v7(n,o,a)}}function x7(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),d!=null&&(typeof d=="string"&&(u7(d)||f7(d))?d=parseFloat(d):!g7(d)&&da.test(u)&&(d=vM(l,u)),n.addValue(l,Mu(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function _7(n,e){return e?(e[n]||e.default||e).from:void 0}function A7(n,e,t){const i={};for(const r in n){const s=_7(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function S7({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function d3(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const u=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const h in a){const p=n.getValue(h),m=a[h];if(!p||m===void 0||d&&S7(d,h))continue;const y={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const A=n.getProps()[sj];A&&(y.elapsed=window.HandoffAppearAnimations(A,h,p,fn))}p.start(yM(h,p,m,n.shouldReduceMotion&&Dl.has(h)?{type:!1}:y));const M=p.animation;Qg(l)&&(l.add(h),M.then(()=>l.remove(h))),u.push(M)}return o&&Promise.all(u).then(()=>{o&&y7(n,o)}),u}function O1(n,e,t={}){const i=J0(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(d3(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return M7(n,e,u+l,d,h,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function M7(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(u=0)=>u*i:(u=0)=>a-u*i;return Array.from(n.variantChildren).sort(E7).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(O1(u,e,{...s,delay:t+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function E7(n,e){return n.sortNodePosition(e)}function w7(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>O1(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=O1(n,e,t);else{const r=typeof e=="function"?J0(n,e,t.custom):e;i=Promise.all(d3(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const T7=[...nM].reverse(),C7=nM.length;function b7(n){return e=>Promise.all(e.map(({animation:t,options:i})=>w7(n,t,i)))}function R7(n){let e=b7(n);const t=B7();let i=!0;const r=(l,u)=>{const d=J0(n,u);if(d){const{transition:h,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,u){const d=n.getProps(),h=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},M=1/0;for(let g=0;g<C7;g++){const x=T7[g],S=t[x],E=d[x]!==void 0?d[x]:h[x],T=Od(E),R=x===u?S.isActive:null;R===!1&&(M=g);let P=E===h[x]&&E!==d[x]&&T;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),S.protectedKeys={...y},!S.isActive&&R===null||!E&&!S.prevProp||G0(E)||typeof E=="boolean")continue;const B=P7(S.prevProp,E);let b=B||x===u&&S.isActive&&!P&&T||g>M&&T;const L=Array.isArray(E)?E:[E];let U=L.reduce(r,{});R===!1&&(U={});const{prevResolvedValues:J={}}=S,G={...J,...U},K=j=>{b=!0,m.delete(j),S.needsAnimating[j]=!0};for(const j in G){const se=U[j],te=J[j];y.hasOwnProperty(j)||(se!==te?Xg(se)&&Xg(te)?!ND(se,te)||B?K(j):S.protectedKeys[j]=!0:se!==void 0?K(j):m.add(j):se!==void 0&&m.has(j)?K(j):S.protectedKeys[j]=!0)}S.prevProp=E,S.prevResolvedValues=U,S.isActive&&(y={...y,...U}),i&&n.blockInitialAnimation&&(b=!1),b&&!P&&p.push(...L.map(j=>({animation:j,options:{type:x,...l}})))}if(m.size){const g={};m.forEach(x=>{const S=n.getBaseTarget(x);S!==void 0&&(g[x]=S)}),p.push({animation:g})}let A=!!p.length;return i&&d.initial===!1&&!n.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(p):Promise.resolve()}function a(l,u,d){var h;if(t[l].isActive===u)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),t[l].isActive=u;const p=o(d,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function P7(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!ND(e,n):!1}function Ha(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function B7(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}class L7 extends Sa{constructor(e){super(e),e.animationState||(e.animationState=R7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),G0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let I7=0;class D7 extends Sa{constructor(){super(...arguments),this.id=I7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const F7={animation:{Feature:L7},exit:{Feature:D7}},Zb=(n,e)=>Math.abs(n-e);function N7(n,e){const t=Zb(n.x,e.x),i=Zb(n.y,e.y);return Math.sqrt(t**2+i**2)}class h3{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=Fx(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=N7(u.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=u,{timestamp:m}=Wn;this.history.push({...p,timestamp:m});const{onStart:y,onMove:M}=this.handlers;d||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Dx(d,this.transformPagePoint),fn.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=Fx(u.type==="pointercancel"?this.lastMoveEventInfo:Dx(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,m),p&&p(u,m)},!PD(e))return;this.handlers=t,this.transformPagePoint=i;const r=j0(e),s=Dx(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=Wn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Fx(s,this.history)),this.removeListeners=ia(qs(window,"pointermove",this.handlePointerMove),qs(window,"pointerup",this.handlePointerUp),qs(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oo(this.updatePoint)}}function Dx(n,e){return e?{point:e(n.point)}:n}function qb(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Fx({point:n},e){return{point:n,delta:qb(n,p3(e)),offset:qb(n,O7(e)),velocity:k7(e,.1)}}function O7(n){return n[0]}function p3(n){return n[n.length-1]}function k7(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=p3(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>ra(e)));)t--;if(!i)return{x:0,y:0};const s=$s(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ir(n){return n.max-n.min}function k1(n,e=0,t=.01){return Math.abs(n-e)<=t}function $b(n,e,t,i=.5){n.origin=i,n.originPoint=un(e.min,e.max,n.origin),n.scale=ir(t)/ir(e),(k1(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=un(t.min,t.max,n.origin)-n.originPoint,(k1(n.translate)||isNaN(n.translate))&&(n.translate=0)}function nd(n,e,t,i){$b(n.x,e.x,t.x,i?i.originX:void 0),$b(n.y,e.y,t.y,i?i.originY:void 0)}function e2(n,e,t){n.min=t.min+e.min,n.max=n.min+ir(e)}function U7(n,e,t){e2(n.x,e.x,t.x),e2(n.y,e.y,t.y)}function t2(n,e,t){n.min=e.min-t.min,n.max=n.min+ir(e)}function id(n,e,t){t2(n.x,e.x,t.x),t2(n.y,e.y,t.y)}function z7(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?un(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?un(t,n,i.max):Math.min(n,t)),n}function n2(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function H7(n,{top:e,left:t,bottom:i,right:r}){return{x:n2(n.x,t,r),y:n2(n.y,e,i)}}function i2(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function G7(n,e){return{x:i2(n.x,e.x),y:i2(n.y,e.y)}}function V7(n,e){let t=.5;const i=ir(n),r=ir(e);return r>i?t=zd(e.min,e.max-i,n.min):i>r&&(t=zd(n.min,n.max-r,e.min)),El(0,1,t)}function W7(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const U1=.35;function j7(n=U1){return n===!1?n=0:n===!0&&(n=U1),{x:r2(n,"left","right"),y:r2(n,"top","bottom")}}function r2(n,e,t){return{min:s2(n,e),max:s2(n,t)}}function s2(n,e){return typeof n=="number"?n:n[e]||0}const o2=()=>({translate:0,scale:1,origin:0,originPoint:0}),rd=()=>({x:o2(),y:o2()}),a2=()=>({min:0,max:0}),bn=()=>({x:a2(),y:a2()});function gs(n){return[n("x"),n("y")]}function m3({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function X7({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function J7(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Nx(n){return n===void 0||n===1}function z1({scale:n,scaleX:e,scaleY:t}){return!Nx(n)||!Nx(e)||!Nx(t)}function Ja(n){return z1(n)||g3(n)||n.z||n.rotate||n.rotateX||n.rotateY}function g3(n){return l2(n.x)||l2(n.y)}function l2(n){return n&&n!=="0%"}function Zg(n,e,t){const i=n-t,r=e*i;return t+r}function c2(n,e,t,i,r){return r!==void 0&&(n=Zg(n,r,i)),Zg(n,t,i)+e}function H1(n,e=0,t=1,i,r){n.min=c2(n.min,e,t,i,r),n.max=c2(n.max,e,t,i,r)}function v3(n,{x:e,y:t}){H1(n.x,e.translate,e.scale,e.originPoint),H1(n.y,t.translate,t.scale,t.originPoint)}function K7(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Gc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,v3(n,o)),i&&Ja(s.latestValues)&&Gc(n,s.latestValues))}e.x=u2(e.x),e.y=u2(e.y)}function u2(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Uo(n,e){n.min=n.min+e,n.max=n.max+e}function f2(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=un(n.min,n.max,s);H1(n,e[t],e[i],o,e.scale)}const Y7=["x","scaleX","originX"],Q7=["y","scaleY","originY"];function Gc(n,e){f2(n.x,e,Y7),f2(n.y,e,Q7)}function y3(n,e){return m3(J7(n.getBoundingClientRect(),e))}function Z7(n,e,t){const i=y3(n,t),{scroll:r}=e;return r&&(Uo(i.x,r.offset.x),Uo(i.y,r.offset.y)),i}const q7=new WeakMap;class $7{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(j0(l,"page").point)},s=(l,u)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=LD(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gs(y=>{let M=this.getAxisMotionValue(y).get()||0;if(Ss.test(M)){const{projection:A}=this.visualElement;if(A&&A.layout){const g=A.layout.layoutBox[y];g&&(M=ir(g)*(parseFloat(M)/100))}}this.originPoint[y]=M}),p&&fn.update(()=>p(l,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:y}=u;if(h&&this.currentDirection===null){this.currentDirection=eX(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,y),this.updateAxis("y",u.point,y),this.visualElement.render(),m&&m(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new h3(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&fn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Im(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=z7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&zc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=H7(i.layoutBox,e):this.constraints=!1,this.elastic=j7(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gs(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=W7(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!zc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Z7(i,r.root,this.visualElement.getTransformPagePoint());let o=G7(r.layout.layoutBox,s);if(t){const a=t(X7(o));this.hasMutatedConstraints=!!a,a&&(o=m3(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=gs(d=>{if(!Im(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(yM(e,i,0,t))}stopAnimation(){gs(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){gs(t=>{const{drag:i}=this.getProps();if(!Im(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-un(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!zc(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};gs(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=V7({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),gs(o=>{if(!Im(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(un(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;q7.set(this.visualElement,this);const e=this.visualElement.current,t=qs(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();zc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Ys(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(gs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=U1,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Im(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function eX(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class tX extends Sa{constructor(e){super(e),this.removeGroupControls=In,this.removeListeners=In,this.controls=new $7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const d2=n=>(e,t)=>{n&&fn.update(()=>n(e,t))};class nX extends Sa{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(e){this.session=new h3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:d2(e),onStart:d2(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&fn.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=qs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function iX(){const n=q.useContext(tM);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=q.useId();return q.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function h2(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const bf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ot.test(n))n=parseFloat(n);else return n;const t=h2(n,e.target.x),i=h2(n,e.target.y);return`${t}% ${i}%`}},rX={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=da.parse(n);if(r.length>5)return i;const s=da.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=un(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};class sX extends Cl.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;fW(oX),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$f.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||fn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function x3(n){const[e,t]=iX(),i=q.useContext(mD);return Cl.createElement(sX,{...n,layoutGroup:i,switchLayoutGroup:q.useContext(gD),isPresent:e,safeToRemove:t})}const oX={borderRadius:{...bf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bf,borderTopRightRadius:bf,borderBottomLeftRadius:bf,borderBottomRightRadius:bf,boxShadow:rX},_3=["TopLeft","TopRight","BottomLeft","BottomRight"],aX=_3.length,p2=n=>typeof n=="string"?parseFloat(n):n,m2=n=>typeof n=="number"||ot.test(n);function lX(n,e,t,i,r,s){r?(n.opacity=un(0,t.opacity!==void 0?t.opacity:1,cX(i)),n.opacityExit=un(e.opacity!==void 0?e.opacity:1,0,uX(i))):s&&(n.opacity=un(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<aX;o++){const a=`border${_3[o]}Radius`;let l=g2(e,a),u=g2(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||m2(l)===m2(u)?(n[a]=Math.max(un(p2(l),p2(u),i),0),(Ss.test(u)||Ss.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=un(e.rotate||0,t.rotate||0,i))}function g2(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const cX=A3(0,.5,hM),uX=A3(.5,.95,In);function A3(n,e,t){return i=>i<n?0:i>e?1:t(zd(n,e,i))}function v2(n,e){n.min=e.min,n.max=e.max}function vr(n,e){v2(n.x,e.x),v2(n.y,e.y)}function y2(n,e,t,i,r){return n-=e,n=Zg(n,1/t,i),r!==void 0&&(n=Zg(n,1/r,i)),n}function fX(n,e=0,t=1,i=.5,r,s=n,o=n){if(Ss.test(e)&&(e=parseFloat(e),e=un(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=un(s.min,s.max,i);n===s&&(a-=e),n.min=y2(n.min,e,t,a,r),n.max=y2(n.max,e,t,a,r)}function x2(n,e,[t,i,r],s,o){fX(n,e[t],e[i],e[r],e.scale,s,o)}const dX=["x","scaleX","originX"],hX=["y","scaleY","originY"];function _2(n,e,t,i){x2(n.x,e,dX,t?t.x:void 0,i?i.x:void 0),x2(n.y,e,hX,t?t.y:void 0,i?i.y:void 0)}function A2(n){return n.translate===0&&n.scale===1}function S3(n){return A2(n.x)&&A2(n.y)}function G1(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function S2(n){return ir(n.x)/ir(n.y)}class pX{constructor(){this.members=[]}add(e){xM(this.members,e),e.scheduleRender()}remove(e){if(_M(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M2(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:d}=t;l&&(i+=`rotate(${l}deg) `),u&&(i+=`rotateX(${u}deg) `),d&&(i+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const mX=(n,e)=>n.depth-e.depth;class gX{constructor(){this.children=[],this.isDirty=!1}add(e){xM(this.children,e),this.isDirty=!0}remove(e){_M(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mX),this.isDirty=!1,this.children.forEach(e)}}function vX(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(oo(i),n(s-e))};return fn.read(i,!0),()=>oo(i)}function yX(n){window.MotionDebug&&window.MotionDebug.record(n)}function xX(n){return n instanceof SVGElement&&n.tagName!=="svg"}function _X(n,e,t){const i=ki(n)?n:Mu(n);return i.start(yM("",i,e,t)),i.animation}const E2=["","X","Y","Z"],w2=1e3;let AX=0;const Ka={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function M3({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=AX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ka.totalNodes=Ka.resolvedTargetDeltas=Ka.recalculatedProjection=0,this.nodes.forEach(EX),this.nodes.forEach(bX),this.nodes.forEach(RX),this.nodes.forEach(wX),yX(Ka)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new gX)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new AM),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=xX(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=vX(p,250),$f.hasAnimatedSinceResize&&($f.hasAnimatedSinceResize=!1,this.nodes.forEach(C2))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||d.getDefaultTransition()||DX,{onLayoutAnimationStart:A,onLayoutAnimationComplete:g}=d.getProps(),x=!this.targetLayout||!G1(this.targetLayout,y)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const E={...c3(M,"layout"),onPlay:A,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else!p&&this.animationProgress===0&&C2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,oo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T2);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(FX),this.potentialNodes.clear()),this.nodes.forEach(CX),this.nodes.forEach(SX),this.nodes.forEach(MX),this.clearAllSnapshots(),nu.update.process(Wn),nu.preRender.process(Wn),nu.render.process(Wn))}clearAllSnapshots(){this.nodes.forEach(TX),this.sharedNodes.forEach(BX)}scheduleUpdateProjection(){fn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!S3(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Ja(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),NX(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return bn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Uo(a.x,l.offset.x),Uo(a.y,l.offset.y)),a}removeElementScroll(o){const a=bn();vr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){vr(a,o);const{scroll:p}=this.root;p&&(Uo(a.x,-p.offset.x),Uo(a.y,-p.offset.y))}Uo(a.x,d.offset.x),Uo(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=bn();vr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Gc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ja(d.latestValues)&&Gc(l,d.latestValues)}return Ja(this.latestValues)&&Gc(l,this.latestValues),l}removeTransform(o){const a=bn();vr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ja(u.latestValues))continue;z1(u.latestValues)&&u.updateSnapshot();const d=bn(),h=u.measurePageBox();vr(d,h),_2(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ja(this.latestValues)&&_2(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),id(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),v3(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),id(this.relativeTargetOrigin,this.target,m.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ka.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||z1(this.parent.latestValues)||g3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;vr(this.layoutCorrected,this.layout.layoutBox),K7(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=rd(),this.projectionDeltaWithTransform=rd());const m=this.treeScale.x,y=this.treeScale.y,M=this.projectionTransform;nd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=M2(this.projectionDelta,this.treeScale),(this.projectionTransform!==M||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ka.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=rd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=bn(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,M=m!==y,A=this.getStack(),g=!A||A.members.length<=1,x=!!(M&&!g&&this.options.crossfade===!0&&!this.path.some(IX));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const T=E/1e3;b2(h.x,o.x,T),b2(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(id(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LX(this.relativeTarget,this.relativeTargetOrigin,p,T),S&&G1(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=bn()),vr(S,this.relativeTarget)),M&&(this.animationValues=d,lX(d,u,this.latestValues,T,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(oo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fn.update(()=>{$f.hasAnimatedSinceResize=!0,this.currentAnimation=_X(0,w2,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&E3(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||bn();const h=ir(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=ir(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}vr(a,l),Gc(a,d),nd(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pX),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<E2.length;d++){const h="rotate"+E2[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=fg(o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=fg(o.pointerEvents)||""),this.hasProjected&&!Ja(this.latestValues)&&(M.transform=d?d({},""):"none",this.hasProjected=!1),M}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=M2(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const M in Wg){if(p[M]===void 0)continue;const{correct:A,applyTo:g}=Wg[M],x=u.transform==="none"?p[M]:A(p[M],h);if(g){const S=g.length;for(let E=0;E<S;E++)u[g[E]]=x}else u[M]=x}return this.options.layoutId&&(u.pointerEvents=h===this?fg(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(T2),this.root.sharedNodes.clear()}}}function SX(n){n.updateLayout()}function MX(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?gs(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=ir(p);p.min=i[h].min,p.max=p.min+m}):E3(s,t.layoutBox,i)&&gs(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=ir(i[h]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+m)});const a=rd();nd(a,i,t.layoutBox);const l=rd();o?nd(l,n.applyTransform(r,!0),t.measuredBox):nd(l,i,t.layoutBox);const u=!S3(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=bn();id(y,t.layoutBox,p.layoutBox);const M=bn();id(M,i,m.layoutBox),G1(y,M)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function EX(n){Ka.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function wX(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TX(n){n.clearSnapshot()}function T2(n){n.clearMeasurements()}function CX(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function C2(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function bX(n){n.resolveTargetDelta()}function RX(n){n.calcProjection()}function PX(n){n.resetRotation()}function BX(n){n.removeLeadSnapshot()}function b2(n,e,t){n.translate=un(e.translate,0,t),n.scale=un(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function R2(n,e,t,i){n.min=un(e.min,t.min,i),n.max=un(e.max,t.max,i)}function LX(n,e,t,i){R2(n.x,e.x,t.x,i),R2(n.y,e.y,t.y,i)}function IX(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const DX={duration:.45,ease:[.4,0,.1,1]};function FX(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(n.path[s].instance){t=n.path[s];break}const r=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&n.mount(r,!0)}function P2(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function NX(n){P2(n.x),P2(n.y)}function E3(n,e,t){return n==="position"||n==="preserve-aspect"&&!k1(S2(e),S2(t),.2)}const OX=M3({attachResizeListener:(n,e)=>Ys(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ox={current:void 0},w3=M3({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ox.current){const n=new OX(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),Ox.current=n}return Ox.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),kX={pan:{Feature:nX},drag:{Feature:tX,ProjectionNode:w3,MeasureLayout:x3}},UX=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zX(n){const e=UX.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function V1(n,e,t=1){const[i,r]=zX(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():P1(r)?V1(r,e,t+1):r}function HX(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!P1(s))return;const o=V1(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!P1(s))continue;const o=V1(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const GX=new Set(["width","height","top","left","right","bottom","x","y"]),T3=n=>GX.has(n),VX=n=>Object.keys(n).some(T3),B2=n=>n===Fl||n===ot,L2=(n,e)=>parseFloat(n.split(", ")[e]),I2=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return L2(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?L2(s[1],n):0}},WX=new Set(["x","y","z"]),jX=_h.filter(n=>!WX.has(n));function XX(n){const e=[];return jX.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const D2={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:I2(4,13),y:I2(5,14)},JX=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(u=>{a[u]=D2[u](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),n[u]=D2[u](l,s)}),n},KX=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(T3);let s=[],o=!1;const a=[];if(r.forEach(l=>{const u=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],h=Cf(d);const p=e[l];let m;if(Xg(p)){const y=p.length,M=p[0]===null?1:0;d=p[M],h=Cf(d);for(let A=M;A<y&&p[A]!==null;A++)m?dM(Cf(p[A])===m):m=Cf(p[A])}else m=Cf(p);if(h!==m)if(B2(h)&&B2(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===ot&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):e[l]=h.transform(p):(o||(s=XX(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=JX(e,n,a);return s.length&&s.forEach(([d,h])=>{n.getValue(d).set(h)}),n.render(),H0&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function YX(n,e,t,i){return VX(e)?KX(n,e,t,i):{target:e,transitionEnd:i}}const QX=(n,e,t,i)=>{const r=HX(n,e,i);return e=r.target,i=r.transitionEnd,YX(n,e,t,i)},W1={current:null},C3={current:!1};function ZX(){if(C3.current=!0,!!H0)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>W1.current=n.matches;n.addListener(e),e()}else W1.current=!1}function qX(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(ki(s))n.addValue(r,s),Qg(i)&&i.add(r);else if(ki(o))n.addValue(r,Mu(s,{owner:n})),Qg(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Mu(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const F2=new WeakMap,b3=Object.keys(kd),$X=b3.length,N2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],eJ=iM.length;class tJ{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>fn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=V0(t),this.isVariantNode=hD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{});for(const h in d){const p=d[h];a[h]!==void 0&&ki(p)&&(p.set(a[h],!1),Qg(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,F2.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),C3.current||ZX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:W1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){F2.delete(this.current),this.projection&&this.projection.unmount(),oo(this.notifyUpdate),oo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Dl.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&fn.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s,o){let a,l;for(let u=0;u<$X;u++){const d=b3[u],{isEnabled:h,Feature:p,ProjectionNode:m,MeasureLayout:y}=kd[d];m&&(a=m),h(t)&&(!this.features[d]&&p&&(this.features[d]=new p(this)),y&&(l=y))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:y}=t;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!h||p&&zc(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<N2.length;i++){const r=N2[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=qX(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<eJ;i++){const r=iM[i],s=this.props[r];(Od(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Mu(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=fM(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ki(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new AM),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class R3 extends tJ{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=A7(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){x7(this,i,o);const a=QX(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function nJ(n){return window.getComputedStyle(n)}class iJ extends R3{readValueFromInstance(e,t){if(Dl.has(t)){const i=gM(t);return i&&i.default||0}else{const i=nJ(e),r=(xD(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return y3(e,t)}build(e,t,i,r){sM(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return uM(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ki(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){wD(e,t,i,r)}}class rJ extends R3{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Dl.has(t)){const i=gM(t);return i&&i.default||0}return t=TD.has(t)?t:cM(t),e.getAttribute(t)}measureInstanceViewportBox(){return bn()}scrapeMotionValuesFromProps(e,t){return bD(e,t)}build(e,t,i,r){aM(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){CD(e,t,i,r)}mount(e){this.isSVGTag=lM(e.tagName),super.mount(e)}}const sJ=(n,e)=>rM(n)?new rJ(e,{enableHardwareAcceleration:!1}):new iJ(e,{enableHardwareAcceleration:!0}),oJ={layout:{ProjectionNode:w3,MeasureLayout:x3}},aJ={...F7,...tj,...kX,...oJ},br=cW((n,e)=>kW(n,e,aJ,sJ)),er={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[70px] sm:text-[60px] xs:text-[40px] text-[30px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[23px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[50px] sm:text-[45px] xs:text-[40px] text-[30px] cursor-default",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider cursor-default"},lJ=()=>ce.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[ce.jsxs("div",{className:`${er.paddingX} absolute inset-0 top-[120px] max-w-7xl mx-auto flex flex-row tems-start gap-5`,children:[ce.jsxs("div",{className:"flex flex-col items-center mt-5",children:[ce.jsx("div",{className:"w-5 h-5 rounded-full bg-[#755bb4]"}),ce.jsx("div",{className:"w-1 h-40 sm:h-80 bg-gradient-to-b from-purple-600 to-transparent"})]}),ce.jsxs("div",{children:[ce.jsxs("h1",{className:`${er.heroHeadText} text-white`,children:["Hi, I'm ",ce.jsx("span",{className:"text-[#755bb4]",children:"Camilla"})]}),ce.jsxs("p",{className:`${er.heroSubText} mt-2 text-white-100`,children:["I'm a junior Full-Stack Web Developer.",ce.jsx("br",{})," This is my portfolio!"]})]})]}),ce.jsx(q6,{}),ce.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:ce.jsx("a",{href:"#about",children:ce.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:ce.jsx(br.dev,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),cJ="/portfolio/assets/logo-1087090c.png",uJ="/portfolio/assets/menu-b5599218.svg",fJ="/portfolio/assets/close-54702a70.svg",ui="/portfolio/assets/starbucks-af2a76fc.png",yr="/portfolio/assets/tripguide-892dd3b1.png",O2=[{id:"about",title:"About"},{id:"projects",title:"Projects"},{id:"experience",title:"Experience"},{id:"contact",title:"Contact"}],dJ=[{title:"Web Developer"},{title:"Frontend Developer"},{title:"Backend Developer"},{title:"Codewarrior"}],hJ=[{type:"certificate",title:"A2 Key for Schools qualification",company_name:"Cambridge English",icon:ui,iconBg:"purple",date:"2008"},{type:"study",title:"High School",company_name:"Dal Piaz High School",icon:ui,iconBg:"blue",date:"2010 - 2015",points:["Winner of the Latin Certamen competition between all students of the same year.","Cultural Exchange in Hungary with Kiskunfélegyházi Móra Ferenc Gimnázium.","English Summer School at Brighton Language College in the United Kindom."]},{type:"certificate",title:"B2 First qualification",company_name:"Cambridge English",icon:ui,iconBg:"purple",date:"2014"},{type:"certificate",title:"Maturità classica",company_name:"Dal Piaz High School",icon:ui,iconBg:"purple",date:"2015"},{type:"study",title:"Maths courses attendance",company_name:"Trento University",icon:ui,iconBg:"blue",date:"2015 - 2020",points:["Passed multiples exams including mathematical analysis, algebra, informatics and biology."]},{type:"job",title:"Homeworks helper and babysitter",company_name:"Lentiai, Feltre and Trento cities",icon:ui,iconBg:"brown",date:"2014 - 2021",points:["Helped young students from 11 to 16 years old to study maths and latin.","Remote lessons with Google Meet during Covid-19."]},{type:"certificate",title:"Coursera online course",company_name:"Coursera",icon:ui,iconBg:"purple",date:"Aug 2021",points:["Attendance of a non-credit course authorized by Wesleyan University about socio-cultural, geographical and environmental topics.","A total of 6 essays written and peer reviewed."]},{type:"job",title:'"S.O.Scienze" Civil Service Project',company_name:"Sophie Scholl High School",icon:ui,iconBg:"brown",date:"Dec 2021 - May 2022",points:["Activities in 7+ classes and in the school library to support students in the maths study.","Didactic activities: creation of a slide show presentation for 4+ hours of lesson, creation of two quizzes with Kahoot.it.","Lab activities: editing of a physic experiment video with OpenShot, development of a web application with Code.org.","Certification of skills with the Franco Demarchi Fondation."]},{type:"certificate",title:"Dossier individuale",company_name:"Franco Demarchi Fondation",icon:ui,iconBg:"purple",date:"May 2022 - June 2023",points:["Certification of the most important experiences made during the Civil Service at the Sophie Scholl High School.","Through texts and photos, the Dossier certifies my achievement of one of the four skills relating to the Tutor professional figure as specified in the Lombardy region."]},{type:"certificate",title:"Boolean Coding Week",company_name:"Boolean",icon:ui,iconBg:"purple",date:"June 2022",points:["Certificate of attendance of the third edition of the Boolean Coding Week: 5 live lessons, 10 hours of course and 4 web application created."]},{type:"certificate",title:"Lacerba online courses",company_name:"Lacerba",icon:ui,iconBg:"purple",date:"June 2022 - Aug 2022",points:["Completion of 5 courses about programming, JavaScript, TypeScript, Node and React.","Completion of 1 course about time management and productivity."]},{type:"study",title:"Full-Stack Web Course",company_name:"Develhope",icon:ui,iconBg:"blue",date:"Sept 2022 - March 2023",points:["Full immersion in HTML, CSS, JavaScript, SASS, TypeScript, React and Node.js.","170+ exercises done and 40+ hours of live coding.","Pratical experience in team work, in the development of 3 projects with the Agile methodology.","Reproduction of the Netflix landing page and reproduction of two pages of the Lego site.","Ideation and creation of Evolve, a web application for the fitness lovers."]},{type:"certificate",title:"Full Stack Developer Certificate",company_name:"Develhope",icon:ui,iconBg:"purple",date:"March 2023"},{type:"certificate",title:"Lacerba online courses",company_name:"Lacerba",icon:ui,iconBg:"purple",date:"June 2023",points:["Completion of 4 courses about UX/UI and graphic design."]},{type:"certificate",title:"Boolean Coding Week",company_name:"Boolean",icon:ui,iconBg:"purple",date:"June 2023",points:["Certificate of attendance of the fifth edition of the Boolean Coding Week: 4 live lessons, 8 hours of course and 3 web application created."]},{type:"job",title:"*-*",company_name:"",icon:ui,iconBg:"brown",date:""}],pJ=["all","react","html+css+js","games-serie","colors-serie","develhope"],_c=[{info:["develhope","done"],name:"Develhope exercises",description:"All exercises done during the Develhope course are in this repository. In six months, I completed 170+ exercises focus on HTML, CSS, SASS, JavaScript, React, TypeScript and Node.js.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"scss",color:"text-pink-400"},{name:"javascript",color:"text-green-400"},{name:"react",color:"text-purple-400"},{name:"typescript",color:"text-red-500"},{name:"node.js",color:"text-cyan-300"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/Esercizi-Develhope",site_link:""},{info:["develhope","develhope-trilogy"],name:"Netflix clone",description:"Simple clone of the Netflix principal page that was created in a team work. The most important elements in the page were the two identical forms, the film cards and an accordions section.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"}],image:yr,source_code_link:"",site_link:""},{info:["develhope","develhope-trilogy"],name:"Lego clone",description:"Simple clone of the Lego site, created in a team work during the winter season. The principal page is connected to the Hulkbuster product page. Some parts are in the Christmas version.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"},{name:"scss",color:"text-pink-400"},{name:"bootstrap",color:"text-orange-500"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/Lego-Project-Develhope",site_link:""},{info:["develhope","develhope-trilogy"],name:"Evolve",description:"Final project made during the Develhope course. My team and I created a web application for the fitness lovers. An interactive 3D model, one API call and a total of 3 sections can be played with.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"},{name:"react",color:"text-purple-400"},{name:"tailwindcss",color:"text-orange-500"},{name:"pocketbase",color:"text-cyan-300"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/Evolve-Project-Develhope",site_link:""},{info:["personal","ongoing"],name:"Mato photos project",description:"Simple site that allows users to see my photos collection of my first cat Mato. Photos change on mouse moving. My cat was a really good cat and I was an avid photomaker.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/mato",site_link:"https://camilla-scarton.github.io/mato/"},{info:["colors-serie","green","react"],name:"Todo app",description:"A React app where users can add new todos to the list displayed. The todos already in the list can be edited and/or deleted. All todos are saved in the local storage.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"},{name:"react",color:"text-purple-400"},{name:"tailwindcss",color:"text-orange-500"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/Todo-app-green",site_link:"https://camilla-scarton.github.io/Todo-app-green/"},{info:["games-serie"],name:"Tic, tac, toe",description:"Simple version of the tic, tac, toe game. Game logic is implemented and a message is displayed at the end. Game board can be reset any time.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/tic-tac-toe",site_link:"https://camilla-scarton.github.io/tic-tac-toe/"},{info:["personal","react","ongoing"],name:"Portfolio",description:"Every project needs a repository. The source code of this site is on my GitHub profile and here there is a link for it.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"},{name:"react",color:"text-purple-400"},{name:"tailwindcss",color:"text-orange-500"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/portfolio",site_link:"https://camilla-scarton.github.io/portfolio/"},{info:["react","api"],name:"My Pokédex",description:"My Pokédex loads a list of 15 consecutive pokémon. User can sort them by type, see next or previous ones using buttons and choose one pokémon from the list to see more details below.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"},{name:"react",color:"text-purple-400"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/pokedex",site_link:"https://camilla-scarton.github.io/pokedex/"},{info:["node","api","done"],name:"Phonebook project",description:"RESTful phonebook made with Express.js and MongoDB. Users can login and modify their contacts. All CRUD methods are implemented to manage users and contacts. Authentication is based on JWT.",tags:[{name:"javascript",color:"text-green-400"},{name:"node.js",color:"text-cyan-300"},{name:"express.js",color:"text-orange-500"},{name:"mongodb",color:"text-lime-400"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/phonebook-node-project",site_link:""},{info:["games-serie"],name:"Snake",description:"Cool version of the game Snake. Players can choose snake speed, game mode and the fruits to eat. Live and best score are shown on board side. Game can be paused and settings can be reset.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/snake",site_link:"https://camilla-scarton.github.io/snake/"},{info:["react","api"],name:"My Pokémon app",description:"Cool Pokémon theme project. The landing page gives details and links to other sections. The List part has an infinite scrolling list of Pokémon cards. In the Form part, Pokémon can be found by id or name.",tags:[{name:"html",color:"text-blue-500"},{name:"css",color:"text-yellow-300"},{name:"javascript",color:"text-green-400"},{name:"react",color:"text-purple-400"}],image:yr,source_code_link:"https://github.com/Camilla-Scarton/pokemon-app",site_link:"https://camilla-scarton.github.io/pokemon-app/"}],mJ=()=>{const[n,e]=q.useState(""),[t,i]=q.useState(!1);return ce.jsx("nav",{className:`${er.paddingX} w-full flex items-center py-5 fixed top-0 z-20 bg-primary`,children:ce.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[ce.jsxs(rU,{className:"flex items-center gap-2",to:"/",onClick:()=>{e(""),window.scrollTo(0,0)},children:[ce.jsx("img",{src:cJ,alt:"logo",className:"w-9 h-9 object-contain"}),ce.jsxs("p",{className:"text-white text-[22px] font-bold cursor-pointer flex",children:["Camilla  ",ce.jsx("span",{className:"lg:block hidden",children:"Scarton"})]})]}),ce.jsx("ul",{className:"list-none hidden md:flex flex-row gap-10",children:O2.map(r=>ce.jsx("li",{className:`${n===r.title?"text-white":"text-secondary"} hover:text-white text-[22px] font-bold cursor-pointer`,onClick:()=>e(r.title),children:ce.jsx("a",{href:`#${r.id}`,children:r.title})},r.id))}),ce.jsxs("div",{className:"md:hidden flex flex-1 justify-end items-center",children:[ce.jsx("img",{src:t?fJ:uJ,alt:"menu",className:"w-[28px] h-[28px] object-contain cursor-pointer",onClick:()=>i(!t)}),ce.jsx("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:ce.jsx("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:O2.map(r=>ce.jsx("li",{className:`${n===r.title?"text-white":"text-secondary"} hover:text-white font-bold text-[22px] cursor-pointer`,onClick:()=>{e(r.title),i(!t)},children:ce.jsx("a",{href:`#${r.id}`,children:r.title})},r.id))})})]})]})})};var gJ=Object.defineProperty,vJ=Object.defineProperties,yJ=Object.getOwnPropertyDescriptors,k2=Object.getOwnPropertySymbols,xJ=Object.prototype.hasOwnProperty,_J=Object.prototype.propertyIsEnumerable,U2=(n,e,t)=>e in n?gJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rf=(n,e)=>{for(var t in e||(e={}))xJ.call(e,t)&&U2(n,t,e[t]);if(k2)for(var t of k2(e))_J.call(e,t)&&U2(n,t,e[t]);return n},Pf=(n,e)=>vJ(n,yJ(e)),SM=class extends q.Component{constructor(n){super(n),this.ref=Cl.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(n=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:Pf(Rf({},this.state.style),{willChange:"transform"})})),this.setTransition(),n(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:Pf(Rf({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(n=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),n(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:Pf(Rf({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:Pf(Rf({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(n=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),n(e)}getValues(n){const e=(n.nativeEvent.clientX-this.left)/this.width,t=(n.nativeEvent.clientY-this.top)/this.height,i=Math.min(Math.max(e,0),1),r=Math.min(Math.max(t,0),1),s=(this.reverse*(this.settings.max/2-i*this.settings.max)).toFixed(2),o=(this.reverse*(r*this.settings.max-this.settings.max/2)).toFixed(2),a=i*100,l=r*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const n=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=n.left,this.top=n.top}update(n){const e=this.getValues(n);this.setState(Object.assign({},this.state,{style:Pf(Rf({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const n=Object.assign({},this.props.style,this.state.style);return ce.jsx("div",{style:n,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const K0=n=>({hidden:{y:-50,opacity:.1},show:{y:0,opacity:1,transition:{type:"spring",duration:1,delay:n}}}),Eu=(n,e,t,i)=>({hidden:{x:n==="left"?40:n==="right"?-40:0,y:n==="up"?40:n==="down"?-40:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),AJ=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),Y0=(n,e)=>function(){return ce.jsxs(br.section,{variants:AJ(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${er.padding} max-w-7xl mx-auto relative z-0`,children:[ce.jsx("span",{className:"hash-span",id:e}),ce.jsx(n,{})]})},SJ=({index:n,title:e,icon:t})=>ce.jsx(SM,{className:"w-[220px]",children:ce.jsx(br.div,{variants:Eu("right","spring",.4*n,.75),whileInView:{opacity:1},className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:ce.jsx("div",{option:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] p-4 m-0.5 sm:min-h-[100px] flex justify-evenly items-center flex-col",children:ce.jsx("h3",{className:"text-white text-[18px] sm:text-[20px] font-bold text-center",children:e})})})}),MJ=()=>ce.jsxs(ce.Fragment,{children:[ce.jsxs(br.div,{variants:K0(),whileInView:{opacity:1},children:[ce.jsx("p",{className:er.sectionSubText,children:"Introduction"}),ce.jsx("h2",{className:er.sectionHeadText,children:"Overview"})]}),ce.jsx(br.p,{variants:Eu("","",.1,1),whileInView:{opacity:1},className:"mt-4 text-secondary sm:text-[24px] text-[18px] mx-w-3xl leading-[30px] cursor-default",children:"I'm a junior web developer with experience in JavaScript (300+ exercises done at Codewars) and expertise in React (6 months of full immersion in Develhope). I love Tailwind CSS for styling. This portfolio is meant to be a nice view of my GitHub projects and my experiences so far."}),ce.jsx("div",{className:"mt-10 flex flex-wrap justify-center gap-4 xs:gap-7",children:dJ.map((n,e)=>ce.jsx(SJ,{index:e,...n},n.title))})]}),EJ=Y0(MJ,"about");var Q0={},P3={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(P3);var B3=P3.exports;Q0.__esModule=!0;Q0.default=void 0;var wJ=MM(q),Bo=MM(eM),TJ=MM(B3);function MM(n){return n&&n.__esModule?n:{default:n}}const L3=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),wJ.default.createElement("div",{className:(0,TJ.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));L3.propTypes={children:Bo.default.oneOfType([Bo.default.arrayOf(Bo.default.node),Bo.default.node]).isRequired,className:Bo.default.string,animate:Bo.default.bool,layout:Bo.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:Bo.default.string};var CJ=L3;Q0.default=CJ;var Z0={};function j1(){return j1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},j1.apply(this,arguments)}function bJ(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,X1(n,e)}function X1(n,e){return X1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},X1(n,e)}function RJ(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var J1=new Map,Dm=new WeakMap,z2=0,I3=void 0;function PJ(n){I3=n}function BJ(n){return n?(Dm.has(n)||(z2+=1,Dm.set(n,z2.toString())),Dm.get(n)):"0"}function LJ(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?BJ(n.root):n[e])}).toString()}function IJ(n){var e=LJ(n),t=J1.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,u=a.isIntersecting&&r.some(function(d){return a.intersectionRatio>=d});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=i.get(a.target))==null||l.forEach(function(d){d(u,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},J1.set(e,t)}return t}function EM(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=I3),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=IJ(t),o=s.id,a=s.observer,l=s.elements,u=l.get(n)||[];return l.has(n)||l.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),J1.delete(o))}}var DJ=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function H2(n){return typeof n.children!="function"}var qg=function(n){bJ(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),H2(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,u=r.delay,d=r.fallbackInView;this._unobserveCb=EM(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:u},d)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!H2(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,u=a.as,d=RJ(a,DJ);return q.createElement(u||"div",j1({ref:this.handleNode},d),l)},e}(q.Component);qg.displayName="InView";qg.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function FJ(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,u=e.initialInView,d=e.fallbackInView,h=q.useRef(),p=q.useState({inView:!!u}),m=p[0],y=p[1],M=q.useCallback(function(g){h.current!==void 0&&(h.current(),h.current=void 0),!l&&g&&(h.current=EM(g,function(x,S){y({inView:x,entry:S}),S.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},d))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,d,i]);q.useEffect(function(){!h.current&&m.entry&&!a&&!l&&y({inView:!!u})});var A=[M,m.inView,m.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const NJ=Object.freeze(Object.defineProperty({__proto__:null,InView:qg,default:qg,defaultFallbackInView:PJ,observe:EM,useInView:FJ},Symbol.toStringTag,{value:"Module"})),OJ=rN(NJ);Z0.__esModule=!0;Z0.default=void 0;var Lo=wM(q),nn=wM(eM),Fm=wM(B3),kJ=OJ;function wM(n){return n&&n.__esModule?n:{default:n}}const D3=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:u=null,iconStyle:d=null,id:h="",position:p="",style:m=null,textClassName:y="",intersectionObserverProps:M={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:A=!1})=>Lo.default.createElement(kJ.InView,M,({inView:g,ref:x})=>Lo.default.createElement("div",{ref:x,id:h,className:(0,Fm.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},Lo.default.createElement(Lo.default.Fragment,null,Lo.default.createElement("span",{style:d,onClick:l,className:(0,Fm.default)(a,"vertical-timeline-element-icon",{"bounce-in":g||A,"is-hidden":!(g||A)})},o),Lo.default.createElement("div",{style:i,onClick:u,className:(0,Fm.default)(y,"vertical-timeline-element-content",{"bounce-in":g||A,"is-hidden":!(g||A)})},Lo.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,Lo.default.createElement("span",{className:(0,Fm.default)(s,"vertical-timeline-element-date")},r)))));D3.propTypes={children:nn.default.oneOfType([nn.default.arrayOf(nn.default.node),nn.default.node]),className:nn.default.string,contentArrowStyle:nn.default.shape({}),contentStyle:nn.default.shape({}),date:nn.default.node,dateClassName:nn.default.string,icon:nn.default.element,iconClassName:nn.default.string,iconStyle:nn.default.shape({}),iconOnClick:nn.default.func,onTimelineElementClick:nn.default.func,id:nn.default.string,position:nn.default.string,style:nn.default.shape({}),textClassName:nn.default.string,visible:nn.default.bool,intersectionObserverProps:nn.default.shape({root:nn.default.object,rootMargin:nn.default.string,threshold:nn.default.number,triggerOnce:nn.default.bool})};var UJ=D3;Z0.default=UJ;var F3={VerticalTimeline:Q0.default,VerticalTimelineElement:Z0.default};var zJ={prefix:"fas",iconName:"laptop",icon:[640,512,[128187],"f109","M128 32C92.7 32 64 60.7 64 96V352h64V96H512V352h64V96c0-35.3-28.7-64-64-64H128zM19.2 384C8.6 384 0 392.6 0 403.2C0 445.6 34.4 480 76.8 480H563.2c42.4 0 76.8-34.4 76.8-76.8c0-10.6-8.6-19.2-19.2-19.2H19.2z"]},HJ={prefix:"fas",iconName:"laptop-code",icon:[640,512,[],"f5fc","M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"]},GJ={prefix:"fas",iconName:"scroll",icon:[576,512,[128220],"f70e","M0 80v48c0 17.7 14.3 32 32 32H48 96V80c0-26.5-21.5-48-48-48S0 53.5 0 80zM112 32c10 13.4 16 30 16 48V384c0 35.3 28.7 64 64 64s64-28.7 64-64v-5.3c0-32.4 26.3-58.7 58.7-58.7H480V128c0-53-43-96-96-96H112zM464 480c61.9 0 112-50.1 112-112c0-8.8-7.2-16-16-16H314.7c-14.7 0-26.7 11.9-26.7 26.7V384c0 53-43 96-96 96H368h96z"]},VJ={prefix:"fas",iconName:"screwdriver-wrench",icon:[512,512,["tools"],"f7d9","M78.6 5C69.1-2.4 55.6-1.5 47 7L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4h54.1l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3l-109-109V104c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L233.7 374.3c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5c-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7H352c-8.8 0-16-7.2-16-16V102.6c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0C288.5 0 224 64.5 224 144l0 .8 85.3 85.3c36-9.1 75.8 .5 104 28.7L429 274.5c49-23 83-72.8 83-130.5zM56 432a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},WJ={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},jJ={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},XJ={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48H328c4.4 0 8 3.6 8 8V96H176V56c0-4.4 3.6-8 8-8zm-56 8V96H64C28.7 96 0 124.7 0 160v96H192 320 512V160c0-35.3-28.7-64-64-64H384V56c0-30.9-25.1-56-56-56H184c-30.9 0-56 25.1-56 56zM512 288H320v32c0 17.7-14.3 32-32 32H224c-17.7 0-32-14.3-32-32V288H0V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V288z"]};function G2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ze(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(t),!0).forEach(function(i){On(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $g(n){return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(n)}function JJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function V2(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function KJ(n,e,t){return e&&V2(n.prototype,e),t&&V2(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function On(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TM(n,e){return QJ(n)||qJ(n,e)||N3(n,e)||eK()}function Eh(n){return YJ(n)||ZJ(n)||N3(n)||$J()}function YJ(n){if(Array.isArray(n))return K1(n)}function QJ(n){if(Array.isArray(n))return n}function ZJ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function qJ(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,a;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw a}}return i}}function N3(n,e){if(n){if(typeof n=="string")return K1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K1(n,e)}}function K1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function $J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W2=function(){},CM={},O3={},k3=null,U3={mark:W2,measure:W2};try{typeof window<"u"&&(CM=window),typeof document<"u"&&(O3=document),typeof MutationObserver<"u"&&(k3=MutationObserver),typeof performance<"u"&&(U3=performance)}catch{}var tK=CM.navigator||{},j2=tK.userAgent,X2=j2===void 0?"":j2,ha=CM,$t=O3,J2=k3,Nm=U3;ha.document;var po=!!$t.documentElement&&!!$t.head&&typeof $t.addEventListener=="function"&&typeof $t.createElement=="function",z3=~X2.indexOf("MSIE")||~X2.indexOf("Trident/"),Om,km,Um,zm,Hm,ao="___FONT_AWESOME___",Y1=16,H3="fa",G3="svg-inline--fa",wl="data-fa-i2svg",Q1="data-fa-pseudo-element",nK="data-fa-pseudo-element-pending",bM="data-prefix",RM="data-icon",K2="fontawesome-i2svg",iK="async",rK=["HTML","HEAD","STYLE","SCRIPT"],V3=function(){try{return!0}catch{return!1}}(),Zt="classic",yn="sharp",PM=[Zt,yn];function wh(n){return new Proxy(n,{get:function(t,i){return i in t?t[i]:t[Zt]}})}var Hd=wh((Om={},On(Om,Zt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),On(Om,yn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Om)),Gd=wh((km={},On(km,Zt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),On(km,yn,{solid:"fass",regular:"fasr",light:"fasl"}),km)),Vd=wh((Um={},On(Um,Zt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),On(Um,yn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Um)),sK=wh((zm={},On(zm,Zt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),On(zm,yn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),zm)),oK=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,W3="fa-layers-text",aK=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,lK=wh((Hm={},On(Hm,Zt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),On(Hm,yn,{900:"fass",400:"fasr",300:"fasl"}),Hm)),j3=[1,2,3,4,5,6,7,8,9,10],cK=j3.concat([11,12,13,14,15,16,17,18,19,20]),uK=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ol={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Wd=new Set;Object.keys(Gd[Zt]).map(Wd.add.bind(Wd));Object.keys(Gd[yn]).map(Wd.add.bind(Wd));var fK=[].concat(PM,Eh(Wd),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ol.GROUP,ol.SWAP_OPACITY,ol.PRIMARY,ol.SECONDARY]).concat(j3.map(function(n){return"".concat(n,"x")})).concat(cK.map(function(n){return"w-".concat(n)})),sd=ha.FontAwesomeConfig||{};function dK(n){var e=$t.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function hK(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}if($t&&typeof $t.querySelector=="function"){var pK=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];pK.forEach(function(n){var e=TM(n,2),t=e[0],i=e[1],r=hK(dK(t));r!=null&&(sd[i]=r)})}var X3={styleDefault:"solid",familyDefault:"classic",cssPrefix:H3,replacementClass:G3,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};sd.familyPrefix&&(sd.cssPrefix=sd.familyPrefix);var wu=ze(ze({},X3),sd);wu.autoReplaceSvg||(wu.observeMutations=!1);var Ye={};Object.keys(X3).forEach(function(n){Object.defineProperty(Ye,n,{enumerable:!0,set:function(t){wu[n]=t,od.forEach(function(i){return i(Ye)})},get:function(){return wu[n]}})});Object.defineProperty(Ye,"familyPrefix",{enumerable:!0,set:function(e){wu.cssPrefix=e,od.forEach(function(t){return t(Ye)})},get:function(){return wu.cssPrefix}});ha.FontAwesomeConfig=Ye;var od=[];function mK(n){return od.push(n),function(){od.splice(od.indexOf(n),1)}}var Io=Y1,ys={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function gK(n){if(!(!n||!po)){var e=$t.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=$t.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=s)}return $t.head.insertBefore(e,i),n}}var vK="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function jd(){for(var n=12,e="";n-- >0;)e+=vK[Math.random()*62|0];return e}function Nu(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function BM(n){return n.classList?Nu(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function J3(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yK(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(J3(n[t]),'" ')},"").trim()}function q0(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function LM(n){return n.size!==ys.size||n.x!==ys.x||n.y!==ys.y||n.rotate!==ys.rotate||n.flipX||n.flipY}function xK(n){var e=n.transform,t=n.containerWidth,i=n.iconWidth,r={transform:"translate(".concat(t/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(i/2*-1," -256)")};return{outer:r,inner:l,path:u}}function _K(n){var e=n.transform,t=n.width,i=t===void 0?Y1:t,r=n.height,s=r===void 0?Y1:r,o=n.startCentered,a=o===void 0?!1:o,l="";return a&&z3?l+="translate(".concat(e.x/Io-i/2,"em, ").concat(e.y/Io-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/Io,"em), calc(-50% + ").concat(e.y/Io,"em)) "):l+="translate(".concat(e.x/Io,"em, ").concat(e.y/Io,"em) "),l+="scale(".concat(e.size/Io*(e.flipX?-1:1),", ").concat(e.size/Io*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var AK=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function K3(){var n=H3,e=G3,t=Ye.cssPrefix,i=Ye.replacementClass,r=AK;if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(i))}return r}var Y2=!1;function kx(){Ye.autoAddCss&&!Y2&&(gK(K3()),Y2=!0)}var SK={mixout:function(){return{dom:{css:K3,insertCss:kx}}},hooks:function(){return{beforeDOMElementCreation:function(){kx()},beforeI2svg:function(){kx()}}}},lo=ha||{};lo[ao]||(lo[ao]={});lo[ao].styles||(lo[ao].styles={});lo[ao].hooks||(lo[ao].hooks={});lo[ao].shims||(lo[ao].shims=[]);var Jr=lo[ao],Y3=[],MK=function n(){$t.removeEventListener("DOMContentLoaded",n),e0=1,Y3.map(function(e){return e()})},e0=!1;po&&(e0=($t.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test($t.readyState),e0||$t.addEventListener("DOMContentLoaded",MK));function EK(n){po&&(e0?setTimeout(n,0):Y3.push(n))}function Th(n){var e=n.tag,t=n.attributes,i=t===void 0?{}:t,r=n.children,s=r===void 0?[]:r;return typeof n=="string"?J3(n):"<".concat(e," ").concat(yK(i),">").concat(s.map(Th).join(""),"</").concat(e,">")}function Q2(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var wK=function(e,t){return function(i,r,s,o){return e.call(t,i,r,s,o)}},Ux=function(e,t,i,r){var s=Object.keys(e),o=s.length,a=r!==void 0?wK(t,r):t,l,u,d;for(i===void 0?(l=1,d=e[s[0]]):(l=0,d=i);l<o;l++)u=s[l],d=a(d,e[u],u,e);return d};function TK(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);(s&64512)==56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),t--)}else e.push(r)}return e}function Z1(n){var e=TK(n);return e.length===1?e[0].toString(16):null}function CK(n,e){var t=n.length,i=n.charCodeAt(e),r;return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}function Z2(n){return Object.keys(n).reduce(function(e,t){var i=n[t],r=!!i.icon;return r?e[i.iconName]=i.icon:e[t]=i,e},{})}function q1(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.skipHooks,r=i===void 0?!1:i,s=Z2(e);typeof Jr.hooks.addPack=="function"&&!r?Jr.hooks.addPack(n,Z2(e)):Jr.styles[n]=ze(ze({},Jr.styles[n]||{}),s),n==="fas"&&q1("fa",e)}var Gm,Vm,Wm,Vc=Jr.styles,bK=Jr.shims,RK=(Gm={},On(Gm,Zt,Object.values(Vd[Zt])),On(Gm,yn,Object.values(Vd[yn])),Gm),IM=null,Q3={},Z3={},q3={},$3={},eF={},PK=(Vm={},On(Vm,Zt,Object.keys(Hd[Zt])),On(Vm,yn,Object.keys(Hd[yn])),Vm);function BK(n){return~fK.indexOf(n)}function LK(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i===n&&r!==""&&!BK(r)?r:null}var tF=function(){var e=function(s){return Ux(Vc,function(o,a,l){return o[l]=Ux(a,s,{}),o},{})};Q3=e(function(r,s,o){if(s[3]&&(r[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){r[l.toString(16)]=o})}return r}),Z3=e(function(r,s,o){if(r[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){r[l]=o})}return r}),eF=e(function(r,s,o){var a=s[2];return r[o]=o,a.forEach(function(l){r[l]=o}),r});var t="far"in Vc||Ye.autoFetchSvg,i=Ux(bK,function(r,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!t&&(a="fas"),typeof o=="string"&&(r.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:a,iconName:l}),r},{names:{},unicodes:{}});q3=i.names,$3=i.unicodes,IM=$0(Ye.styleDefault,{family:Ye.familyDefault})};mK(function(n){IM=$0(n.styleDefault,{family:Ye.familyDefault})});tF();function DM(n,e){return(Q3[n]||{})[e]}function IK(n,e){return(Z3[n]||{})[e]}function al(n,e){return(eF[n]||{})[e]}function nF(n){return q3[n]||{prefix:null,iconName:null}}function DK(n){var e=$3[n],t=DM("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function pa(){return IM}var FM=function(){return{prefix:null,iconName:null,rest:[]}};function $0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.family,i=t===void 0?Zt:t,r=Hd[i][n],s=Gd[i][n]||Gd[i][r],o=n in Jr.styles?n:null;return s||o||null}var q2=(Wm={},On(Wm,Zt,Object.keys(Vd[Zt])),On(Wm,yn,Object.keys(Vd[yn])),Wm);function ev(n){var e,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.skipLookups,r=i===void 0?!1:i,s=(e={},On(e,Zt,"".concat(Ye.cssPrefix,"-").concat(Zt)),On(e,yn,"".concat(Ye.cssPrefix,"-").concat(yn)),e),o=null,a=Zt;(n.includes(s[Zt])||n.some(function(u){return q2[Zt].includes(u)}))&&(a=Zt),(n.includes(s[yn])||n.some(function(u){return q2[yn].includes(u)}))&&(a=yn);var l=n.reduce(function(u,d){var h=LK(Ye.cssPrefix,d);if(Vc[d]?(d=RK[a].includes(d)?sK[a][d]:d,o=d,u.prefix=d):PK[a].indexOf(d)>-1?(o=d,u.prefix=$0(d,{family:a})):h?u.iconName=h:d!==Ye.replacementClass&&d!==s[Zt]&&d!==s[yn]&&u.rest.push(d),!r&&u.prefix&&u.iconName){var p=o==="fa"?nF(u.iconName):{},m=al(u.prefix,u.iconName);p.prefix&&(o=null),u.iconName=p.iconName||m||u.iconName,u.prefix=p.prefix||u.prefix,u.prefix==="far"&&!Vc.far&&Vc.fas&&!Ye.autoFetchSvg&&(u.prefix="fas")}return u},FM());return(n.includes("fa-brands")||n.includes("fab"))&&(l.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===yn&&(Vc.fass||Ye.autoFetchSvg)&&(l.prefix="fass",l.iconName=al(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=pa()||"fas"),l}var FK=function(){function n(){JJ(this,n),this.definitions={}}return KJ(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var o=r.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){t.definitions[a]=ze(ze({},t.definitions[a]||{}),o[a]),q1(a,o[a]);var l=Vd[Zt][a];l&&q1(l,o[a]),tF()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var o=r[s],a=o.prefix,l=o.iconName,u=o.icon,d=u[2];t[a]||(t[a]={}),d.length>0&&d.forEach(function(h){typeof h=="string"&&(t[a][h]=u)}),t[a][l]=u}),t}}]),n}(),$2=[],Wc={},iu={},NK=Object.keys(iu);function OK(n,e){var t=e.mixoutsTo;return $2=n,Wc={},Object.keys(iu).forEach(function(i){NK.indexOf(i)===-1&&delete iu[i]}),$2.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(o){typeof r[o]=="function"&&(t[o]=r[o]),$g(r[o])==="object"&&Object.keys(r[o]).forEach(function(a){t[o]||(t[o]={}),t[o][a]=r[o][a]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(o){Wc[o]||(Wc[o]=[]),Wc[o].push(s[o])})}i.provides&&i.provides(iu)}),t}function $1(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var s=Wc[n]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(i))}),e}function Tl(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=Wc[n]||[];r.forEach(function(s){s.apply(null,t)})}function co(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return iu[n]?iu[n].apply(null,e):void 0}function eA(n){n.prefix==="fa"&&(n.prefix="fas");var e=n.iconName,t=n.prefix||pa();if(e)return e=al(t,e)||e,Q2(iF.definitions,t,e)||Q2(Jr.styles,t,e)}var iF=new FK,kK=function(){Ye.autoReplaceSvg=!1,Ye.observeMutations=!1,Tl("noAuto")},UK={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return po?(Tl("beforeI2svg",e),co("pseudoElements2svg",e),co("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot;Ye.autoReplaceSvg===!1&&(Ye.autoReplaceSvg=!0),Ye.observeMutations=!0,EK(function(){HK({autoReplaceSvgRoot:t}),Tl("watch",e)})}},zK={icon:function(e){if(e===null)return null;if($g(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:al(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],i=$0(e[0]);return{prefix:i,iconName:al(i,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(Ye.cssPrefix,"-"))>-1||e.match(oK))){var r=ev(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||pa(),iconName:al(r.prefix,r.iconName)||r.iconName}}if(typeof e=="string"){var s=pa();return{prefix:s,iconName:al(s,e)||e}}}},or={noAuto:kK,config:Ye,dom:UK,parse:zK,library:iF,findIconDefinition:eA,toHtml:Th},HK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot,i=t===void 0?$t:t;(Object.keys(Jr.styles).length>0||Ye.autoFetchSvg)&&po&&Ye.autoReplaceSvg&&or.dom.i2svg({node:i})};function tv(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return Th(i)})}}),Object.defineProperty(n,"node",{get:function(){if(po){var i=$t.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function GK(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,o=n.transform;if(LM(o)&&t.found&&!i.found){var a=t.width,l=t.height,u={x:a/l/2,y:.5};r.style=q0(ze(ze({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}function VK(n){var e=n.prefix,t=n.iconName,i=n.children,r=n.attributes,s=n.symbol,o=s===!0?"".concat(e,"-").concat(Ye.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ze(ze({},r),{},{id:o}),children:i}]}]}function NM(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,o=n.transform,a=n.symbol,l=n.title,u=n.maskId,d=n.titleId,h=n.extra,p=n.watchable,m=p===void 0?!1:p,y=i.found?i:t,M=y.width,A=y.height,g=r==="fak",x=[Ye.replacementClass,s?"".concat(Ye.cssPrefix,"-").concat(s):""].filter(function(b){return h.classes.indexOf(b)===-1}).filter(function(b){return b!==""||!!b}).concat(h.classes).join(" "),S={children:[],attributes:ze(ze({},h.attributes),{},{"data-prefix":r,"data-icon":s,class:x,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(M," ").concat(A)})},E=g&&!~h.classes.indexOf("fa-fw")?{width:"".concat(M/A*16*.0625,"em")}:{};m&&(S.attributes[wl]=""),l&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(d||jd())},children:[l]}),delete S.attributes.title);var T=ze(ze({},S),{},{prefix:r,iconName:s,main:t,mask:i,maskId:u,transform:o,symbol:a,styles:ze(ze({},E),h.styles)}),R=i.found&&t.found?co("generateAbstractMask",T)||{children:[],attributes:{}}:co("generateAbstractIcon",T)||{children:[],attributes:{}},P=R.children,B=R.attributes;return T.children=P,T.attributes=B,a?VK(T):GK(T)}function eR(n){var e=n.content,t=n.width,i=n.height,r=n.transform,s=n.title,o=n.extra,a=n.watchable,l=a===void 0?!1:a,u=ze(ze(ze({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(u[wl]="");var d=ze({},o.styles);LM(r)&&(d.transform=_K({transform:r,startCentered:!0,width:t,height:i}),d["-webkit-transform"]=d.transform);var h=q0(d);h.length>0&&(u.style=h);var p=[];return p.push({tag:"span",attributes:u,children:[e]}),s&&p.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),p}function WK(n){var e=n.content,t=n.title,i=n.extra,r=ze(ze(ze({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),s=q0(i.styles);s.length>0&&(r.style=s);var o=[];return o.push({tag:"span",attributes:r,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}var zx=Jr.styles;function tA(n){var e=n[0],t=n[1],i=n.slice(4),r=TM(i,1),s=r[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(Ye.cssPrefix,"-").concat(ol.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ye.cssPrefix,"-").concat(ol.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Ye.cssPrefix,"-").concat(ol.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:t,icon:o}}var jK={found:!1,width:512,height:512};function XK(n,e){!V3&&!Ye.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function nA(n,e){var t=e;return e==="fa"&&Ye.styleDefault!==null&&(e=pa()),new Promise(function(i,r){if(co("missingIconAbstract"),t==="fa"){var s=nF(n)||{};n=s.iconName||n,e=s.prefix||e}if(n&&e&&zx[e]&&zx[e][n]){var o=zx[e][n];return i(tA(o))}XK(n,e),i(ze(ze({},jK),{},{icon:Ye.showMissingIcons&&n?co("missingIconAbstract")||{}:{}}))})}var tR=function(){},iA=Ye.measurePerformance&&Nm&&Nm.mark&&Nm.measure?Nm:{mark:tR,measure:tR},kf='FA "6.4.0"',JK=function(e){return iA.mark("".concat(kf," ").concat(e," begins")),function(){return rF(e)}},rF=function(e){iA.mark("".concat(kf," ").concat(e," ends")),iA.measure("".concat(kf," ").concat(e),"".concat(kf," ").concat(e," begins"),"".concat(kf," ").concat(e," ends"))},OM={begin:JK,end:rF},dg=function(){};function nR(n){var e=n.getAttribute?n.getAttribute(wl):null;return typeof e=="string"}function KK(n){var e=n.getAttribute?n.getAttribute(bM):null,t=n.getAttribute?n.getAttribute(RM):null;return e&&t}function YK(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Ye.replacementClass)}function QK(){if(Ye.autoReplaceSvg===!0)return hg.replace;var n=hg[Ye.autoReplaceSvg];return n||hg.replace}function ZK(n){return $t.createElementNS("http://www.w3.org/2000/svg",n)}function qK(n){return $t.createElement(n)}function sF(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.ceFn,i=t===void 0?n.tag==="svg"?ZK:qK:t;if(typeof n=="string")return $t.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(o){r.setAttribute(o,n.attributes[o])});var s=n.children||[];return s.forEach(function(o){r.appendChild(sF(o,{ceFn:i}))}),r}function $K(n){var e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var hg={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(sF(r),t)}),t.getAttribute(wl)===null&&Ye.keepOriginalSource){var i=$t.createComment($K(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~BM(t).indexOf(Ye.replacementClass))return hg.replace(e);var r=new RegExp("".concat(Ye.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(a,l){return l===Ye.replacementClass||l.match(r)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var o=i.map(function(a){return Th(a)}).join(`
`);t.setAttribute(wl,""),t.innerHTML=o}};function iR(n){n()}function oF(n,e){var t=typeof e=="function"?e:dg;if(n.length===0)t();else{var i=iR;Ye.mutateApproach===iK&&(i=ha.requestAnimationFrame||iR),i(function(){var r=QK(),s=OM.begin("mutate");n.map(r),s(),t()})}}var kM=!1;function aF(){kM=!0}function rA(){kM=!1}var t0=null;function rR(n){if(J2&&Ye.observeMutations){var e=n.treeCallback,t=e===void 0?dg:e,i=n.nodeCallback,r=i===void 0?dg:i,s=n.pseudoElementsCallback,o=s===void 0?dg:s,a=n.observeMutationsRoot,l=a===void 0?$t:a;t0=new J2(function(u){if(!kM){var d=pa();Nu(u).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!nR(h.addedNodes[0])&&(Ye.searchPseudoElements&&o(h.target),t(h.target)),h.type==="attributes"&&h.target.parentNode&&Ye.searchPseudoElements&&o(h.target.parentNode),h.type==="attributes"&&nR(h.target)&&~uK.indexOf(h.attributeName))if(h.attributeName==="class"&&KK(h.target)){var p=ev(BM(h.target)),m=p.prefix,y=p.iconName;h.target.setAttribute(bM,m||d),y&&h.target.setAttribute(RM,y)}else YK(h.target)&&r(h.target)})}}),po&&t0.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function eY(){t0&&t0.disconnect()}function tY(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var s=r.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),t}function nY(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",r=ev(BM(n));return r.prefix||(r.prefix=pa()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=IK(r.prefix,n.innerText)||DM(r.prefix,Z1(n.innerText))),!r.iconName&&Ye.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function iY(n){var e=Nu(n.attributes).reduce(function(r,s){return r.name!=="class"&&r.name!=="style"&&(r[s.name]=s.value),r},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Ye.autoA11y&&(t?e["aria-labelledby"]="".concat(Ye.replacementClass,"-title-").concat(i||jd()):(e["aria-hidden"]="true",e.focusable="false")),e}function rY(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ys,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function sR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},t=nY(n),i=t.iconName,r=t.prefix,s=t.rest,o=iY(n),a=$1("parseNodeAttributes",{},n),l=e.styleParser?tY(n):[];return ze({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:ys,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var sY=Jr.styles;function lF(n){var e=Ye.autoReplaceSvg==="nest"?sR(n,{styleParser:!1}):sR(n);return~e.extra.classes.indexOf(W3)?co("generateLayersText",n,e):co("generateSvgReplacementMutation",n,e)}var ma=new Set;PM.map(function(n){ma.add("fa-".concat(n))});Object.keys(Hd[Zt]).map(ma.add.bind(ma));Object.keys(Hd[yn]).map(ma.add.bind(ma));ma=Eh(ma);function oR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!po)return Promise.resolve();var t=$t.documentElement.classList,i=function(h){return t.add("".concat(K2,"-").concat(h))},r=function(h){return t.remove("".concat(K2,"-").concat(h))},s=Ye.autoFetchSvg?ma:PM.map(function(d){return"fa-".concat(d)}).concat(Object.keys(sY));s.includes("fa")||s.push("fa");var o=[".".concat(W3,":not([").concat(wl,"])")].concat(s.map(function(d){return".".concat(d,":not([").concat(wl,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Nu(n.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),r("complete");else return Promise.resolve();var l=OM.begin("onTree"),u=a.reduce(function(d,h){try{var p=lF(h);p&&d.push(p)}catch(m){V3||m.name==="MissingIcon"&&console.error(m)}return d},[]);return new Promise(function(d,h){Promise.all(u).then(function(p){oF(p,function(){i("active"),i("complete"),r("pending"),typeof e=="function"&&e(),l(),d()})}).catch(function(p){l(),h(p)})})}function oY(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;lF(n).then(function(t){t&&oF([t],e)})}function aY(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:eA(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:eA(r||{})),n(i,ze(ze({},t),{},{mask:r}))}}var lY=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transform,r=i===void 0?ys:i,s=t.symbol,o=s===void 0?!1:s,a=t.mask,l=a===void 0?null:a,u=t.maskId,d=u===void 0?null:u,h=t.title,p=h===void 0?null:h,m=t.titleId,y=m===void 0?null:m,M=t.classes,A=M===void 0?[]:M,g=t.attributes,x=g===void 0?{}:g,S=t.styles,E=S===void 0?{}:S;if(e){var T=e.prefix,R=e.iconName,P=e.icon;return tv(ze({type:"icon"},e),function(){return Tl("beforeDOMElementCreation",{iconDefinition:e,params:t}),Ye.autoA11y&&(p?x["aria-labelledby"]="".concat(Ye.replacementClass,"-title-").concat(y||jd()):(x["aria-hidden"]="true",x.focusable="false")),NM({icons:{main:tA(P),mask:l?tA(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:T,iconName:R,transform:ze(ze({},ys),r),symbol:o,title:p,maskId:d,titleId:y,extra:{attributes:x,styles:E,classes:A}})})}},cY={mixout:function(){return{icon:aY(lY)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=oR,t.nodeCallback=oY,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,r=i===void 0?$t:i,s=t.callback,o=s===void 0?function(){}:s;return oR(r,o)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,s=i.title,o=i.titleId,a=i.prefix,l=i.transform,u=i.symbol,d=i.mask,h=i.maskId,p=i.extra;return new Promise(function(m,y){Promise.all([nA(r,a),d.iconName?nA(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(M){var A=TM(M,2),g=A[0],x=A[1];m([t,NM({icons:{main:g,mask:x},prefix:a,iconName:r,transform:l,symbol:u,maskId:h,title:s,titleId:o,extra:p,watchable:!0})])}).catch(y)})},e.generateAbstractIcon=function(t){var i=t.children,r=t.attributes,s=t.main,o=t.transform,a=t.styles,l=q0(a);l.length>0&&(r.style=l);var u;return LM(o)&&(u=co("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),i.push(u||s.icon),{children:i,attributes:r}}}},uY={mixout:function(){return{layer:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.classes,s=r===void 0?[]:r;return tv({type:"layer"},function(){Tl("beforeDOMElementCreation",{assembler:t,params:i});var o=[];return t(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Ye.cssPrefix,"-layers")].concat(Eh(s)).join(" ")},children:o}]})}}}},fY={mixout:function(){return{counter:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.title,s=r===void 0?null:r,o=i.classes,a=o===void 0?[]:o,l=i.attributes,u=l===void 0?{}:l,d=i.styles,h=d===void 0?{}:d;return tv({type:"counter",content:t},function(){return Tl("beforeDOMElementCreation",{content:t,params:i}),WK({content:t.toString(),title:s,extra:{attributes:u,styles:h,classes:["".concat(Ye.cssPrefix,"-layers-counter")].concat(Eh(a))}})})}}}},dY={mixout:function(){return{text:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=i.transform,s=r===void 0?ys:r,o=i.title,a=o===void 0?null:o,l=i.classes,u=l===void 0?[]:l,d=i.attributes,h=d===void 0?{}:d,p=i.styles,m=p===void 0?{}:p;return tv({type:"text",content:t},function(){return Tl("beforeDOMElementCreation",{content:t,params:i}),eR({content:t,transform:ze(ze({},ys),s),title:a,extra:{attributes:h,styles:m,classes:["".concat(Ye.cssPrefix,"-layers-text")].concat(Eh(u))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.title,s=i.transform,o=i.extra,a=null,l=null;if(z3){var u=parseInt(getComputedStyle(t).fontSize,10),d=t.getBoundingClientRect();a=d.width/u,l=d.height/u}return Ye.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,eR({content:t.innerHTML,width:a,height:l,transform:s,title:r,extra:o,watchable:!0})])}}},hY=new RegExp('"',"ug"),aR=[1105920,1112319];function pY(n){var e=n.replace(hY,""),t=CK(e,0),i=t>=aR[0]&&t<=aR[1],r=e.length===2?e[0]===e[1]:!1;return{value:Z1(r?e[0]:e),isSecondary:i||r}}function lR(n,e){var t="".concat(nK).concat(e.replace(":","-"));return new Promise(function(i,r){if(n.getAttribute(t)!==null)return i();var s=Nu(n.children),o=s.filter(function(P){return P.getAttribute(Q1)===e})[0],a=ha.getComputedStyle(n,e),l=a.getPropertyValue("font-family").match(aK),u=a.getPropertyValue("font-weight"),d=a.getPropertyValue("content");if(o&&!l)return n.removeChild(o),i();if(l&&d!=="none"&&d!==""){var h=a.getPropertyValue("content"),p=~["Sharp"].indexOf(l[2])?yn:Zt,m=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Gd[p][l[2].toLowerCase()]:lK[p][u],y=pY(h),M=y.value,A=y.isSecondary,g=l[0].startsWith("FontAwesome"),x=DM(m,M),S=x;if(g){var E=DK(M);E.iconName&&E.prefix&&(x=E.iconName,m=E.prefix)}if(x&&!A&&(!o||o.getAttribute(bM)!==m||o.getAttribute(RM)!==S)){n.setAttribute(t,S),o&&n.removeChild(o);var T=rY(),R=T.extra;R.attributes[Q1]=e,nA(x,m).then(function(P){var B=NM(ze(ze({},T),{},{icons:{main:P,mask:FM()},prefix:m,iconName:S,extra:R,watchable:!0})),b=$t.createElement("svg");e==="::before"?n.insertBefore(b,n.firstChild):n.appendChild(b),b.outerHTML=B.map(function(L){return Th(L)}).join(`
`),n.removeAttribute(t),i()}).catch(r)}else i()}else i()})}function mY(n){return Promise.all([lR(n,"::before"),lR(n,"::after")])}function gY(n){return n.parentNode!==document.head&&!~rK.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(Q1)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function cR(n){if(po)return new Promise(function(e,t){var i=Nu(n.querySelectorAll("*")).filter(gY).map(mY),r=OM.begin("searchPseudoElements");aF(),Promise.all(i).then(function(){r(),rA(),e()}).catch(function(){r(),rA(),t()})})}var vY={hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=cR,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node,r=i===void 0?$t:i;Ye.searchPseudoElements&&cR(r)}}},uR=!1,yY={mixout:function(){return{dom:{unwatch:function(){aF(),uR=!0}}}},hooks:function(){return{bootstrap:function(){rR($1("mutationObserverCallbacks",{}))},noAuto:function(){eY()},watch:function(t){var i=t.observeMutationsRoot;uR?rA():rR($1("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},fR=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},t)},xY={mixout:function(){return{parse:{transform:function(t){return fR(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=fR(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,s=t.containerWidth,o=t.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(l," ").concat(u," ").concat(d)},p={transform:"translate(".concat(o/2*-1," -256)")},m={outer:a,inner:h,path:p};return{tag:"g",attributes:ze({},m.outer),children:[{tag:"g",attributes:ze({},m.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:ze(ze({},i.icon.attributes),m.path)}]}]}}}},Hx={x:0,y:0,width:"100%",height:"100%"};function dR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function _Y(n){return n.tag==="g"?n.children:[n]}var AY={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),s=r?ev(r.split(" ").map(function(o){return o.trim()})):FM();return s.prefix||(s.prefix=pa()),t.mask=s,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var i=t.children,r=t.attributes,s=t.main,o=t.mask,a=t.maskId,l=t.transform,u=s.width,d=s.icon,h=o.width,p=o.icon,m=xK({transform:l,containerWidth:h,iconWidth:u}),y={tag:"rect",attributes:ze(ze({},Hx),{},{fill:"white"})},M=d.children?{children:d.children.map(dR)}:{},A={tag:"g",attributes:ze({},m.inner),children:[dR(ze({tag:d.tag,attributes:ze(ze({},d.attributes),m.path)},M))]},g={tag:"g",attributes:ze({},m.outer),children:[A]},x="mask-".concat(a||jd()),S="clip-".concat(a||jd()),E={tag:"mask",attributes:ze(ze({},Hx),{},{id:x,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,g]},T={tag:"defs",children:[{tag:"clipPath",attributes:{id:S},children:_Y(p)},E]};return i.push(T,{tag:"rect",attributes:ze({fill:"currentColor","clip-path":"url(#".concat(S,")"),mask:"url(#".concat(x,")")},Hx)}),{children:i,attributes:r}}}},SY={provides:function(e){var t=!1;ha.matchMedia&&(t=ha.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:ze(ze({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=ze(ze({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ze(ze({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:ze(ze({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ze(ze({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:ze(ze({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ze(ze({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:ze(ze({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ze(ze({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},MY={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol"),s=r===null?!1:r===""?!0:r;return t.symbol=s,t}}}},EY=[SK,cY,uY,fY,dY,vY,yY,xY,AY,SY,MY];OK(EY,{mixoutsTo:or});or.noAuto;or.config;or.library;or.dom;var sA=or.parse;or.findIconDefinition;or.toHtml;var wY=or.icon;or.layer;or.text;or.counter;function hR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(t),!0).forEach(function(i){jc(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function n0(n){return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(n)}function jc(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TY(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function CY(n,e){if(n==null)return{};var t=TY(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function oA(n){return bY(n)||RY(n)||PY(n)||BY()}function bY(n){if(Array.isArray(n))return aA(n)}function RY(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function PY(n,e){if(n){if(typeof n=="string")return aA(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return aA(n,e)}}function aA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function BY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LY(n){var e,t=n.beat,i=n.fade,r=n.beatFade,s=n.bounce,o=n.shake,a=n.flash,l=n.spin,u=n.spinPulse,d=n.spinReverse,h=n.pulse,p=n.fixedWidth,m=n.inverse,y=n.border,M=n.listItem,A=n.flip,g=n.size,x=n.rotation,S=n.pull,E=(e={"fa-beat":t,"fa-fade":i,"fa-beat-fade":r,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":h,"fa-fw":p,"fa-inverse":m,"fa-border":y,"fa-li":M,"fa-flip":A===!0,"fa-flip-horizontal":A==="horizontal"||A==="both","fa-flip-vertical":A==="vertical"||A==="both"},jc(e,"fa-".concat(g),typeof g<"u"&&g!==null),jc(e,"fa-rotate-".concat(x),typeof x<"u"&&x!==null&&x!==0),jc(e,"fa-pull-".concat(S),typeof S<"u"&&S!==null),jc(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(E).map(function(T){return E[T]?T:null}).filter(function(T){return T})}function IY(n){return n=n-0,n===n}function cF(n){return IY(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var DY=["style"];function FY(n){return n.charAt(0).toUpperCase()+n.slice(1)}function NY(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var i=t.indexOf(":"),r=cF(t.slice(0,i)),s=t.slice(i+1).trim();return r.startsWith("webkit")?e[FY(r)]=s:e[r]=s,e},{})}function uF(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(l){return uF(n,l)}),r=Object.keys(e.attributes||{}).reduce(function(l,u){var d=e.attributes[u];switch(u){case"class":l.attrs.className=d,delete e.attributes.class;break;case"style":l.attrs.style=NY(d);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=d:l.attrs[cF(u)]=d}return l},{attrs:{}}),s=t.style,o=s===void 0?{}:s,a=CY(t,DY);return r.attrs.style=jo(jo({},r.attrs.style),o),n.apply(void 0,[e.tag,jo(jo({},r.attrs),a)].concat(oA(i)))}var fF=!1;try{fF=!0}catch{}function OY(){if(!fF&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function pR(n){if(n&&n0(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(sA.icon)return sA.icon(n);if(n===null)return null;if(n&&n0(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function Gx(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?jc({},n,e):{}}var Qi=Cl.forwardRef(function(n,e){var t=n.icon,i=n.mask,r=n.symbol,s=n.className,o=n.title,a=n.titleId,l=n.maskId,u=pR(t),d=Gx("classes",[].concat(oA(LY(n)),oA(s.split(" ")))),h=Gx("transform",typeof n.transform=="string"?sA.transform(n.transform):n.transform),p=Gx("mask",pR(i)),m=wY(u,jo(jo(jo(jo({},d),h),p),{},{symbol:r,title:o,titleId:a,maskId:l}));if(!m)return OY("Could not find icon",u),null;var y=m.abstract,M={ref:e};return Object.keys(n).forEach(function(A){Qi.defaultProps.hasOwnProperty(A)||(M[A]=n[A])}),kY(y[0],M)});Qi.displayName="FontAwesomeIcon";Qi.propTypes={beat:Tt.bool,border:Tt.bool,beatFade:Tt.bool,bounce:Tt.bool,className:Tt.string,fade:Tt.bool,flash:Tt.bool,mask:Tt.oneOfType([Tt.object,Tt.array,Tt.string]),maskId:Tt.string,fixedWidth:Tt.bool,inverse:Tt.bool,flip:Tt.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Tt.oneOfType([Tt.object,Tt.array,Tt.string]),listItem:Tt.bool,pull:Tt.oneOf(["right","left"]),pulse:Tt.bool,rotation:Tt.oneOf([0,90,180,270]),shake:Tt.bool,size:Tt.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Tt.bool,spinPulse:Tt.bool,spinReverse:Tt.bool,symbol:Tt.oneOfType([Tt.bool,Tt.string]),title:Tt.string,titleId:Tt.string,transform:Tt.oneOfType([Tt.string,Tt.object]),swapOpacity:Tt.bool};Qi.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var kY=uF.bind(null,Cl.createElement);const UY=({experience:n})=>ce.jsxs(F3.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:n.type=="study"?ce.jsx(Qi,{icon:jJ,size:"xl"}):n.type=="job"?ce.jsx(Qi,{icon:XJ,size:"xl"}):ce.jsx(Qi,{icon:GJ,size:"xl"}),children:[ce.jsxs("div",{className:"text-white text-[24px] font-bold",children:[ce.jsx("h3",{children:n.title}),ce.jsx("p",{className:"text-secondary text-[16px] font-semibold",style:{marginTop:4},children:n.company_name})]}),n.points&&ce.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>ce.jsx("li",{className:"text-white-100 text-[18px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),zY=()=>ce.jsxs(ce.Fragment,{children:[ce.jsxs(br.div,{variants:K0(),whileInView:{opacity:1},children:[ce.jsx("p",{className:er.sectionSubText,children:"So far"}),ce.jsx("h2",{className:er.sectionHeadText,children:"Education & Experience"})]}),ce.jsx("div",{className:"mt-10 flex flex-col",children:ce.jsx(F3.VerticalTimeline,{children:hJ.map((n,e)=>ce.jsx(UY,{experience:n},e))})})]}),HY=Y0(zY,"experience"),mR=({index:n,info:e,name:t,description:i,tags:r,image:s,source_code_link:o,site_link:a})=>ce.jsx(br.div,{variants:Eu("","spring",n*.5,.75),whileInView:{opacity:1},children:ce.jsxs(SM,{options:{max:8,scale:1,speed:450,axis:"x"},className:"bg-tertiary p-5 rounded-2xl xs:w-[340px] border-2 border-tertiary hover:border-2 hover:border-secondary",children:[ce.jsx("div",{className:"flex flex-wrap gap-4 cursor-default",children:e.map((l,u)=>ce.jsxs("p",{className:"text-[18px] text-white",children:["#",l]},u))}),ce.jsxs("div",{className:"mt-4 cursor-default",children:[ce.jsx("h3",{className:"text-white font-bold text-[24px]",children:t}),ce.jsx("p",{className:"text-white text-[18px] mt-2",children:i})]}),ce.jsx("div",{className:"mt-4 flex flex-wrap gap-4 cursor-default",children:r.map(l=>ce.jsx("p",{className:`text-[16px] border border-secondary rounded-lg px-2 py-0.5 ${l.color}`,children:l.name},l.name))}),ce.jsxs("div",{className:"mt-4 flex flex-row justify-evenly items-center w-full text-[18px] text-white font-bold",children:[o&&ce.jsxs("a",{href:o,target:"_blank",children:["See code: ",ce.jsx(Qi,{icon:HJ,size:"xl"})]}),a&&ce.jsxs("a",{href:a,target:"_blank",children:["See live: ",ce.jsx(Qi,{icon:zJ,size:"xl"})]})]})]})}),GY=()=>{const[n,e]=q.useState([]);function t(i){switch(i.target.value){case"all":e([]);break;case"react":e(_c.filter(s=>s.info.includes("react")));break;case"html+css+js":e(_c.filter(s=>s.tags.length===3&&!s.info.includes("develhope")));break;case"games-serie":e(_c.filter(s=>s.info.includes("games-serie")));break;case"colors-serie":e(_c.filter(s=>s.info.includes("colors-serie")));break;case"develhope":e(_c.filter(s=>s.info.includes("develhope")));break}}return ce.jsxs(ce.Fragment,{children:[ce.jsxs(br.div,{variants:K0(),whileInView:{opacity:1},children:[ce.jsx("p",{className:er.sectionSubText,children:"Done & Ongoing"}),ce.jsx("h2",{className:er.sectionHeadText,children:"Projects"})]}),ce.jsxs(br.p,{variants:Eu("","",.1,1),whileInView:{opacity:1},className:`mt-3 text-secondary
           sm:text-[24px] text-[18px] mx-w-3xl leading-[30px] cursor-default`,children:["Following projects showcase my skills and experience trought real-world examples of my work. Each project is briefly described and linked to the GitHub repository and the live version. ",ce.jsx("br",{})," I love creating projects related to my hobbies and my passions. I believe in"," ",ce.jsx("q",{children:"learning by doing"})," so... it's what I'm actually doing!"]}),ce.jsx(SM,{className:"w-[200px] mx-auto my-10",children:ce.jsx(br.div,{variants:Eu("right","spring",0,1),whileInView:{opacity:1},children:ce.jsx("form",{className:"green-pink-gradient rounded-[20px] p-0.5",children:ce.jsx("select",{name:"filters",id:"filters",className:"appearance-none bg-tertiary w-full p-[9px] rounded-[20px] shadow-card text-center text-[18px] sm:text-[20px] font-bold focus-visible:outline-none hover:cursor-pointer",onChange:t,children:pJ.map((i,r)=>ce.jsxs("option",{value:i,children:["#",i]},`filter-key-${r}`))})})})}),ce.jsx("div",{className:"mt-10 flex flex-wrap gap-7 justify-center",children:n.length===0?_c.map((i,r)=>ce.jsx(mR,{index:r,...i},`project-${r}`)):n.map((i,r)=>ce.jsx(mR,{index:r,...i},`project-${r}`))})]})},VY=Y0(GY,"projects");var WY={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]},jY={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};const XY=()=>ce.jsxs("footer",{children:[ce.jsxs(br.div,{variants:K0(),whileInView:{opacity:1},children:[ce.jsx("p",{className:er.sectionSubText,children:"Contact me"}),ce.jsx("h2",{className:er.sectionHeadText,children:"Links & Profiles"})]}),ce.jsxs(br.div,{variants:Eu("","",.1,1),whileInView:{opacity:1},className:`flex flex-row flex-wrap gap-6 mt-3 text-secondary
      sm:text-[24px] text-[18px] mx-w-3xl leading-[30px]`,children:[ce.jsxs("a",{href:"https://github.com/Camilla-Scarton",children:[ce.jsx(Qi,{icon:jY,size:"2xl"}),ce.jsx("span",{className:"px-3",children:"Github"})]}),ce.jsxs("a",{href:"https://www.linkedin.com/in/camilla-scarton/",children:[ce.jsx(Qi,{icon:WY,size:"2xl"}),ce.jsx("span",{className:"px-3",children:"LinkedIn"})]}),ce.jsxs("a",{href:"mailto:camy.s96@gmail.com",children:[ce.jsx(Qi,{icon:WJ,size:"2xl"}),ce.jsx("span",{className:"px-3",children:"Gmail"})]}),ce.jsxs("a",{href:"https://www.codewars.com/users/Camilla%20Scarton",children:[ce.jsx(Qi,{icon:VJ,size:"2xl"}),ce.jsx("span",{className:"px-3",children:"Codewars"})]})]})]}),JY=Y0(XY,"contact"),KY=()=>ce.jsx(tU,{children:ce.jsxs("div",{className:"relative z-0 bg-primary",children:[ce.jsxs("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[ce.jsx(mJ,{}),ce.jsx(lJ,{})]}),ce.jsx(EJ,{}),ce.jsx(VY,{}),ce.jsx(HY,{}),ce.jsx("div",{className:"border-t",children:ce.jsx(JY,{})})]})});Wx.createRoot(document.getElementById("root")).render(ce.jsx(Cl.StrictMode,{children:ce.jsx(KY,{})}));
